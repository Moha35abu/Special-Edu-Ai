(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function Hh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var au={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function i0(){if(Fp)return el;Fp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:s,key:p,ref:r!==void 0?r:null,props:f}}return el.Fragment=n,el.jsx=o,el.jsxs=o,el}var Jp;function o0(){return Jp||(Jp=1,au.exports=i0()),au.exports}var C=o0(),ru={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function l0(){if(Yp)return ae;Yp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,I={};function z(M,O,Q){this.props=M,this.context=O,this.refs=I,this.updater=Q||D}z.prototype.isReactComponent={},z.prototype.setState=function(M,O){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,O,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=z.prototype;function k(M,O,Q){this.props=M,this.context=O,this.refs=I,this.updater=Q||D}var F=k.prototype=new J;F.constructor=k,U(F,z.prototype),F.isPureReactComponent=!0;var B=Array.isArray;function ne(){}var Y={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function $(M,O,Q){var j=Q.ref;return{$$typeof:i,type:M,key:O,ref:j!==void 0?j:null,props:Q}}function ce(M,O){return $(M.type,O,M.props)}function Te(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function Ne(M){var O={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Q){return O[Q]})}var W=/\/+/g;function ge(M,O){return typeof M=="object"&&M!==null&&M.key!=null?Ne(""+M.key):O.toString(36)}function De(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ne,ne):(M.status="pending",M.then(function(O){M.status==="pending"&&(M.status="fulfilled",M.value=O)},function(O){M.status==="pending"&&(M.status="rejected",M.reason=O)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,O,Q,j,re){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(pe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case i:case n:Me=!0;break;case y:return Me=M._init,H(Me(M._payload),O,Q,j,re)}}if(Me)return re=re(M),Me=j===""?"."+ge(M,0):j,B(re)?(Q="",Me!=null&&(Q=Me.replace(W,"$&/")+"/"),H(re,O,Q,"",function(so){return so})):re!=null&&(Te(re)&&(re=ce(re,Q+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(W,"$&/")+"/")+Me)),O.push(re)),1;Me=0;var lt=j===""?".":j+":";if(B(M))for(var Be=0;Be<M.length;Be++)j=M[Be],pe=lt+ge(j,Be),Me+=H(j,O,Q,pe,re);else if(Be=A(M),typeof Be=="function")for(M=Be.call(M),Be=0;!(j=M.next()).done;)j=j.value,pe=lt+ge(j,Be++),Me+=H(j,O,Q,pe,re);else if(pe==="object"){if(typeof M.then=="function")return H(De(M),O,Q,j,re);throw O=String(M),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Me}function K(M,O,Q){if(M==null)return M;var j=[],re=0;return H(M,j,"","",function(pe){return O.call(Q,pe,re++)}),j}function te(M){if(M._status===-1){var O=M._result;O=O(),O.then(function(Q){(M._status===0||M._status===-1)&&(M._status=1,M._result=Q)},function(Q){(M._status===0||M._status===-1)&&(M._status=2,M._result=Q)}),M._status===-1&&(M._status=0,M._result=O)}if(M._status===1)return M._result.default;throw M._result}var Ee=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Le={map:K,forEach:function(M,O,Q){K(M,function(){O.apply(this,arguments)},Q)},count:function(M){var O=0;return K(M,function(){O++}),O},toArray:function(M){return K(M,function(O){return O})||[]},only:function(M){if(!Te(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ae.Activity=T,ae.Children=Le,ae.Component=z,ae.Fragment=o,ae.Profiler=r,ae.PureComponent=k,ae.StrictMode=s,ae.Suspense=v,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Y.H.useMemoCache(M)}},ae.cache=function(M){return function(){return M.apply(null,arguments)}},ae.cacheSignal=function(){return null},ae.cloneElement=function(M,O,Q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var j=U({},M.props),re=M.key;if(O!=null)for(pe in O.key!==void 0&&(re=""+O.key),O)!de.call(O,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&O.ref===void 0||(j[pe]=O[pe]);var pe=arguments.length-2;if(pe===1)j.children=Q;else if(1<pe){for(var Me=Array(pe),lt=0;lt<pe;lt++)Me[lt]=arguments[lt+2];j.children=Me}return $(M.type,re,j)},ae.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},ae.createElement=function(M,O,Q){var j,re={},pe=null;if(O!=null)for(j in O.key!==void 0&&(pe=""+O.key),O)de.call(O,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(re[j]=O[j]);var Me=arguments.length-2;if(Me===1)re.children=Q;else if(1<Me){for(var lt=Array(Me),Be=0;Be<Me;Be++)lt[Be]=arguments[Be+2];re.children=lt}if(M&&M.defaultProps)for(j in Me=M.defaultProps,Me)re[j]===void 0&&(re[j]=Me[j]);return $(M,pe,re)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(M){return{$$typeof:g,render:M}},ae.isValidElement=Te,ae.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:te}},ae.memo=function(M,O){return{$$typeof:h,type:M,compare:O===void 0?null:O}},ae.startTransition=function(M){var O=Y.T,Q={};Y.T=Q;try{var j=M(),re=Y.S;re!==null&&re(Q,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ne,Ee)}catch(pe){Ee(pe)}finally{O!==null&&Q.types!==null&&(O.types=Q.types),Y.T=O}},ae.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ae.use=function(M){return Y.H.use(M)},ae.useActionState=function(M,O,Q){return Y.H.useActionState(M,O,Q)},ae.useCallback=function(M,O){return Y.H.useCallback(M,O)},ae.useContext=function(M){return Y.H.useContext(M)},ae.useDebugValue=function(){},ae.useDeferredValue=function(M,O){return Y.H.useDeferredValue(M,O)},ae.useEffect=function(M,O){return Y.H.useEffect(M,O)},ae.useEffectEvent=function(M){return Y.H.useEffectEvent(M)},ae.useId=function(){return Y.H.useId()},ae.useImperativeHandle=function(M,O,Q){return Y.H.useImperativeHandle(M,O,Q)},ae.useInsertionEffect=function(M,O){return Y.H.useInsertionEffect(M,O)},ae.useLayoutEffect=function(M,O){return Y.H.useLayoutEffect(M,O)},ae.useMemo=function(M,O){return Y.H.useMemo(M,O)},ae.useOptimistic=function(M,O){return Y.H.useOptimistic(M,O)},ae.useReducer=function(M,O,Q){return Y.H.useReducer(M,O,Q)},ae.useRef=function(M){return Y.H.useRef(M)},ae.useState=function(M){return Y.H.useState(M)},ae.useSyncExternalStore=function(M,O,Q){return Y.H.useSyncExternalStore(M,O,Q)},ae.useTransition=function(){return Y.H.useTransition()},ae.version="19.2.4",ae}var Kp;function wu(){return Kp||(Kp=1,ru.exports=l0()),ru.exports}var oe=wu();const s0=Hh(oe);var uu={exports:{}},tl={},cu={exports:{}},fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function a0(){return Xp||(Xp=1,(function(i){function n(H,K){var te=H.length;H.push(K);e:for(;0<te;){var Ee=te-1>>>1,Le=H[Ee];if(0<r(Le,K))H[Ee]=K,H[te]=Le,te=Ee;else break e}}function o(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var K=H[0],te=H.pop();if(te!==K){H[0]=te;e:for(var Ee=0,Le=H.length,M=Le>>>1;Ee<M;){var O=2*(Ee+1)-1,Q=H[O],j=O+1,re=H[j];if(0>r(Q,te))j<Le&&0>r(re,Q)?(H[Ee]=re,H[j]=te,Ee=j):(H[Ee]=Q,H[O]=te,Ee=O);else if(j<Le&&0>r(re,te))H[Ee]=re,H[j]=te,Ee=j;else break e}}return K}function r(H,K){var te=H.sortIndex-K.sortIndex;return te!==0?te:H.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var v=[],h=[],y=1,T=null,E=3,A=!1,D=!1,U=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(H){for(var K=o(h);K!==null;){if(K.callback===null)s(h);else if(K.startTime<=H)s(h),K.sortIndex=K.expirationTime,n(v,K);else break;K=o(h)}}function B(H){if(U=!1,F(H),!D)if(o(v)!==null)D=!0,ne||(ne=!0,Ne());else{var K=o(h);K!==null&&De(B,K.startTime-H)}}var ne=!1,Y=-1,de=5,$=-1;function ce(){return I?!0:!(i.unstable_now()-$<de)}function Te(){if(I=!1,ne){var H=i.unstable_now();$=H;var K=!0;try{e:{D=!1,U&&(U=!1,J(Y),Y=-1),A=!0;var te=E;try{t:{for(F(H),T=o(v);T!==null&&!(T.expirationTime>H&&ce());){var Ee=T.callback;if(typeof Ee=="function"){T.callback=null,E=T.priorityLevel;var Le=Ee(T.expirationTime<=H);if(H=i.unstable_now(),typeof Le=="function"){T.callback=Le,F(H),K=!0;break t}T===o(v)&&s(v),F(H)}else s(v);T=o(v)}if(T!==null)K=!0;else{var M=o(h);M!==null&&De(B,M.startTime-H),K=!1}}break e}finally{T=null,E=te,A=!1}K=void 0}}finally{K?Ne():ne=!1}}}var Ne;if(typeof k=="function")Ne=function(){k(Te)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ge=W.port2;W.port1.onmessage=Te,Ne=function(){ge.postMessage(null)}}else Ne=function(){z(Te,0)};function De(H,K){Y=z(function(){H(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var K=3;break;default:K=E}var te=E;E=K;try{return H()}finally{E=te}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=E;E=H;try{return K()}finally{E=te}},i.unstable_scheduleCallback=function(H,K,te){var Ee=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ee+te:Ee):te=Ee,H){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=te+Le,H={id:y++,callback:K,priorityLevel:H,startTime:te,expirationTime:Le,sortIndex:-1},te>Ee?(H.sortIndex=te,n(h,H),o(v)===null&&H===o(h)&&(U?(J(Y),Y=-1):U=!0,De(B,te-Ee))):(H.sortIndex=Le,n(v,H),D||A||(D=!0,ne||(ne=!0,Ne()))),H},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(H){var K=E;return function(){var te=E;E=K;try{return H.apply(this,arguments)}finally{E=te}}}})(fu)),fu}var Qp;function r0(){return Qp||(Qp=1,cu.exports=a0()),cu.exports}var du={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function u0(){if(Zp)return it;Zp=1;var i=wu();function n(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(v,h,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:v,containerInfo:h,implementation:y}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,it.createPortal=function(v,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return f(v,h,null,y)},it.flushSync=function(v){var h=p.T,y=s.p;try{if(p.T=null,s.p=2,v)return v()}finally{p.T=h,s.p=y,s.d.f()}},it.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(v,h))},it.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},it.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var y=h.as,T=g(y,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?s.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:A}):y==="script"&&s.d.X(v,{crossOrigin:T,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},it.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=g(h.as,h.crossOrigin);s.d.M(v,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(v)},it.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,T=g(y,h.crossOrigin);s.d.L(v,y,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},it.preloadModule=function(v,h){if(typeof v=="string")if(h){var y=g(h.as,h.crossOrigin);s.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(v)},it.requestFormReset=function(v){s.d.r(v)},it.unstable_batchedUpdates=function(v,h){return v(h)},it.useFormState=function(v,h,y){return p.H.useFormState(v,h,y)},it.useFormStatus=function(){return p.H.useHostTransitionStatus()},it.version="19.2.4",it}var $p;function c0(){if($p)return du.exports;$p=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),du.exports=u0(),du.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function f0(){if(Wp)return tl;Wp=1;var i=r0(),n=wu(),o=c0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var l=e,a=t;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(a=d.return,a!==null){l=a;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return v(d),e;if(m===a)return v(d),t;m=m.sibling}throw Error(s(188))}if(l.return!==a.return)l=d,a=m;else{for(var S=!1,_=d.child;_;){if(_===l){S=!0,l=d,a=m;break}if(_===a){S=!0,a=d,l=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===l){S=!0,l=m,a=d;break}if(_===a){S=!0,a=m,l=d;break}_=_.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case z:return"Profiler";case I:return"StrictMode";case B:return"Suspense";case ne:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case k:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}var De=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ee=[],Le=-1;function M(e){return{current:e}}function O(e){0>Le||(e.current=Ee[Le],Ee[Le]=null,Le--)}function Q(e,t){Le++,Ee[Le]=e.current,e.current=t}var j=M(null),re=M(null),pe=M(null),Me=M(null);function lt(e,t){switch(Q(pe,t),Q(re,e),Q(j,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pp(t),e=mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(j),Q(j,e)}function Be(){O(j),O(re),O(pe)}function so(e){e.memoizedState!==null&&Q(Me,e);var t=j.current,l=mp(t,e.type);t!==l&&(Q(re,e),Q(j,l))}function sl(e){re.current===e&&(O(j),O(re)),Me.current===e&&(O(Me),Zo._currentValue=te)}var ks,Ou;function Jn(e){if(ks===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);ks=t&&t[1]||"",Ou=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+e+Ou}var Fs=!1;function Js(e,t){if(!e||Fs)return"";Fs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(G){var L=G}Reflect.construct(e,[],P)}else{try{P.call()}catch(G){L=G}e.call(P.prototype)}}else{try{throw Error()}catch(G){L=G}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(G){if(G&&L&&typeof G.stack=="string")return[G.stack,L.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var R=S.split(`
`),b=_.split(`
`);for(d=a=0;a<R.length&&!R[a].includes("DetermineComponentFrameRoot");)a++;for(;d<b.length&&!b[d].includes("DetermineComponentFrameRoot");)d++;if(a===R.length||d===b.length)for(a=R.length-1,d=b.length-1;1<=a&&0<=d&&R[a]!==b[d];)d--;for(;1<=a&&0<=d;a--,d--)if(R[a]!==b[d]){if(a!==1||d!==1)do if(a--,d--,0>d||R[a]!==b[d]){var V=`
`+R[a].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=a&&0<=d);break}}}finally{Fs=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Jn(l):""}function Lg(e,t){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==t&&t!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return Jn("Activity");default:return""}}function ku(e){try{var t="",l=null;do t+=Lg(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ys=Object.prototype.hasOwnProperty,Ks=i.unstable_scheduleCallback,Xs=i.unstable_cancelCallback,Gg=i.unstable_shouldYield,Hg=i.unstable_requestPaint,gt=i.unstable_now,Vg=i.unstable_getCurrentPriorityLevel,Fu=i.unstable_ImmediatePriority,Ju=i.unstable_UserBlockingPriority,al=i.unstable_NormalPriority,qg=i.unstable_LowPriority,Yu=i.unstable_IdlePriority,zg=i.log,Pg=i.unstable_setDisableYieldValue,ao=null,vt=null;function yn(e){if(typeof zg=="function"&&Pg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ao,e)}catch{}}var yt=Math.clz32?Math.clz32:kg,Bg=Math.log,Og=Math.LN2;function kg(e){return e>>>=0,e===0?32:31-(Bg(e)/Og|0)|0}var rl=256,ul=262144,cl=4194304;function Yn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fl(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=a&134217727;return _!==0?(a=_&~m,a!==0?d=Yn(a):(S&=_,S!==0?d=Yn(S):l||(l=_&~e,l!==0&&(d=Yn(l))))):(_=a&~m,_!==0?d=Yn(_):S!==0?d=Yn(S):l||(l=a&~e,l!==0&&(d=Yn(l)))),d===0?0:t!==0&&t!==d&&(t&m)===0&&(m=d&-d,l=t&-t,m>=l||m===32&&(l&4194048)!==0)?t:d}function ro(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var e=cl;return cl<<=1,(cl&62914560)===0&&(cl=4194304),e}function Qs(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function uo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jg(e,t,l,a,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,R=e.expirationTimes,b=e.hiddenUpdates;for(l=S&~l;0<l;){var V=31-yt(l),P=1<<V;_[V]=0,R[V]=-1;var L=b[V];if(L!==null)for(b[V]=null,V=0;V<L.length;V++){var G=L[V];G!==null&&(G.lane&=-536870913)}l&=~P}a!==0&&Xu(e,a,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~t))}function Xu(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-yt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Qu(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-yt(l),d=1<<a;d&t|e[a]&t&&(e[a]|=t),l&=~d}}function Zu(e,t){var l=t&-t;return l=(l&42)!==0?1:Zs(l),(l&(e.suspendedLanes|t))!==0?0:l}function Zs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $s(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $u(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Vp(e.type))}function Wu(e,t){var l=K.p;try{return K.p=e,t()}finally{K.p=l}}var Sn=Math.random().toString(36).slice(2),We="__reactFiber$"+Sn,ut="__reactProps$"+Sn,di="__reactContainer$"+Sn,Ws="__reactEvents$"+Sn,Yg="__reactListeners$"+Sn,Kg="__reactHandles$"+Sn,ju="__reactResources$"+Sn,co="__reactMarker$"+Sn;function js(e){delete e[We],delete e[ut],delete e[Ws],delete e[Yg],delete e[Kg]}function pi(e){var t=e[We];if(t)return t;for(var l=e.parentNode;l;){if(t=l[di]||l[We]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Ep(e);e!==null;){if(l=e[We])return l;e=Ep(e)}return t}e=l,l=e.parentNode}return null}function mi(e){if(e=e[We]||e[di]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function hi(e){var t=e[ju];return t||(t=e[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[co]=!0}var ec=new Set,tc={};function Kn(e,t){gi(e,t),gi(e+"Capture",t)}function gi(e,t){for(tc[e]=t,e=0;e<t.length;e++)ec.add(t[e])}var Xg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},ic={};function Qg(e){return Ys.call(ic,e)?!0:Ys.call(nc,e)?!1:Xg.test(e)?ic[e]=!0:(nc[e]=!0,!1)}function dl(e,t,l){if(Qg(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function pl(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Zt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zg(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ea(e){if(!e._valueTracker){var t=oc(e)?"checked":"value";e._valueTracker=Zg(e,t,""+e[t])}}function lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=oc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $g=/[\n"\\]/g;function xt(e){return e.replace($g,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ta(e,t,l,a,d,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?na(e,S,Mt(t)):l!=null?na(e,S,Mt(l)):a!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Mt(_):e.removeAttribute("name")}function sc(e,t,l,a,d,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||t!=null)){ea(e);return}l=l!=null?""+Mt(l):"",t=t!=null?""+Mt(t):l,_||t===e.value||(e.value=t),e.defaultValue=t}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=_?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ea(e)}function na(e,t,l){t==="number"&&ml(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function vi(e,t,l,a){if(e=e.options,t){t={};for(var d=0;d<l.length;d++)t["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=t.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Mt(l),t=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function ac(e,t,l){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Mt(l):""}function rc(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(s(92));if(De(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Mt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ea(e)}function yi(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Wg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function cc(e,t,l){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in t)a=t[d],t.hasOwnProperty(d)&&l[d]!==a&&uc(e,d,a)}else for(var m in t)t.hasOwnProperty(m)&&uc(e,m,t[m])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ev=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return ev.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var oa=null;function la(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,Ti=null;function fc(e){var t=mi(e);if(t&&(e=t.stateNode)){var l=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(ta(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var d=a[ut]||null;if(!d)throw Error(s(90));ta(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&lc(a)}break e;case"textarea":ac(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&vi(e,!!l.multiple,t,!1)}}}var sa=!1;function dc(e,t,l){if(sa)return e(t,l);sa=!0;try{var a=e(t);return a}finally{if(sa=!1,(Si!==null||Ti!==null)&&(ns(),Si&&(t=Si,e=Ti,Ti=Si=null,fc(t),e)))for(t=0;t<e.length;t++)fc(e[t])}}function po(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ut]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,t,typeof l));return l}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(Wt)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){aa=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{aa=!1}var Tn=null,ra=null,gl=null;function pc(){if(gl)return gl;var e,t=ra,l=t.length,a,d="value"in Tn?Tn.value:Tn.textContent,m=d.length;for(e=0;e<l&&t[e]===d[e];e++);var S=l-e;for(a=1;a<=S&&t[l-a]===d[m-a];a++);return gl=d.slice(e,1<a?1-a:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function mc(){return!1}function ct(e){function t(l,a,d,m,S){this._reactName=l,this._targetInst=d,this.type=a,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?yl:mc,this.isPropagationStopped=mc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=ct(Xn),ho=T({},Xn,{view:0,detail:0}),tv=ct(ho),ua,ca,go,Tl=T({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(ua=e.screenX-go.screenX,ca=e.screenY-go.screenY):ca=ua=0,go=e),ua)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),hc=ct(Tl),nv=T({},Tl,{dataTransfer:0}),iv=ct(nv),ov=T({},ho,{relatedTarget:0}),fa=ct(ov),lv=T({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),sv=ct(lv),av=T({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rv=ct(av),uv=T({},Xn,{data:0}),gc=ct(uv),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dv[e])?!!t[e]:!1}function da(){return pv}var mv=T({},ho,{key:function(e){if(e.key){var t=cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hv=ct(mv),gv=T({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=ct(gv),vv=T({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),yv=ct(vv),Sv=T({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=ct(Sv),Ev=T({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_v=ct(Ev),Cv=T({},Xn,{newState:0,oldState:0}),Av=ct(Cv),Rv=[9,13,27,32],pa=Wt&&"CompositionEvent"in window,vo=null;Wt&&"documentMode"in document&&(vo=document.documentMode);var Nv=Wt&&"TextEvent"in window&&!vo,yc=Wt&&(!pa||vo&&8<vo&&11>=vo),Sc=" ",Tc=!1;function Ec(e,t){switch(e){case"keyup":return Rv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function Mv(e,t){switch(e){case"compositionend":return _c(t);case"keypress":return t.which!==32?null:(Tc=!0,Sc);case"textInput":return e=t.data,e===Sc&&Tc?null:e;default:return null}}function xv(e,t){if(Ei)return e==="compositionend"||!pa&&Ec(e,t)?(e=pc(),gl=ra=Tn=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yc&&t.locale!=="ko"?null:t.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iv[e.type]:t==="textarea"}function Ac(e,t,l,a){Si?Ti?Ti.push(a):Ti=[a]:Si=a,t=us(t,"onChange"),0<t.length&&(l=new Sl("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var yo=null,So=null;function Dv(e){ap(e,0)}function El(e){var t=fo(e);if(lc(t))return e}function Rc(e,t){if(e==="change")return t}var Nc=!1;if(Wt){var ma;if(Wt){var ha="oninput"in document;if(!ha){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),ha=typeof Mc.oninput=="function"}ma=ha}else ma=!1;Nc=ma&&(!document.documentMode||9<document.documentMode)}function xc(){yo&&(yo.detachEvent("onpropertychange",Ic),So=yo=null)}function Ic(e){if(e.propertyName==="value"&&El(So)){var t=[];Ac(t,So,e,la(e)),dc(Dv,t)}}function wv(e,t,l){e==="focusin"?(xc(),yo=t,So=l,yo.attachEvent("onpropertychange",Ic)):e==="focusout"&&xc()}function bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(So)}function Uv(e,t){if(e==="click")return El(t)}function Lv(e,t){if(e==="input"||e==="change")return El(t)}function Gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:Gv;function To(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var d=l[a];if(!Ys.call(t,d)||!St(e[d],t[d]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wc(e,t){var l=Dc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dc(l)}}function bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ml(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=ml(e.document)}return t}function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hv=Wt&&"documentMode"in document&&11>=document.documentMode,_i=null,va=null,Eo=null,ya=!1;function Lc(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ya||_i==null||_i!==ml(a)||(a=_i,"selectionStart"in a&&ga(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Eo&&To(Eo,a)||(Eo=a,a=us(va,"onSelect"),0<a.length&&(t=new Sl("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=_i)))}function Qn(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Ci={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},Sa={},Gc={};Wt&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Zn(e){if(Sa[e])return Sa[e];if(!Ci[e])return e;var t=Ci[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Gc)return Sa[e]=t[l];return e}var Hc=Zn("animationend"),Vc=Zn("animationiteration"),qc=Zn("animationstart"),Vv=Zn("transitionrun"),qv=Zn("transitionstart"),zv=Zn("transitioncancel"),zc=Zn("transitionend"),Pc=new Map,Ta="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ta.push("scrollEnd");function zt(e,t){Pc.set(e,t),Kn(t,[e])}var _l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ai=0,Ea=0;function Cl(){for(var e=Ai,t=Ea=Ai=0;t<e;){var l=It[t];It[t++]=null;var a=It[t];It[t++]=null;var d=It[t];It[t++]=null;var m=It[t];if(It[t++]=null,a!==null&&d!==null){var S=a.pending;S===null?d.next=d:(d.next=S.next,S.next=d),a.pending=d}m!==0&&Bc(l,d,m)}}function Al(e,t,l,a){It[Ai++]=e,It[Ai++]=t,It[Ai++]=l,It[Ai++]=a,Ea|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function _a(e,t,l,a){return Al(e,t,l,a),Rl(e)}function $n(e,t){return Al(e,null,null,t),Rl(e)}function Bc(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,a=m.alternate,a!==null&&(a.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&t!==null&&(d=31-yt(l),e=m.hiddenUpdates,a=e[d],a===null?e[d]=[t]:a.push(t),t.lane=l|536870912),m):null}function Rl(e){if(50<ko)throw ko=0,wr=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ri={};function Pv(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,l,a){return new Pv(e,t,l,a)}function Ca(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jt(e,t){var l=e.alternate;return l===null?(l=Tt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Oc(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Nl(e,t,l,a,d,m){var S=0;if(a=e,typeof e=="function")Ca(e)&&(S=1);else if(typeof e=="string")S=Jy(e,l,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=Tt(31,l,t,d),e.elementType=$,e.lanes=m,e;case U:return Wn(l.children,d,m,t);case I:S=8,d|=24;break;case z:return e=Tt(12,l,t,d|2),e.elementType=z,e.lanes=m,e;case B:return e=Tt(13,l,t,d),e.elementType=B,e.lanes=m,e;case ne:return e=Tt(19,l,t,d),e.elementType=ne,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:S=10;break e;case J:S=9;break e;case F:S=11;break e;case Y:S=14;break e;case de:S=16,a=null;break e}S=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Tt(S,l,t,d),t.elementType=e,t.type=a,t.lanes=m,t}function Wn(e,t,l,a){return e=Tt(7,e,a,t),e.lanes=l,e}function Aa(e,t,l){return e=Tt(6,e,null,t),e.lanes=l,e}function kc(e){var t=Tt(18,null,null,0);return t.stateNode=e,t}function Ra(e,t,l){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fc=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var l=Fc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:ku(t)},Fc.set(e,t),t)}return{value:e,source:t,stack:ku(t)}}var Ni=[],Mi=0,Ml=null,_o=0,wt=[],bt=0,En=null,Jt=1,Yt="";function en(e,t){Ni[Mi++]=_o,Ni[Mi++]=Ml,Ml=e,_o=t}function Jc(e,t,l){wt[bt++]=Jt,wt[bt++]=Yt,wt[bt++]=En,En=e;var a=Jt;e=Yt;var d=32-yt(a)-1;a&=~(1<<d),l+=1;var m=32-yt(t)+d;if(30<m){var S=d-d%5;m=(a&(1<<S)-1).toString(32),a>>=S,d-=S,Jt=1<<32-yt(t)+d|l<<d|a,Yt=m+e}else Jt=1<<m|l<<d|a,Yt=e}function Na(e){e.return!==null&&(en(e,1),Jc(e,1,0))}function Ma(e){for(;e===Ml;)Ml=Ni[--Mi],Ni[Mi]=null,_o=Ni[--Mi],Ni[Mi]=null;for(;e===En;)En=wt[--bt],wt[bt]=null,Yt=wt[--bt],wt[bt]=null,Jt=wt[--bt],wt[bt]=null}function Yc(e,t){wt[bt++]=Jt,wt[bt++]=Yt,wt[bt++]=En,Jt=t.id,Yt=t.overflow,En=e}var je=null,He=null,Se=!1,_n=null,Ut=!1,xa=Error(s(519));function Cn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Co(Dt(t,e)),xa}function Kc(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[We]=e,t[ut]=a,l){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(l=0;l<Jo.length;l++)he(Jo[l],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),sc(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),rc(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||fp(t.textContent,l)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=$t),t=!0):t=!1,t||Cn(e,!0)}function Xc(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:je=je.return}}function xi(e){if(e!==je)return!1;if(!Se)return Xc(e),Se=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Yr(e.type,e.memoizedProps)),l=!l),l&&He&&Cn(e),Xc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Tp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Tp(e)}else t===27?(t=He,Vn(e.type)?(e=$r,$r=null,He=e):He=t):He=je?Gt(e.stateNode.nextSibling):null;return!0}function jn(){He=je=null,Se=!1}function Ia(){var e=_n;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),_n=null),e}function Co(e){_n===null?_n=[e]:_n.push(e)}var Da=M(null),ei=null,tn=null;function An(e,t,l){Q(Da,t._currentValue),t._currentValue=l}function nn(e){e._currentValue=Da.current,O(Da)}function wa(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function ba(e,t,l,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var R=0;R<t.length;R++)if(_.context===t[R]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),wa(m.return,l,e),a||(S=null);break e}m=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(s(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),wa(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Ii(e,t,l,a){e=null;for(var d=t,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var _=d.type;St(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===Me.current){if(S=d.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Zo):e=[Zo])}d=d.return}e!==null&&ba(t,e,l,a),t.flags|=262144}function xl(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ti(e){ei=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return Qc(ei,e)}function Il(e,t){return ei===null&&ti(e),Qc(e,t)}function Qc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},tn===null){if(e===null)throw Error(s(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return l}var Bv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Ov=i.unstable_scheduleCallback,kv=i.unstable_NormalPriority,Fe={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ua(){return{controller:new Bv,data:new Map,refCount:0}}function Ao(e){e.refCount--,e.refCount===0&&Ov(kv,function(){e.controller.abort()})}var Ro=null,La=0,Di=0,wi=null;function Fv(e,t){if(Ro===null){var l=Ro=[];La=0,Di=Vr(),wi={status:"pending",value:void 0,then:function(a){l.push(a)}}}return La++,t.then(Zc,Zc),t}function Zc(){if(--La===0&&Ro!==null){wi!==null&&(wi.status="fulfilled");var e=Ro;Ro=null,Di=0,wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jv(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var d=0;d<l.length;d++)(0,l[d])(t)},function(d){for(a.status="rejected",a.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),a}var $c=H.S;H.S=function(e,t){Gd=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fv(e,t),$c!==null&&$c(e,t)};var ni=M(null);function Ga(){var e=ni.current;return e!==null?e:Ge.pooledCache}function Dl(e,t){t===null?Q(ni,ni.current):Q(ni,t.pool)}function Wc(){var e=Ga();return e===null?null:{parent:Fe._currentValue,pool:e}}var bi=Error(s(460)),Ha=Error(s(474)),wl=Error(s(542)),bl={then:function(){}};function jc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ef(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then($t,$t),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e;default:if(typeof t.status=="string")t.then($t,$t);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=a}},function(a){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e}throw oi=t,bi}}function ii(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(oi=l,bi):l}}var oi=null;function tf(){if(oi===null)throw Error(s(459));var e=oi;return oi=null,e}function nf(e){if(e===bi||e===wl)throw Error(s(483))}var Ui=null,No=0;function Ul(e){var t=No;return No+=1,Ui===null&&(Ui=[]),ef(Ui,e,t)}function Mo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ll(e,t){throw t.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function of(e){function t(x,N){if(e){var w=x.deletions;w===null?(x.deletions=[N],x.flags|=16):w.push(N)}}function l(x,N){if(!e)return null;for(;N!==null;)t(x,N),N=N.sibling;return null}function a(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function d(x,N){return x=jt(x,N),x.index=0,x.sibling=null,x}function m(x,N,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<N?(x.flags|=67108866,N):w):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function S(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function _(x,N,w,q){return N===null||N.tag!==6?(N=Aa(w,x.mode,q),N.return=x,N):(N=d(N,w),N.return=x,N)}function R(x,N,w,q){var ie=w.type;return ie===U?V(x,N,w.props.children,q,w.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&ii(ie)===N.type)?(N=d(N,w.props),Mo(N,w),N.return=x,N):(N=Nl(w.type,w.key,w.props,null,x.mode,q),Mo(N,w),N.return=x,N)}function b(x,N,w,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==w.containerInfo||N.stateNode.implementation!==w.implementation?(N=Ra(w,x.mode,q),N.return=x,N):(N=d(N,w.children||[]),N.return=x,N)}function V(x,N,w,q,ie){return N===null||N.tag!==7?(N=Wn(w,x.mode,q,ie),N.return=x,N):(N=d(N,w),N.return=x,N)}function P(x,N,w){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Aa(""+N,x.mode,w),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return w=Nl(N.type,N.key,N.props,null,x.mode,w),Mo(w,N),w.return=x,w;case D:return N=Ra(N,x.mode,w),N.return=x,N;case de:return N=ii(N),P(x,N,w)}if(De(N)||Ne(N))return N=Wn(N,x.mode,w,null),N.return=x,N;if(typeof N.then=="function")return P(x,Ul(N),w);if(N.$$typeof===k)return P(x,Il(x,N),w);Ll(x,N)}return null}function L(x,N,w,q){var ie=N!==null?N.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return ie!==null?null:_(x,N,""+w,q);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return w.key===ie?R(x,N,w,q):null;case D:return w.key===ie?b(x,N,w,q):null;case de:return w=ii(w),L(x,N,w,q)}if(De(w)||Ne(w))return ie!==null?null:V(x,N,w,q,null);if(typeof w.then=="function")return L(x,N,Ul(w),q);if(w.$$typeof===k)return L(x,N,Il(x,w),q);Ll(x,w)}return null}function G(x,N,w,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return x=x.get(w)||null,_(N,x,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return x=x.get(q.key===null?w:q.key)||null,R(N,x,q,ie);case D:return x=x.get(q.key===null?w:q.key)||null,b(N,x,q,ie);case de:return q=ii(q),G(x,N,w,q,ie)}if(De(q)||Ne(q))return x=x.get(w)||null,V(N,x,q,ie,null);if(typeof q.then=="function")return G(x,N,w,Ul(q),ie);if(q.$$typeof===k)return G(x,N,w,Il(N,q),ie);Ll(N,q)}return null}function Z(x,N,w,q){for(var ie=null,_e=null,ee=N,fe=N=0,ye=null;ee!==null&&fe<w.length;fe++){ee.index>fe?(ye=ee,ee=null):ye=ee.sibling;var Ce=L(x,ee,w[fe],q);if(Ce===null){ee===null&&(ee=ye);break}e&&ee&&Ce.alternate===null&&t(x,ee),N=m(Ce,N,fe),_e===null?ie=Ce:_e.sibling=Ce,_e=Ce,ee=ye}if(fe===w.length)return l(x,ee),Se&&en(x,fe),ie;if(ee===null){for(;fe<w.length;fe++)ee=P(x,w[fe],q),ee!==null&&(N=m(ee,N,fe),_e===null?ie=ee:_e.sibling=ee,_e=ee);return Se&&en(x,fe),ie}for(ee=a(ee);fe<w.length;fe++)ye=G(ee,x,fe,w[fe],q),ye!==null&&(e&&ye.alternate!==null&&ee.delete(ye.key===null?fe:ye.key),N=m(ye,N,fe),_e===null?ie=ye:_e.sibling=ye,_e=ye);return e&&ee.forEach(function(On){return t(x,On)}),Se&&en(x,fe),ie}function le(x,N,w,q){if(w==null)throw Error(s(151));for(var ie=null,_e=null,ee=N,fe=N=0,ye=null,Ce=w.next();ee!==null&&!Ce.done;fe++,Ce=w.next()){ee.index>fe?(ye=ee,ee=null):ye=ee.sibling;var On=L(x,ee,Ce.value,q);if(On===null){ee===null&&(ee=ye);break}e&&ee&&On.alternate===null&&t(x,ee),N=m(On,N,fe),_e===null?ie=On:_e.sibling=On,_e=On,ee=ye}if(Ce.done)return l(x,ee),Se&&en(x,fe),ie;if(ee===null){for(;!Ce.done;fe++,Ce=w.next())Ce=P(x,Ce.value,q),Ce!==null&&(N=m(Ce,N,fe),_e===null?ie=Ce:_e.sibling=Ce,_e=Ce);return Se&&en(x,fe),ie}for(ee=a(ee);!Ce.done;fe++,Ce=w.next())Ce=G(ee,x,fe,Ce.value,q),Ce!==null&&(e&&Ce.alternate!==null&&ee.delete(Ce.key===null?fe:Ce.key),N=m(Ce,N,fe),_e===null?ie=Ce:_e.sibling=Ce,_e=Ce);return e&&ee.forEach(function(n0){return t(x,n0)}),Se&&en(x,fe),ie}function Ue(x,N,w,q){if(typeof w=="object"&&w!==null&&w.type===U&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case A:e:{for(var ie=w.key;N!==null;){if(N.key===ie){if(ie=w.type,ie===U){if(N.tag===7){l(x,N.sibling),q=d(N,w.props.children),q.return=x,x=q;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&ii(ie)===N.type){l(x,N.sibling),q=d(N,w.props),Mo(q,w),q.return=x,x=q;break e}l(x,N);break}else t(x,N);N=N.sibling}w.type===U?(q=Wn(w.props.children,x.mode,q,w.key),q.return=x,x=q):(q=Nl(w.type,w.key,w.props,null,x.mode,q),Mo(q,w),q.return=x,x=q)}return S(x);case D:e:{for(ie=w.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===w.containerInfo&&N.stateNode.implementation===w.implementation){l(x,N.sibling),q=d(N,w.children||[]),q.return=x,x=q;break e}else{l(x,N);break}else t(x,N);N=N.sibling}q=Ra(w,x.mode,q),q.return=x,x=q}return S(x);case de:return w=ii(w),Ue(x,N,w,q)}if(De(w))return Z(x,N,w,q);if(Ne(w)){if(ie=Ne(w),typeof ie!="function")throw Error(s(150));return w=ie.call(w),le(x,N,w,q)}if(typeof w.then=="function")return Ue(x,N,Ul(w),q);if(w.$$typeof===k)return Ue(x,N,Il(x,w),q);Ll(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,N!==null&&N.tag===6?(l(x,N.sibling),q=d(N,w),q.return=x,x=q):(l(x,N),q=Aa(w,x.mode,q),q.return=x,x=q),S(x)):l(x,N)}return function(x,N,w,q){try{No=0;var ie=Ue(x,N,w,q);return Ui=null,ie}catch(ee){if(ee===bi||ee===wl)throw ee;var _e=Tt(29,ee,null,x.mode);return _e.lanes=q,_e.return=x,_e}finally{}}}var li=of(!0),lf=of(!1),Rn=!1;function Va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,t=Rl(e),Bc(e,null,l),t}return Al(e,a,t,l),Rl(e)}function xo(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Qu(e,l)}}function za(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=t:m=m.next=t}else d=m=t;l={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Pa=!1;function Io(){if(Pa){var e=wi;if(e!==null)throw e}}function Do(e,t,l,a){Pa=!1;var d=e.updateQueue;Rn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var R=_,b=R.next;R.next=null,S===null?m=b:S.next=b,S=R;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==S&&(_===null?V.firstBaseUpdate=b:_.next=b,V.lastBaseUpdate=R))}if(m!==null){var P=d.baseState;S=0,V=b=R=null,_=m;do{var L=_.lane&-536870913,G=L!==_.lane;if(G?(ve&L)===L:(a&L)===L){L!==0&&L===Di&&(Pa=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Z=e,le=_;L=t;var Ue=l;switch(le.tag){case 1:if(Z=le.payload,typeof Z=="function"){P=Z.call(Ue,P,L);break e}P=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=le.payload,L=typeof Z=="function"?Z.call(Ue,P,L):Z,L==null)break e;P=T({},P,L);break e;case 2:Rn=!0}}L=_.callback,L!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[L]:G.push(L))}else G={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(b=V=G,R=P):V=V.next=G,S|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;G=_,_=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);V===null&&(R=P),d.baseState=R,d.firstBaseUpdate=b,d.lastBaseUpdate=V,m===null&&(d.shared.lanes=0),bn|=S,e.lanes=S,e.memoizedState=P}}function sf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function af(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)sf(l[e],t)}var Li=M(null),Gl=M(0);function rf(e,t){e=dn,Q(Gl,e),Q(Li,t),dn=e|t.baseLanes}function Ba(){Q(Gl,dn),Q(Li,Li.current)}function Oa(){dn=Gl.current,O(Li),O(Gl)}var Et=M(null),Lt=null;function xn(e){var t=e.alternate;Q(Oe,Oe.current&1),Q(Et,e),Lt===null&&(t===null||Li.current!==null||t.memoizedState!==null)&&(Lt=e)}function ka(e){Q(Oe,Oe.current),Q(Et,e),Lt===null&&(Lt=e)}function uf(e){e.tag===22?(Q(Oe,Oe.current),Q(Et,e),Lt===null&&(Lt=e)):In()}function In(){Q(Oe,Oe.current),Q(Et,Et.current)}function _t(e){O(Et),Lt===e&&(Lt=null),O(Oe)}var Oe=M(0);function Hl(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Qr(l)||Zr(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var on=0,ue=null,we=null,Je=null,Vl=!1,Gi=!1,si=!1,ql=0,wo=0,Hi=null,Yv=0;function ze(){throw Error(s(321))}function Fa(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!St(e[l],t[l]))return!1;return!0}function Ja(e,t,l,a,d,m){return on=m,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?Yf:sr,si=!1,m=l(a,d),si=!1,Gi&&(m=ff(t,l,a,d)),cf(e),m}function cf(e){H.H=Lo;var t=we!==null&&we.next!==null;if(on=0,Je=we=ue=null,Vl=!1,wo=0,Hi=null,t)throw Error(s(300));e===null||Ye||(e=e.dependencies,e!==null&&xl(e)&&(Ye=!0))}function ff(e,t,l,a){ue=e;var d=0;do{if(Gi&&(Hi=null),wo=0,Gi=!1,25<=d)throw Error(s(301));if(d+=1,Je=we=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Kf,m=t(l,a)}while(Gi);return m}function Kv(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?bo(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(ue.flags|=1024),t}function Ya(){var e=ql!==0;return ql=0,e}function Ka(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Xa(e){if(Vl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Vl=!1}on=0,Je=we=ue=null,Gi=!1,wo=ql=0,Hi=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ue.memoizedState=Je=e:Je=Je.next=e,Je}function ke(){if(we===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Je===null?ue.memoizedState:Je.next;if(t!==null)Je=t,we=e;else{if(e===null)throw ue.alternate===null?Error(s(467)):Error(s(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Je===null?ue.memoizedState=Je=e:Je=Je.next=e}return Je}function zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(e){var t=wo;return wo+=1,Hi===null&&(Hi=[]),e=ef(Hi,e,t),t=ue,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?Yf:sr),e}function Pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bo(e);if(e.$$typeof===k)return et(e)}throw Error(s(438,String(e)))}function Qa(e){var t=null,l=ue.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=ue.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=zl(),ue.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ce;return t.index++,l}function ln(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=ke();return Za(t,we,e)}function Za(e,t,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var d=e.baseQueue,m=a.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}t.baseQueue=d=m,a.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{t=d.next;var _=S=null,R=null,b=t,V=!1;do{var P=b.lane&-536870913;if(P!==b.lane?(ve&P)===P:(on&P)===P){var L=b.revertLane;if(L===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),P===Di&&(V=!0);else if((on&L)===L){b=b.next,L===Di&&(V=!0);continue}else P={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},R===null?(_=R=P,S=m):R=R.next=P,ue.lanes|=L,bn|=L;P=b.action,si&&l(m,P),m=b.hasEagerState?b.eagerState:l(m,P)}else L={lane:P,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},R===null?(_=R=L,S=m):R=R.next=L,ue.lanes|=P,bn|=P;b=b.next}while(b!==null&&b!==t);if(R===null?S=m:R.next=_,!St(m,e.memoizedState)&&(Ye=!0,V&&(l=wi,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=R,a.lastRenderedState=m}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function $a(e){var t=ke(),l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,d=l.pending,m=t.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);St(m,t.memoizedState)||(Ye=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),l.lastRenderedState=m}return[m,a]}function df(e,t,l){var a=ue,d=ke(),m=Se;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=t();var S=!St((we||d).memoizedState,l);if(S&&(d.memoizedState=l,Ye=!0),d=d.queue,er(hf.bind(null,a,d,e),[e]),d.getSnapshot!==t||S||Je!==null&&Je.memoizedState.tag&1){if(a.flags|=2048,Vi(9,{destroy:void 0},mf.bind(null,a,d,l,t),null),Ge===null)throw Error(s(349));m||(on&127)!==0||pf(a,t,l)}return l}function pf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ue.updateQueue,t===null?(t=zl(),ue.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function mf(e,t,l,a){t.value=l,t.getSnapshot=a,gf(t)&&vf(e)}function hf(e,t,l){return l(function(){gf(t)&&vf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!St(e,l)}catch{return!0}}function vf(e){var t=$n(e,2);t!==null&&ht(t,e,2)}function Wa(e){var t=st();if(typeof e=="function"){var l=e;if(e=l(),si){yn(!0);try{l()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},t}function yf(e,t,l,a){return e.baseState=l,Za(e,we,typeof a=="function"?a:ln)}function Xv(e,t,l,a,d){if(Fl(e))throw Error(s(485));if(e=t.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};H.T!==null?l(!0):m.isTransition=!1,a(m),l=t.pending,l===null?(m.next=t.pending=m,Sf(t,m)):(m.next=l.next,t.pending=l.next=m)}}function Sf(e,t){var l=t.action,a=t.payload,d=e.state;if(t.isTransition){var m=H.T,S={};H.T=S;try{var _=l(d,a),R=H.S;R!==null&&R(S,_),Tf(e,t,_)}catch(b){ja(e,t,b)}finally{m!==null&&S.types!==null&&(m.types=S.types),H.T=m}}else try{m=l(d,a),Tf(e,t,m)}catch(b){ja(e,t,b)}}function Tf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ef(e,t,a)},function(a){return ja(e,t,a)}):Ef(e,t,l)}function Ef(e,t,l){t.status="fulfilled",t.value=l,_f(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Sf(e,l)))}function ja(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,_f(t),t=t.next;while(t!==a)}e.action=null}function _f(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cf(e,t){return t}function Af(e,t){if(Se){var l=Ge.formState;if(l!==null){e:{var a=ue;if(Se){if(He){t:{for(var d=He,m=Ut;d.nodeType!==8;){if(!m){d=null;break t}if(d=Gt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){He=Gt(d.nextSibling),a=d.data==="F!";break e}}Cn(a)}a=!1}a&&(t=l[0])}}return l=st(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:t},l.queue=a,l=kf.bind(null,ue,a),a.dispatch=l,a=Wa(!1),m=lr.bind(null,ue,!1,a.queue),a=st(),d={state:t,dispatch:null,action:e,pending:null},a.queue=d,l=Xv.bind(null,ue,d,m,l),d.dispatch=l,a.memoizedState=e,[t,l,!1]}function Rf(e){var t=ke();return Nf(t,we,e)}function Nf(e,t,l){if(t=Za(e,t,Cf)[0],e=Bl(ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=bo(t)}catch(S){throw S===bi?wl:S}else a=t;t=ke();var d=t.queue,m=d.dispatch;return l!==t.memoizedState&&(ue.flags|=2048,Vi(9,{destroy:void 0},Qv.bind(null,d,l),null)),[a,m,e]}function Qv(e,t){e.action=t}function Mf(e){var t=ke(),l=we;if(l!==null)return Nf(t,l,e);ke(),t=t.memoizedState,l=ke();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Vi(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=ue.updateQueue,t===null&&(t=zl(),ue.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function xf(){return ke().memoizedState}function Ol(e,t,l,a){var d=st();ue.flags|=e,d.memoizedState=Vi(1|t,{destroy:void 0},l,a===void 0?null:a)}function kl(e,t,l,a){var d=ke();a=a===void 0?null:a;var m=d.memoizedState.inst;we!==null&&a!==null&&Fa(a,we.memoizedState.deps)?d.memoizedState=Vi(t,m,l,a):(ue.flags|=e,d.memoizedState=Vi(1|t,m,l,a))}function If(e,t){Ol(8390656,8,e,t)}function er(e,t){kl(2048,8,e,t)}function Zv(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=zl(),ue.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Df(e){var t=ke().memoizedState;return Zv({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function wf(e,t){return kl(4,2,e,t)}function bf(e,t){return kl(4,4,e,t)}function Uf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lf(e,t,l){l=l!=null?l.concat([e]):null,kl(4,4,Uf.bind(null,t,e),l)}function tr(){}function Gf(e,t){var l=ke();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Fa(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Hf(e,t){var l=ke();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Fa(t,a[1]))return a[0];if(a=e(),si){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[a,t],a}function nr(e,t,l){return l===void 0||(on&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Vd(),ue.lanes|=e,bn|=e,l)}function Vf(e,t,l,a){return St(l,t)?l:Li.current!==null?(e=nr(e,l,a),St(e,t)||(Ye=!0),e):(on&42)===0||(on&1073741824)!==0&&(ve&261930)===0?(Ye=!0,e.memoizedState=l):(e=Vd(),ue.lanes|=e,bn|=e,t)}function qf(e,t,l,a,d){var m=K.p;K.p=m!==0&&8>m?m:8;var S=H.T,_={};H.T=_,lr(e,!1,t,l);try{var R=d(),b=H.S;if(b!==null&&b(_,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var V=Jv(R,a);Uo(e,t,V,Rt(e))}else Uo(e,t,a,Rt(e))}catch(P){Uo(e,t,{then:function(){},status:"rejected",reason:P},Rt())}finally{K.p=m,S!==null&&_.types!==null&&(S.types=_.types),H.T=S}}function $v(){}function ir(e,t,l,a){if(e.tag!==5)throw Error(s(476));var d=zf(e).queue;qf(e,d,t,te,l===null?$v:function(){return Pf(e),l(a)})}function zf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:te},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pf(e){var t=zf(e);t.next===null&&(t=e.alternate.memoizedState),Uo(e,t.next.queue,{},Rt())}function or(){return et(Zo)}function Bf(){return ke().memoizedState}function Of(){return ke().memoizedState}function Wv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Rt();e=Nn(l);var a=Mn(t,e,l);a!==null&&(ht(a,t,l),xo(a,t,l)),t={cache:Ua()},e.payload=t;return}t=t.return}}function jv(e,t,l){var a=Rt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fl(e)?Ff(t,l):(l=_a(e,t,l,a),l!==null&&(ht(l,e,a),Jf(l,t,a)))}function kf(e,t,l){var a=Rt();Uo(e,t,l,a)}function Uo(e,t,l,a){var d={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fl(e))Ff(t,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var S=t.lastRenderedState,_=m(S,l);if(d.hasEagerState=!0,d.eagerState=_,St(_,S))return Al(e,t,d,0),Ge===null&&Cl(),!1}catch{}finally{}if(l=_a(e,t,d,a),l!==null)return ht(l,e,a),Jf(l,t,a),!0}return!1}function lr(e,t,l,a){if(a={lane:2,revertLane:Vr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fl(e)){if(t)throw Error(s(479))}else t=_a(e,l,a,2),t!==null&&ht(t,e,2)}function Fl(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Ff(e,t){Gi=Vl=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Jf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Qu(e,l)}}var Lo={readContext:et,use:Pl,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Lo.useEffectEvent=ze;var Yf={readContext:et,use:Pl,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:If,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Ol(4194308,4,Uf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var l=st();t=t===void 0?null:t;var a=e();if(si){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=st();if(l!==void 0){var d=l(t);if(si){yn(!0);try{l(t)}finally{yn(!1)}}}else d=t;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=jv.bind(null,ue,e),[a.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=Wa(e);var t=e.queue,l=kf.bind(null,ue,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:tr,useDeferredValue:function(e,t){var l=st();return nr(l,e,t)},useTransition:function(){var e=Wa(!1);return e=qf.bind(null,ue,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=ue,d=st();if(Se){if(l===void 0)throw Error(s(407));l=l()}else{if(l=t(),Ge===null)throw Error(s(349));(ve&127)!==0||pf(a,t,l)}d.memoizedState=l;var m={value:l,getSnapshot:t};return d.queue=m,If(hf.bind(null,a,m,e),[e]),a.flags|=2048,Vi(9,{destroy:void 0},mf.bind(null,a,m,l,t),null),l},useId:function(){var e=st(),t=Ge.identifierPrefix;if(Se){var l=Yt,a=Jt;l=(a&~(1<<32-yt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ql++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Yv++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:or,useFormState:Af,useActionState:Af,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=lr.bind(null,ue,!0,l),l.dispatch=t,[e,t]},useMemoCache:Qa,useCacheRefresh:function(){return st().memoizedState=Wv.bind(null,ue)},useEffectEvent:function(e){var t=st(),l={impl:e};return t.memoizedState=l,function(){if((Re&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},sr={readContext:et,use:Pl,useCallback:Gf,useContext:et,useEffect:er,useImperativeHandle:Lf,useInsertionEffect:wf,useLayoutEffect:bf,useMemo:Hf,useReducer:Bl,useRef:xf,useState:function(){return Bl(ln)},useDebugValue:tr,useDeferredValue:function(e,t){var l=ke();return Vf(l,we.memoizedState,e,t)},useTransition:function(){var e=Bl(ln)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:bo(e),t]},useSyncExternalStore:df,useId:Bf,useHostTransitionStatus:or,useFormState:Rf,useActionState:Rf,useOptimistic:function(e,t){var l=ke();return yf(l,we,e,t)},useMemoCache:Qa,useCacheRefresh:Of};sr.useEffectEvent=Df;var Kf={readContext:et,use:Pl,useCallback:Gf,useContext:et,useEffect:er,useImperativeHandle:Lf,useInsertionEffect:wf,useLayoutEffect:bf,useMemo:Hf,useReducer:$a,useRef:xf,useState:function(){return $a(ln)},useDebugValue:tr,useDeferredValue:function(e,t){var l=ke();return we===null?nr(l,e,t):Vf(l,we.memoizedState,e,t)},useTransition:function(){var e=$a(ln)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:bo(e),t]},useSyncExternalStore:df,useId:Bf,useHostTransitionStatus:or,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,t){var l=ke();return we!==null?yf(l,we,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Qa,useCacheRefresh:Of};Kf.useEffectEvent=Df;function ar(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:T({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var rr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Rt(),d=Nn(a);d.payload=t,l!=null&&(d.callback=l),t=Mn(e,d,a),t!==null&&(ht(t,e,a),xo(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Rt(),d=Nn(a);d.tag=1,d.payload=t,l!=null&&(d.callback=l),t=Mn(e,d,a),t!==null&&(ht(t,e,a),xo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Rt(),a=Nn(l);a.tag=2,t!=null&&(a.callback=t),t=Mn(e,a,l),t!==null&&(ht(t,e,l),xo(t,e,l))}};function Xf(e,t,l,a,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,S):t.prototype&&t.prototype.isPureReactComponent?!To(l,a)||!To(d,m):!0}function Qf(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&rr.enqueueReplaceState(t,t.state,null)}function ai(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function Zf(e){_l(e)}function $f(e){console.error(e)}function Wf(e){_l(e)}function Jl(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function jf(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ur(e,t,l){return l=Nn(l),l.tag=3,l.payload={element:null},l.callback=function(){Jl(e,t)},l}function ed(e){return e=Nn(e),e.tag=3,e}function td(e,t,l,a){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=a.value;e.payload=function(){return d(m)},e.callback=function(){jf(t,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){jf(t,l,a),typeof d!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})})}function ey(e,t,l,a,d){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ii(t,l,d,!0),l=Et.current,l!==null){switch(l.tag){case 31:case 13:return Lt===null?is():l.alternate===null&&Pe===0&&(Pe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,a===bl?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Lr(e,a,d)),!1;case 22:return l.flags|=65536,a===bl?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Lr(e,a,d)),!1}throw Error(s(435,l.tag))}return Lr(e,a,d),is(),!1}if(Se)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,a!==xa&&(e=Error(s(422),{cause:a}),Co(Dt(e,l)))):(a!==xa&&(t=Error(s(423),{cause:a}),Co(Dt(t,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=Dt(a,l),d=ur(e.stateNode,a,d),za(e,d),Pe!==4&&(Pe=2)),!1;var m=Error(s(520),{cause:a});if(m=Dt(m,l),Oo===null?Oo=[m]:Oo.push(m),Pe!==4&&(Pe=2),t===null)return!0;a=Dt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=ur(l.stateNode,a,e),za(l,e),!1;case 1:if(t=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=ed(d),td(d,e,l,a),za(l,d),!1}l=l.return}while(l!==null);return!1}var cr=Error(s(461)),Ye=!1;function tt(e,t,l,a){t.child=e===null?lf(t,null,l,a):li(t,e.child,l,a)}function nd(e,t,l,a,d){l=l.render;var m=t.ref;if("ref"in a){var S={};for(var _ in a)_!=="ref"&&(S[_]=a[_])}else S=a;return ti(t),a=Ja(e,t,l,S,m,d),_=Ya(),e!==null&&!Ye?(Ka(e,t,d),sn(e,t,d)):(Se&&_&&Na(t),t.flags|=1,tt(e,t,a,d),t.child)}function id(e,t,l,a,d){if(e===null){var m=l.type;return typeof m=="function"&&!Ca(m)&&m.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=m,od(e,t,m,a,d)):(e=Nl(l.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!yr(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:To,l(S,a)&&e.ref===t.ref)return sn(e,t,d)}return t.flags|=1,e=jt(m,a),e.ref=t.ref,e.return=t,t.child=e}function od(e,t,l,a,d){if(e!==null){var m=e.memoizedProps;if(To(m,a)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=a=m,yr(e,d))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,sn(e,t,d)}return fr(e,t,l,a,d)}function ld(e,t,l,a){var d=a.children,m=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(a=t.child=e.child,d=0;a!==null;)d=d|a.lanes|a.childLanes,a=a.sibling;a=d&~m}else a=0,t.child=null;return sd(e,t,m,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(t,m!==null?m.cachePool:null),m!==null?rf(t,m):Ba(),uf(t);else return a=t.lanes=536870912,sd(e,t,m!==null?m.baseLanes|l:l,l,a)}else m!==null?(Dl(t,m.cachePool),rf(t,m),In(),t.memoizedState=null):(e!==null&&Dl(t,null),Ba(),In());return tt(e,t,d,l),t.child}function Go(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sd(e,t,l,a,d){var m=Ga();return m=m===null?null:{parent:Fe._currentValue,pool:m},t.memoizedState={baseLanes:l,cachePool:m},e!==null&&Dl(t,null),Ba(),uf(t),e!==null&&Ii(e,t,a,!0),t.childLanes=d,null}function Yl(e,t){return t=Xl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ad(e,t,l){return li(t,e.child,null,l),e=Yl(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function ty(e,t,l){var a=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(a.mode==="hidden")return e=Yl(t,a),t.lanes=536870912,Go(null,e);if(ka(t),(e=He)?(e=Sp(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:En!==null?{id:Jt,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},l=kc(e),l.return=t,t.child=l,je=t,He=null)):e=null,e===null)throw Cn(t);return t.lanes=536870912,null}return Yl(t,a)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(ka(t),d)if(t.flags&256)t.flags&=-257,t=ad(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ye||Ii(e,t,l,!1),d=(l&e.childLanes)!==0,Ye||d){if(a=Ge,a!==null&&(S=Zu(a,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,$n(e,S),ht(a,e,S),cr;is(),t=ad(e,t,l)}else e=m.treeContext,He=Gt(S.nextSibling),je=t,Se=!0,_n=null,Ut=!1,e!==null&&Yc(t,e),t=Yl(t,a),t.flags|=4096;return t}return e=jt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kl(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function fr(e,t,l,a,d){return ti(t),l=Ja(e,t,l,a,void 0,d),a=Ya(),e!==null&&!Ye?(Ka(e,t,d),sn(e,t,d)):(Se&&a&&Na(t),t.flags|=1,tt(e,t,l,d),t.child)}function rd(e,t,l,a,d,m){return ti(t),t.updateQueue=null,l=ff(t,a,l,d),cf(e),a=Ya(),e!==null&&!Ye?(Ka(e,t,m),sn(e,t,m)):(Se&&a&&Na(t),t.flags|=1,tt(e,t,l,m),t.child)}function ud(e,t,l,a,d){if(ti(t),t.stateNode===null){var m=Ri,S=l.contextType;typeof S=="object"&&S!==null&&(m=et(S)),m=new l(a,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rr,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=a,m.state=t.memoizedState,m.refs={},Va(t),S=l.contextType,m.context=typeof S=="object"&&S!==null?et(S):Ri,m.state=t.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ar(t,l,S,a),m.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&rr.enqueueReplaceState(m,m.state,null),Do(t,a,m,d),Io(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){m=t.stateNode;var _=t.memoizedProps,R=ai(l,_);m.props=R;var b=m.context,V=l.contextType;S=Ri,typeof V=="object"&&V!==null&&(S=et(V));var P=l.getDerivedStateFromProps;V=typeof P=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||b!==S)&&Qf(t,m,a,S),Rn=!1;var L=t.memoizedState;m.state=L,Do(t,a,m,d),Io(),b=t.memoizedState,_||L!==b||Rn?(typeof P=="function"&&(ar(t,l,P,a),b=t.memoizedState),(R=Rn||Xf(t,l,R,a,L,b,S))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),m.props=a,m.state=b,m.context=S,a=R):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,qa(e,t),S=t.memoizedProps,V=ai(l,S),m.props=V,P=t.pendingProps,L=m.context,b=l.contextType,R=Ri,typeof b=="object"&&b!==null&&(R=et(b)),_=l.getDerivedStateFromProps,(b=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==P||L!==R)&&Qf(t,m,a,R),Rn=!1,L=t.memoizedState,m.state=L,Do(t,a,m,d),Io();var G=t.memoizedState;S!==P||L!==G||Rn||e!==null&&e.dependencies!==null&&xl(e.dependencies)?(typeof _=="function"&&(ar(t,l,_,a),G=t.memoizedState),(V=Rn||Xf(t,l,V,a,L,G,R)||e!==null&&e.dependencies!==null&&xl(e.dependencies))?(b||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,G,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,G,R)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=G),m.props=a,m.state=G,m.context=R,a=V):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return m=a,Kl(e,t),a=(t.flags&128)!==0,m||a?(m=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&a?(t.child=li(t,e.child,null,d),t.child=li(t,null,l,d)):tt(e,t,l,d),t.memoizedState=m.state,e=t.child):e=sn(e,t,d),e}function cd(e,t,l,a){return jn(),t.flags|=256,tt(e,t,l,a),t.child}var dr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pr(e){return{baseLanes:e,cachePool:Wc()}}function mr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=At),e}function fd(e,t,l){var a=t.pendingProps,d=!1,m=(t.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),S&&(d=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(d?xn(t):In(),(e=He)?(e=Sp(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:En!==null?{id:Jt,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},l=kc(e),l.return=t,t.child=l,je=t,He=null)):e=null,e===null)throw Cn(t);return Zr(e)?t.lanes=32:t.lanes=536870912,null}var _=a.children;return a=a.fallback,d?(In(),d=t.mode,_=Xl({mode:"hidden",children:_},d),a=Wn(a,d,l,null),_.return=t,a.return=t,_.sibling=a,t.child=_,a=t.child,a.memoizedState=pr(l),a.childLanes=mr(e,S,l),t.memoizedState=dr,Go(null,a)):(xn(t),hr(t,_))}var R=e.memoizedState;if(R!==null&&(_=R.dehydrated,_!==null)){if(m)t.flags&256?(xn(t),t.flags&=-257,t=gr(e,t,l)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),_=a.fallback,d=t.mode,a=Xl({mode:"visible",children:a.children},d),_=Wn(_,d,l,null),_.flags|=2,a.return=t,_.return=t,a.sibling=_,t.child=a,li(t,e.child,null,l),a=t.child,a.memoizedState=pr(l),a.childLanes=mr(e,S,l),t.memoizedState=dr,t=Go(null,a));else if(xn(t),Zr(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var b=S.dgst;S=b,a=Error(s(419)),a.stack="",a.digest=S,Co({value:a,source:null,stack:null}),t=gr(e,t,l)}else if(Ye||Ii(e,t,l,!1),S=(l&e.childLanes)!==0,Ye||S){if(S=Ge,S!==null&&(a=Zu(S,l),a!==0&&a!==R.retryLane))throw R.retryLane=a,$n(e,a),ht(S,e,a),cr;Qr(_)||is(),t=gr(e,t,l)}else Qr(_)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,He=Gt(_.nextSibling),je=t,Se=!0,_n=null,Ut=!1,e!==null&&Yc(t,e),t=hr(t,a.children),t.flags|=4096);return t}return d?(In(),_=a.fallback,d=t.mode,R=e.child,b=R.sibling,a=jt(R,{mode:"hidden",children:a.children}),a.subtreeFlags=R.subtreeFlags&65011712,b!==null?_=jt(b,_):(_=Wn(_,d,l,null),_.flags|=2),_.return=t,a.return=t,a.sibling=_,t.child=a,Go(null,a),a=t.child,_=e.child.memoizedState,_===null?_=pr(l):(d=_.cachePool,d!==null?(R=Fe._currentValue,d=d.parent!==R?{parent:R,pool:R}:d):d=Wc(),_={baseLanes:_.baseLanes|l,cachePool:d}),a.memoizedState=_,a.childLanes=mr(e,S,l),t.memoizedState=dr,Go(e.child,a)):(xn(t),l=e.child,e=l.sibling,l=jt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=l,t.memoizedState=null,l)}function hr(e,t){return t=Xl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xl(e,t){return e=Tt(22,e,null,t),e.lanes=0,e}function gr(e,t,l){return li(t,e.child,null,l),e=hr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),wa(e.return,t,l)}function vr(e,t,l,a,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function pd(e,t,l){var a=t.pendingProps,d=a.revealOrder,m=a.tail;a=a.children;var S=Oe.current,_=(S&2)!==0;if(_?(S=S&1|2,t.flags|=128):S&=1,Q(Oe,S),tt(e,t,a,l),a=Se?_o:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dd(e,l,t);else if(e.tag===19)dd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=t.child,d=null;l!==null;)e=l.alternate,e!==null&&Hl(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=t.child,t.child=null):(d=l.sibling,l.sibling=null),vr(t,!1,d,l,m,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Hl(e)===null){t.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}vr(t,!0,l,null,m,a);break;case"together":vr(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function sn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),bn|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ii(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,l=jt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=jt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function yr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xl(e)))}function ny(e,t,l){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),An(t,Fe,e.memoizedState.cache),jn();break;case 27:case 5:so(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:An(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ka(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(xn(t),t.flags|=128,null):(l&t.child.childLanes)!==0?fd(e,t,l):(xn(t),e=sn(e,t,l),e!==null?e.sibling:null);xn(t);break;case 19:var d=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ii(e,t,l,!1),a=(l&t.childLanes)!==0),d){if(a)return pd(e,t,l);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(Oe,Oe.current),a)break;return null;case 22:return t.lanes=0,ld(e,t,l,t.pendingProps);case 24:An(t,Fe,e.memoizedState.cache)}return sn(e,t,l)}function md(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!yr(e,l)&&(t.flags&128)===0)return Ye=!1,ny(e,t,l);Ye=(e.flags&131072)!==0}else Ye=!1,Se&&(t.flags&1048576)!==0&&Jc(t,_o,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ii(t.elementType),t.type=e,typeof e=="function")Ca(e)?(a=ai(e,a),t.tag=1,t=ud(null,t,e,a,l)):(t.tag=0,t=fr(null,t,e,a,l));else{if(e!=null){var d=e.$$typeof;if(d===F){t.tag=11,t=nd(null,t,e,a,l);break e}else if(d===Y){t.tag=14,t=id(null,t,e,a,l);break e}}throw t=ge(e)||e,Error(s(306,t,""))}}return t;case 0:return fr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,d=ai(a,t.pendingProps),ud(e,t,a,d,l);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var m=t.memoizedState;d=m.element,qa(e,t),Do(t,a,null,l);var S=t.memoizedState;if(a=S.cache,An(t,Fe,a),a!==m.cache&&ba(t,[Fe],l,!0),Io(),a=S.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=cd(e,t,a,l);break e}else if(a!==d){d=Dt(Error(s(424)),t),Co(d),t=cd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Gt(e.firstChild),je=t,Se=!0,_n=null,Ut=!0,l=lf(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(jn(),a===d){t=sn(e,t,l);break e}tt(e,t,a,l)}t=t.child}return t;case 26:return Kl(e,t),e===null?(l=Rp(t.type,null,t.pendingProps,null))?t.memoizedState=l:Se||(l=t.type,e=t.pendingProps,a=cs(pe.current).createElement(l),a[We]=t,a[ut]=e,nt(a,l,e),Qe(a),t.stateNode=a):t.memoizedState=Rp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return so(t),e===null&&Se&&(a=t.stateNode=_p(t.type,t.pendingProps,pe.current),je=t,Ut=!0,d=He,Vn(t.type)?($r=d,He=Gt(a.firstChild)):He=d),tt(e,t,t.pendingProps.children,l),Kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((d=a=He)&&(a=by(a,t.type,t.pendingProps,Ut),a!==null?(t.stateNode=a,je=t,He=Gt(a.firstChild),Ut=!1,d=!0):d=!1),d||Cn(t)),so(t),d=t.type,m=t.pendingProps,S=e!==null?e.memoizedProps:null,a=m.children,Yr(d,m)?a=null:S!==null&&Yr(d,S)&&(t.flags|=32),t.memoizedState!==null&&(d=Ja(e,t,Kv,null,null,l),Zo._currentValue=d),Kl(e,t),tt(e,t,a,l),t.child;case 6:return e===null&&Se&&((e=l=He)&&(l=Uy(l,t.pendingProps,Ut),l!==null?(t.stateNode=l,je=t,He=null,e=!0):e=!1),e||Cn(t)),null;case 13:return fd(e,t,l);case 4:return lt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=li(t,null,a,l):tt(e,t,a,l),t.child;case 11:return nd(e,t,t.type,t.pendingProps,l);case 7:return tt(e,t,t.pendingProps,l),t.child;case 8:return tt(e,t,t.pendingProps.children,l),t.child;case 12:return tt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,An(t,t.type,a.value),tt(e,t,a.children,l),t.child;case 9:return d=t.type._context,a=t.pendingProps.children,ti(t),d=et(d),a=a(d),t.flags|=1,tt(e,t,a,l),t.child;case 14:return id(e,t,t.type,t.pendingProps,l);case 15:return od(e,t,t.type,t.pendingProps,l);case 19:return pd(e,t,l);case 31:return ty(e,t,l);case 22:return ld(e,t,l,t.pendingProps);case 24:return ti(t),a=et(Fe),e===null?(d=Ga(),d===null&&(d=Ge,m=Ua(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),t.memoizedState={parent:a,cache:d},Va(t),An(t,Fe,d)):((e.lanes&l)!==0&&(qa(e,t),Do(t,null,null,l),Io()),d=e.memoizedState,m=t.memoizedState,d.parent!==a?(d={parent:a,cache:a},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),An(t,Fe,a)):(a=m.cache,An(t,Fe,a),a!==d.cache&&ba(t,[Fe],l,!0))),tt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function an(e){e.flags|=4}function Sr(e,t,l,a,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Bd())e.flags|=8192;else throw oi=bl,Ha}else e.flags&=-16777217}function hd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dp(t))if(Bd())e.flags|=8192;else throw oi=bl,Ha}function Ql(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ku():536870912,e.lanes|=t,Bi|=t)}function Ho(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function iy(e,t,l){var a=t.pendingProps;switch(Ma(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),nn(Fe),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(xi(t)?an(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ia())),Ve(t),null;case 26:var d=t.type,m=t.memoizedState;return e===null?(an(t),m!==null?(Ve(t),hd(t,m)):(Ve(t),Sr(t,d,null,a,l))):m?m!==e.memoizedState?(an(t),Ve(t),hd(t,m)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&an(t),Ve(t),Sr(t,d,e,a,l)),null;case 27:if(sl(t),l=pe.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ve(t),null}e=j.current,xi(t)?Kc(t):(e=_p(d,a,l),t.stateNode=e,an(t))}return Ve(t),null;case 5:if(sl(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ve(t),null}if(m=j.current,xi(t))Kc(t);else{var S=cs(pe.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?S.createElement(d,{is:a.is}):S.createElement(d)}}m[We]=t,m[ut]=a;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=m;e:switch(nt(m,d,a),d){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&an(t)}}return Ve(t),Sr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=pe.current,xi(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,d=je,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[We]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||fp(e.nodeValue,l)),e||Cn(t,!0)}else e=cs(e).createTextNode(a),e[We]=t,t.stateNode=e}return Ve(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=xi(t),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[We]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else l=Ia(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ve(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=xi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[We]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),d=!1}else d=Ia(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==d&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ql(t,t.updateQueue),Ve(t),null);case 4:return Be(),e===null&&Br(t.stateNode.containerInfo),Ve(t),null;case 10:return nn(t.type),Ve(t),null;case 19:if(O(Oe),a=t.memoizedState,a===null)return Ve(t),null;if(d=(t.flags&128)!==0,m=a.rendering,m===null)if(d)Ho(a,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Hl(e),m!==null){for(t.flags|=128,Ho(a,!1),e=m.updateQueue,t.updateQueue=e,Ql(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Oc(l,e),l=l.sibling;return Q(Oe,Oe.current&1|2),Se&&en(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&gt()>es&&(t.flags|=128,d=!0,Ho(a,!1),t.lanes=4194304)}else{if(!d)if(e=Hl(m),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,Ql(t,e),Ho(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!Se)return Ve(t),null}else 2*gt()-a.renderingStartTime>es&&l!==536870912&&(t.flags|=128,d=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(m.sibling=t.child,t.child=m):(e=a.last,e!==null?e.sibling=m:t.child=m,a.last=m)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gt(),e.sibling=null,l=Oe.current,Q(Oe,d?l&1|2:l&1),Se&&en(t,a.treeForkCount),e):(Ve(t),null);case 22:case 23:return _t(t),Oa(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),l=t.updateQueue,l!==null&&Ql(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&O(ni),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),nn(Fe),Ve(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function oy(e,t){switch(Ma(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(Fe),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return sl(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(s(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(Oe),null;case 4:return Be(),null;case 10:return nn(t.type),null;case 22:case 23:return _t(t),Oa(),e!==null&&O(ni),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(Fe),null;case 25:return null;default:return null}}function gd(e,t){switch(Ma(t),t.tag){case 3:nn(Fe),Be();break;case 26:case 27:case 5:sl(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:O(Oe);break;case 10:nn(t.type);break;case 22:case 23:_t(t),Oa(),e!==null&&O(ni);break;case 24:nn(Fe)}}function Vo(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var d=a.next;l=d;do{if((l.tag&e)===e){a=void 0;var m=l.create,S=l.inst;a=m(),S.destroy=a}l=l.next}while(l!==d)}}catch(_){Ie(t,t.return,_)}}function Dn(e,t,l){try{var a=t.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var m=d.next;a=m;do{if((a.tag&e)===e){var S=a.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=t;var R=l,b=_;try{b()}catch(V){Ie(d,R,V)}}}a=a.next}while(a!==m)}}catch(V){Ie(t,t.return,V)}}function vd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{af(t,l)}catch(a){Ie(e,e.return,a)}}}function yd(e,t,l){l.props=ai(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ie(e,t,a)}}function qo(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(d){Ie(e,t,d)}}function Kt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(d){Ie(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Ie(e,t,d)}else l.current=null}function Sd(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(d){Ie(e,e.return,d)}}function Tr(e,t,l){try{var a=e.stateNode;Ny(a,e.type,l,t),a[ut]=t}catch(d){Ie(e,e.return,d)}}function Td(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function Er(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _r(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=$t));else if(a!==4&&(a===27&&Vn(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(_r(e,t,l),e=e.sibling;e!==null;)_r(e,t,l),e=e.sibling}function Zl(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Vn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Zl(e,t,l),e=e.sibling;e!==null;)Zl(e,t,l),e=e.sibling}function Ed(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);nt(t,a,l),t[We]=e,t[ut]=l}catch(m){Ie(e,e.return,m)}}var rn=!1,Ke=!1,Cr=!1,_d=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function ly(e,t){if(e=e.containerInfo,Fr=vs,e=Uc(e),ga(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var d=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,_=-1,R=-1,b=0,V=0,P=e,L=null;t:for(;;){for(var G;P!==l||d!==0&&P.nodeType!==3||(_=S+d),P!==m||a!==0&&P.nodeType!==3||(R=S+a),P.nodeType===3&&(S+=P.nodeValue.length),(G=P.firstChild)!==null;)L=P,P=G;for(;;){if(P===e)break t;if(L===l&&++b===d&&(_=S),L===m&&++V===a&&(R=S),(G=P.nextSibling)!==null)break;P=L,L=P.parentNode}P=G}l=_===-1||R===-1?null:{start:_,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jr={focusedElem:e,selectionRange:l},vs=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,m=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=t,d=m.memoizedProps,m=m.memoizedState,a=l.stateNode;try{var Z=ai(l.type,d);e=a.getSnapshotBeforeUpdate(Z,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ie(l,l.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Xr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Cd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:cn(e,l),a&4&&Vo(5,l);break;case 1:if(cn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(S){Ie(l,l.return,S)}else{var d=ai(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ie(l,l.return,S)}}a&64&&vd(l),a&512&&qo(l,l.return);break;case 3:if(cn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{af(e,t)}catch(S){Ie(l,l.return,S)}}break;case 27:t===null&&a&4&&Ed(l);case 26:case 5:cn(e,l),t===null&&a&4&&Sd(l),a&512&&qo(l,l.return);break;case 12:cn(e,l);break;case 31:cn(e,l),a&4&&Nd(e,l);break;case 13:cn(e,l),a&4&&Md(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=my.bind(null,l),Ly(e,l))));break;case 22:if(a=l.memoizedState!==null||rn,!a){t=t!==null&&t.memoizedState!==null||Ke,d=rn;var m=Ke;rn=a,(Ke=t)&&!m?fn(e,l,(l.subtreeFlags&8772)!==0):cn(e,l),rn=d,Ke=m}break;case 30:break;default:cn(e,l)}}function Ad(e){var t=e.alternate;t!==null&&(e.alternate=null,Ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&js(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,ft=!1;function un(e,t,l){for(l=l.child;l!==null;)Rd(e,t,l),l=l.sibling}function Rd(e,t,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ao,l)}catch{}switch(l.tag){case 26:Ke||Kt(l,t),un(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ke||Kt(l,t);var a=qe,d=ft;Vn(l.type)&&(qe=l.stateNode,ft=!1),un(e,t,l),Ko(l.stateNode),qe=a,ft=d;break;case 5:Ke||Kt(l,t);case 6:if(a=qe,d=ft,qe=null,un(e,t,l),qe=a,ft=d,qe!==null)if(ft)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(m){Ie(l,t,m)}else try{qe.removeChild(l.stateNode)}catch(m){Ie(l,t,m)}break;case 18:qe!==null&&(ft?(e=qe,vp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Qi(e)):vp(qe,l.stateNode));break;case 4:a=qe,d=ft,qe=l.stateNode.containerInfo,ft=!0,un(e,t,l),qe=a,ft=d;break;case 0:case 11:case 14:case 15:Dn(2,l,t),Ke||Dn(4,l,t),un(e,t,l);break;case 1:Ke||(Kt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&yd(l,t,a)),un(e,t,l);break;case 21:un(e,t,l);break;case 22:Ke=(a=Ke)||l.memoizedState!==null,un(e,t,l),Ke=a;break;default:un(e,t,l)}}function Nd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(l){Ie(t,t.return,l)}}}function Md(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(l){Ie(t,t.return,l)}}function sy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _d),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _d),t;default:throw Error(s(435,e.tag))}}function $l(e,t){var l=sy(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var d=hy.bind(null,e,a);a.then(d,d)}})}function dt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var d=l[a],m=e,S=t,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Vn(_.type)){qe=_.stateNode,ft=!1;break e}break;case 5:qe=_.stateNode,ft=!1;break e;case 3:case 4:qe=_.stateNode.containerInfo,ft=!0;break e}_=_.return}if(qe===null)throw Error(s(160));Rd(m,S,d),qe=null,ft=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}var Pt=null;function xd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dt(t,e),pt(e),a&4&&(Dn(3,e,e.return),Vo(3,e),Dn(5,e,e.return));break;case 1:dt(t,e),pt(e),a&512&&(Ke||l===null||Kt(l,l.return)),a&64&&rn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var d=Pt;if(dt(t,e),pt(e),a&512&&(Ke||l===null||Kt(l,l.return)),a&4){var m=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":m=d.getElementsByTagName("title")[0],(!m||m[co]||m[We]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(a),d.head.insertBefore(m,d.querySelector("head > title"))),nt(m,a,l),m[We]=e,Qe(m),a=m;break e;case"link":var S=xp("link","href",d).get(a+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}m=d.createElement(a),nt(m,a,l),d.head.appendChild(m);break;case"meta":if(S=xp("meta","content",d).get(a+(l.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}m=d.createElement(a),nt(m,a,l),d.head.appendChild(m);break;default:throw Error(s(468,a))}m[We]=e,Qe(m),a=m}e.stateNode=a}else Ip(d,e.type,e.stateNode);else e.stateNode=Mp(d,a,e.memoizedProps);else m!==a?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,a===null?Ip(d,e.type,e.stateNode):Mp(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Tr(e,e.memoizedProps,l.memoizedProps)}break;case 27:dt(t,e),pt(e),a&512&&(Ke||l===null||Kt(l,l.return)),l!==null&&a&4&&Tr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(dt(t,e),pt(e),a&512&&(Ke||l===null||Kt(l,l.return)),e.flags&32){d=e.stateNode;try{yi(d,"")}catch(Z){Ie(e,e.return,Z)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,Tr(e,d,l!==null?l.memoizedProps:d)),a&1024&&(Cr=!0);break;case 6:if(dt(t,e),pt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(Z){Ie(e,e.return,Z)}}break;case 3:if(ps=null,d=Pt,Pt=fs(t.containerInfo),dt(t,e),Pt=d,pt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(Z){Ie(e,e.return,Z)}Cr&&(Cr=!1,Id(e));break;case 4:a=Pt,Pt=fs(e.stateNode.containerInfo),dt(t,e),pt(e),Pt=a;break;case 12:dt(t,e),pt(e);break;case 31:dt(t,e),pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,$l(e,a)));break;case 13:dt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jl=gt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,$l(e,a)));break;case 22:d=e.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,b=rn,V=Ke;if(rn=b||d,Ke=V||R,dt(t,e),Ke=V,rn=b,pt(e),a&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(l===null||R||rn||Ke||ri(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){R=l=t;try{if(m=R.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=R.stateNode;var P=R.memoizedProps.style,L=P!=null&&P.hasOwnProperty("display")?P.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(Z){Ie(R,R.return,Z)}}}else if(t.tag===6){if(l===null){R=t;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(Z){Ie(R,R.return,Z)}}}else if(t.tag===18){if(l===null){R=t;try{var G=R.stateNode;d?yp(G,!0):yp(R.stateNode,!1)}catch(Z){Ie(R,R.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,$l(e,l))));break;case 19:dt(t,e),pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,$l(e,a)));break;case 30:break;case 21:break;default:dt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Td(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,m=Er(e);Zl(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(yi(S,""),l.flags&=-33);var _=Er(e);Zl(e,_,S);break;case 3:case 4:var R=l.stateNode.containerInfo,b=Er(e);_r(e,b,R);break;default:throw Error(s(161))}}catch(V){Ie(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Id(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Id(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cd(e,t.alternate,t),t=t.sibling}function ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Dn(4,t,t.return),ri(t);break;case 1:Kt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&yd(t,t.return,l),ri(t);break;case 27:Ko(t.stateNode);case 26:case 5:Kt(t,t.return),ri(t);break;case 22:t.memoizedState===null&&ri(t);break;case 30:ri(t);break;default:ri(t)}e=e.sibling}}function fn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,d=e,m=t,S=m.flags;switch(m.tag){case 0:case 11:case 15:fn(d,m,l),Vo(4,m);break;case 1:if(fn(d,m,l),a=m,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(b){Ie(a,a.return,b)}if(a=m,d=a.updateQueue,d!==null){var _=a.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)sf(R[d],_)}catch(b){Ie(a,a.return,b)}}l&&S&64&&vd(m),qo(m,m.return);break;case 27:Ed(m);case 26:case 5:fn(d,m,l),l&&a===null&&S&4&&Sd(m),qo(m,m.return);break;case 12:fn(d,m,l);break;case 31:fn(d,m,l),l&&S&4&&Nd(d,m);break;case 13:fn(d,m,l),l&&S&4&&Md(d,m);break;case 22:m.memoizedState===null&&fn(d,m,l),qo(m,m.return);break;case 30:break;default:fn(d,m,l)}t=t.sibling}}function Ar(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ao(l))}function Rr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ao(e))}function Bt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dd(e,t,l,a),t=t.sibling}function Dd(e,t,l,a){var d=t.flags;switch(t.tag){case 0:case 11:case 15:Bt(e,t,l,a),d&2048&&Vo(9,t);break;case 1:Bt(e,t,l,a);break;case 3:Bt(e,t,l,a),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ao(e)));break;case 12:if(d&2048){Bt(e,t,l,a),e=t.stateNode;try{var m=t.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ie(t,t.return,R)}}else Bt(e,t,l,a);break;case 31:Bt(e,t,l,a);break;case 13:Bt(e,t,l,a);break;case 23:break;case 22:m=t.stateNode,S=t.alternate,t.memoizedState!==null?m._visibility&2?Bt(e,t,l,a):zo(e,t):m._visibility&2?Bt(e,t,l,a):(m._visibility|=2,qi(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),d&2048&&Ar(S,t);break;case 24:Bt(e,t,l,a),d&2048&&Rr(t.alternate,t);break;default:Bt(e,t,l,a)}}function qi(e,t,l,a,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var m=e,S=t,_=l,R=a,b=S.flags;switch(S.tag){case 0:case 11:case 15:qi(m,S,_,R,d),Vo(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?qi(m,S,_,R,d):zo(m,S):(V._visibility|=2,qi(m,S,_,R,d)),d&&b&2048&&Ar(S.alternate,S);break;case 24:qi(m,S,_,R,d),d&&b&2048&&Rr(S.alternate,S);break;default:qi(m,S,_,R,d)}t=t.sibling}}function zo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,d=a.flags;switch(a.tag){case 22:zo(l,a),d&2048&&Ar(a.alternate,a);break;case 24:zo(l,a),d&2048&&Rr(a.alternate,a);break;default:zo(l,a)}t=t.sibling}}var Po=8192;function zi(e,t,l){if(e.subtreeFlags&Po)for(e=e.child;e!==null;)wd(e,t,l),e=e.sibling}function wd(e,t,l){switch(e.tag){case 26:zi(e,t,l),e.flags&Po&&e.memoizedState!==null&&Yy(l,Pt,e.memoizedState,e.memoizedProps);break;case 5:zi(e,t,l);break;case 3:case 4:var a=Pt;Pt=fs(e.stateNode.containerInfo),zi(e,t,l),Pt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Po,Po=16777216,zi(e,t,l),Po=a):zi(e,t,l));break;default:zi(e,t,l)}}function bd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ze=a,Ld(a,e)}bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ud(e),e=e.sibling}function Ud(e){switch(e.tag){case 0:case 11:case 15:Bo(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:Bo(e);break;case 12:Bo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wl(e)):Bo(e);break;default:Bo(e)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ze=a,Ld(a,e)}bd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Dn(8,t,t.return),Wl(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Wl(t));break;default:Wl(t)}e=e.sibling}}function Ld(e,t){for(;Ze!==null;){var l=Ze;switch(l.tag){case 0:case 11:case 15:Dn(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ao(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ze=a;else e:for(l=e;Ze!==null;){a=Ze;var d=a.sibling,m=a.return;if(Ad(a),a===l){Ze=null;break e}if(d!==null){d.return=m,Ze=d;break e}Ze=m}}}var ay={getCacheForType:function(e){var t=et(Fe),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return et(Fe).controller.signal}},ry=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ge=null,me=null,ve=0,xe=0,Ct=null,wn=!1,Pi=!1,Nr=!1,dn=0,Pe=0,bn=0,ui=0,Mr=0,At=0,Bi=0,Oo=null,mt=null,xr=!1,jl=0,Gd=0,es=1/0,ts=null,Un=null,Xe=0,Ln=null,Oi=null,pn=0,Ir=0,Dr=null,Hd=null,ko=0,wr=null;function Rt(){return(Re&2)!==0&&ve!==0?ve&-ve:H.T!==null?Vr():$u()}function Vd(){if(At===0)if((ve&536870912)===0||Se){var e=ul;ul<<=1,(ul&3932160)===0&&(ul=262144),At=e}else At=536870912;return e=Et.current,e!==null&&(e.flags|=32),At}function ht(e,t,l){(e===Ge&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(ki(e,0),Gn(e,ve,At,!1)),uo(e,l),((Re&2)===0||e!==Ge)&&(e===Ge&&((Re&2)===0&&(ui|=l),Pe===4&&Gn(e,ve,At,!1)),Xt(e))}function qd(e,t,l){if((Re&6)!==0)throw Error(s(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||ro(e,t),d=a?fy(e,t):Ur(e,t,!0),m=a;do{if(d===0){Pi&&!a&&Gn(e,t,0,!1);break}else{if(l=e.current.alternate,m&&!uy(l)){d=Ur(e,t,!1),m=!1;continue}if(d===2){if(m=t,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var _=e;d=Oo;var R=_.current.memoizedState.isDehydrated;if(R&&(ki(_,S).flags|=256),S=Ur(_,S,!1),S!==2){if(Nr&&!R){_.errorRecoveryDisabledLanes|=m,ui|=m,d=4;break e}m=mt,mt=d,m!==null&&(mt===null?mt=m:mt.push.apply(mt,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){ki(e,0),Gn(e,t,0,!0);break}e:{switch(a=e,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Gn(a,t,At,!wn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(d=jl+300-gt(),10<d)){if(Gn(a,t,At,!wn),fl(a,0,!0)!==0)break e;pn=t,a.timeoutHandle=hp(zd.bind(null,a,l,mt,ts,xr,t,At,ui,Bi,wn,m,"Throttled",-0,0),d);break e}zd(a,l,mt,ts,xr,t,At,ui,Bi,wn,m,null,-0,0)}}break}while(!0);Xt(e)}function zd(e,t,l,a,d,m,S,_,R,b,V,P,L,G){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},wd(t,m,P);var Z=(m&62914560)===m?jl-gt():(m&4194048)===m?Gd-gt():0;if(Z=Ky(P,Z),Z!==null){pn=m,e.cancelPendingCommit=Z(Kd.bind(null,e,t,m,l,a,d,S,_,R,V,P,null,L,G)),Gn(e,m,S,!b);return}}Kd(e,t,m,l,a,d,S,_,R)}function uy(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var d=l[a],m=d.getSnapshot;d=d.value;try{if(!St(m(),d))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t,l,a){t&=~Mr,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var d=t;0<d;){var m=31-yt(d),S=1<<m;a[m]=-1,d&=~S}l!==0&&Xu(e,l,t)}function ns(){return(Re&6)===0?(Fo(0),!1):!0}function br(){if(me!==null){if(xe===0)var e=me.return;else e=me,tn=ei=null,Xa(e),Ui=null,No=0,e=me;for(;e!==null;)gd(e.alternate,e),e=e.return;me=null}}function ki(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Iy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),pn=0,br(),Ge=e,me=l=jt(e.current,null),ve=t,xe=0,Ct=null,wn=!1,Pi=ro(e,t),Nr=!1,Bi=At=Mr=ui=bn=Pe=0,mt=Oo=null,xr=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var d=31-yt(a),m=1<<d;t|=e[d],a&=~m}return dn=t,Cl(),l}function Pd(e,t){ue=null,H.H=Lo,t===bi||t===wl?(t=tf(),xe=3):t===Ha?(t=tf(),xe=4):xe=t===cr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,me===null&&(Pe=1,Jl(e,Dt(t,e.current)))}function Bd(){var e=Et.current;return e===null?!0:(ve&4194048)===ve?Lt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Lt:!1}function Od(){var e=H.H;return H.H=Lo,e===null?Lo:e}function kd(){var e=H.A;return H.A=ay,e}function is(){Pe=4,wn||(ve&4194048)!==ve&&Et.current!==null||(Pi=!0),(bn&134217727)===0&&(ui&134217727)===0||Ge===null||Gn(Ge,ve,At,!1)}function Ur(e,t,l){var a=Re;Re|=2;var d=Od(),m=kd();(Ge!==e||ve!==t)&&(ts=null,ki(e,t)),t=!1;var S=Pe;e:do try{if(xe!==0&&me!==null){var _=me,R=Ct;switch(xe){case 8:br(),S=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var b=xe;if(xe=0,Ct=null,Fi(e,_,R,b),l&&Pi){S=0;break e}break;default:b=xe,xe=0,Ct=null,Fi(e,_,R,b)}}cy(),S=Pe;break}catch(V){Pd(e,V)}while(!0);return t&&e.shellSuspendCounter++,tn=ei=null,Re=a,H.H=d,H.A=m,me===null&&(Ge=null,ve=0,Cl()),S}function cy(){for(;me!==null;)Fd(me)}function fy(e,t){var l=Re;Re|=2;var a=Od(),d=kd();Ge!==e||ve!==t?(ts=null,es=gt()+500,ki(e,t)):Pi=ro(e,t);e:do try{if(xe!==0&&me!==null){t=me;var m=Ct;t:switch(xe){case 1:xe=0,Ct=null,Fi(e,t,m,1);break;case 2:case 9:if(jc(m)){xe=0,Ct=null,Jd(t);break}t=function(){xe!==2&&xe!==9||Ge!==e||(xe=7),Xt(e)},m.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:jc(m)?(xe=0,Ct=null,Jd(t)):(xe=0,Ct=null,Fi(e,t,m,7));break;case 5:var S=null;switch(me.tag){case 26:S=me.memoizedState;case 5:case 27:var _=me;if(S?Dp(S):_.stateNode.complete){xe=0,Ct=null;var R=_.sibling;if(R!==null)me=R;else{var b=_.return;b!==null?(me=b,os(b)):me=null}break t}}xe=0,Ct=null,Fi(e,t,m,5);break;case 6:xe=0,Ct=null,Fi(e,t,m,6);break;case 8:br(),Pe=6;break e;default:throw Error(s(462))}}dy();break}catch(V){Pd(e,V)}while(!0);return tn=ei=null,H.H=a,H.A=d,Re=l,me!==null?0:(Ge=null,ve=0,Cl(),Pe)}function dy(){for(;me!==null&&!Gg();)Fd(me)}function Fd(e){var t=md(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?os(e):me=t}function Jd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=rd(l,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=rd(l,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Xa(t);default:gd(l,t),t=me=Oc(t,dn),t=md(l,t,dn)}e.memoizedProps=e.pendingProps,t===null?os(e):me=t}function Fi(e,t,l,a){tn=ei=null,Xa(t),Ui=null,No=0;var d=t.return;try{if(ey(e,d,t,l,ve)){Pe=1,Jl(e,Dt(l,e.current)),me=null;return}}catch(m){if(d!==null)throw me=d,m;Pe=1,Jl(e,Dt(l,e.current)),me=null;return}t.flags&32768?(Se||a===1?e=!0:Pi||(ve&536870912)!==0?e=!1:(wn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Et.current,a!==null&&a.tag===13&&(a.flags|=16384))),Yd(t,e)):os(t)}function os(e){var t=e;do{if((t.flags&32768)!==0){Yd(t,wn);return}e=t.return;var l=iy(t.alternate,t,dn);if(l!==null){me=l;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Pe===0&&(Pe=5)}function Yd(e,t){do{var l=oy(e.alternate,e);if(l!==null){l.flags&=32767,me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=l}while(e!==null);Pe=6,me=null}function Kd(e,t,l,a,d,m,S,_,R){e.cancelPendingCommit=null;do ls();while(Xe!==0);if((Re&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(m=t.lanes|t.childLanes,m|=Ea,Jg(e,l,m,S,_,R),e===Ge&&(me=Ge=null,ve=0),Oi=t,Ln=e,pn=l,Ir=m,Dr=d,Hd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gy(al,function(){return Wd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null,d=K.p,K.p=2,S=Re,Re|=4;try{ly(e,t,l)}finally{Re=S,K.p=d,H.T=a}}Xe=1,Xd(),Qd(),Zd()}}function Xd(){if(Xe===1){Xe=0;var e=Ln,t=Oi,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var a=K.p;K.p=2;var d=Re;Re|=4;try{xd(t,e);var m=Jr,S=Uc(e.containerInfo),_=m.focusedElem,R=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&bc(_.ownerDocument.documentElement,_)){if(R!==null&&ga(_)){var b=R.start,V=R.end;if(V===void 0&&(V=b),"selectionStart"in _)_.selectionStart=b,_.selectionEnd=Math.min(V,_.value.length);else{var P=_.ownerDocument||document,L=P&&P.defaultView||window;if(L.getSelection){var G=L.getSelection(),Z=_.textContent.length,le=Math.min(R.start,Z),Ue=R.end===void 0?le:Math.min(R.end,Z);!G.extend&&le>Ue&&(S=Ue,Ue=le,le=S);var x=wc(_,le),N=wc(_,Ue);if(x&&N&&(G.rangeCount!==1||G.anchorNode!==x.node||G.anchorOffset!==x.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var w=P.createRange();w.setStart(x.node,x.offset),G.removeAllRanges(),le>Ue?(G.addRange(w),G.extend(N.node,N.offset)):(w.setEnd(N.node,N.offset),G.addRange(w))}}}}for(P=[],G=_;G=G.parentNode;)G.nodeType===1&&P.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<P.length;_++){var q=P[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}vs=!!Fr,Jr=Fr=null}finally{Re=d,K.p=a,H.T=l}}e.current=t,Xe=2}}function Qd(){if(Xe===2){Xe=0;var e=Ln,t=Oi,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var a=K.p;K.p=2;var d=Re;Re|=4;try{Cd(e,t.alternate,t)}finally{Re=d,K.p=a,H.T=l}}Xe=3}}function Zd(){if(Xe===4||Xe===3){Xe=0,Hg();var e=Ln,t=Oi,l=pn,a=Hd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,Oi=Ln=null,$d(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Un=null),$s(l),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ao,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=H.T,d=K.p,K.p=2,H.T=null;try{for(var m=e.onRecoverableError,S=0;S<a.length;S++){var _=a[S];m(_.value,{componentStack:_.stack})}}finally{H.T=t,K.p=d}}(pn&3)!==0&&ls(),Xt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===wr?ko++:(ko=0,wr=e):ko=0,Fo(0)}}function $d(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ao(t)))}function ls(){return Xd(),Qd(),Zd(),Wd()}function Wd(){if(Xe!==5)return!1;var e=Ln,t=Ir;Ir=0;var l=$s(pn),a=H.T,d=K.p;try{K.p=32>l?32:l,H.T=null,l=Dr,Dr=null;var m=Ln,S=pn;if(Xe=0,Oi=Ln=null,pn=0,(Re&6)!==0)throw Error(s(331));var _=Re;if(Re|=4,Ud(m.current),Dd(m,m.current,S,l),Re=_,Fo(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ao,m)}catch{}return!0}finally{K.p=d,H.T=a,$d(e,t)}}function jd(e,t,l){t=Dt(l,t),t=ur(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(uo(e,2),Xt(e))}function Ie(e,t,l){if(e.tag===3)jd(e,e,l);else for(;t!==null;){if(t.tag===3){jd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Un===null||!Un.has(a))){e=Dt(l,e),l=ed(2),a=Mn(t,l,2),a!==null&&(td(l,a,t,e),uo(a,2),Xt(a));break}}t=t.return}}function Lr(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new ry;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(l)||(Nr=!0,d.add(l),e=py.bind(null,e,t,l),t.then(e,e))}function py(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ge===e&&(ve&l)===l&&(Pe===4||Pe===3&&(ve&62914560)===ve&&300>gt()-jl?(Re&2)===0&&ki(e,0):Mr|=l,Bi===ve&&(Bi=0)),Xt(e)}function ep(e,t){t===0&&(t=Ku()),e=$n(e,t),e!==null&&(uo(e,t),Xt(e))}function my(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ep(e,l)}function hy(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),ep(e,l)}function gy(e,t){return Ks(e,t)}var ss=null,Ji=null,Gr=!1,as=!1,Hr=!1,Hn=0;function Xt(e){e!==Ji&&e.next===null&&(Ji===null?ss=Ji=e:Ji=Ji.next=e),as=!0,Gr||(Gr=!0,yy())}function Fo(e,t){if(!Hr&&as){Hr=!0;do for(var l=!1,a=ss;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var m=0;else{var S=a.suspendedLanes,_=a.pingedLanes;m=(1<<31-yt(42|e)+1)-1,m&=d&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,op(a,m))}else m=ve,m=fl(a,a===Ge?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||ro(a,m)||(l=!0,op(a,m));a=a.next}while(l);Hr=!1}}function vy(){tp()}function tp(){as=Gr=!1;var e=0;Hn!==0&&xy()&&(e=Hn);for(var t=gt(),l=null,a=ss;a!==null;){var d=a.next,m=np(a,t);m===0?(a.next=null,l===null?ss=d:l.next=d,d===null&&(Ji=l)):(l=a,(e!==0||(m&3)!==0)&&(as=!0)),a=d}Xe!==0&&Xe!==5||Fo(e),Hn!==0&&(Hn=0)}function np(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-yt(m),_=1<<S,R=d[S];R===-1?((_&l)===0||(_&a)!==0)&&(d[S]=Fg(_,t)):R<=t&&(e.expiredLanes|=_),m&=~_}if(t=Ge,l=ve,l=fl(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Xs(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ro(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Xs(a),$s(l)){case 2:case 8:l=Ju;break;case 32:l=al;break;case 268435456:l=Yu;break;default:l=al}return a=ip.bind(null,e),l=Ks(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Xs(a),e.callbackPriority=2,e.callbackNode=null,2}function ip(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ls()&&e.callbackNode!==l)return null;var a=ve;return a=fl(e,e===Ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qd(e,a,t),np(e,gt()),e.callbackNode!=null&&e.callbackNode===l?ip.bind(null,e):null)}function op(e,t){if(ls())return null;qd(e,t,!0)}function yy(){Dy(function(){(Re&6)!==0?Ks(Fu,vy):tp()})}function Vr(){if(Hn===0){var e=Di;e===0&&(e=rl,rl<<=1,(rl&261888)===0&&(rl=256)),Hn=e}return Hn}function lp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function sp(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Sy(e,t,l,a,d){if(t==="submit"&&l&&l.stateNode===d){var m=lp((d[ut]||null).action),S=a.submitter;S&&(t=(t=S[ut]||null)?lp(t.formAction):S.getAttribute("formAction"),t!==null&&(m=t,S=null));var _=new Sl("action","action",null,a,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Hn!==0){var R=S?sp(d,S):new FormData(d);ir(l,{pending:!0,data:R,method:d.method,action:m},null,R)}}else typeof m=="function"&&(_.preventDefault(),R=S?sp(d,S):new FormData(d),ir(l,{pending:!0,data:R,method:d.method,action:m},m,R))},currentTarget:d}]})}}for(var qr=0;qr<Ta.length;qr++){var zr=Ta[qr],Ty=zr.toLowerCase(),Ey=zr[0].toUpperCase()+zr.slice(1);zt(Ty,"on"+Ey)}zt(Hc,"onAnimationEnd"),zt(Vc,"onAnimationIteration"),zt(qc,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(Vv,"onTransitionRun"),zt(qv,"onTransitionStart"),zt(zv,"onTransitionCancel"),zt(zc,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function ap(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],d=a.event;a=a.listeners;e:{var m=void 0;if(t)for(var S=a.length-1;0<=S;S--){var _=a[S],R=_.instance,b=_.currentTarget;if(_=_.listener,R!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=b;try{m(d)}catch(V){_l(V)}d.currentTarget=null,m=R}else for(S=0;S<a.length;S++){if(_=a[S],R=_.instance,b=_.currentTarget,_=_.listener,R!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=b;try{m(d)}catch(V){_l(V)}d.currentTarget=null,m=R}}}}function he(e,t){var l=t[Ws];l===void 0&&(l=t[Ws]=new Set);var a=e+"__bubble";l.has(a)||(rp(t,e,2,!1),l.add(a))}function Pr(e,t,l){var a=0;t&&(a|=4),rp(l,e,a,t)}var rs="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[rs]){e[rs]=!0,ec.forEach(function(l){l!=="selectionchange"&&(_y.has(l)||Pr(l,!1,e),Pr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rs]||(t[rs]=!0,Pr("selectionchange",!1,t))}}function rp(e,t,l,a){switch(Vp(t)){case 2:var d=Zy;break;case 8:d=$y;break;default:d=nu}l=d.bind(null,t,l,e),d=void 0,!aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,l,{capture:!0,passive:d}):e.addEventListener(t,l,!0):d!==void 0?e.addEventListener(t,l,{passive:d}):e.addEventListener(t,l,!1)}function Or(e,t,l,a,d){var m=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var _=a.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=a.return;S!==null;){var R=S.tag;if((R===3||R===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=pi(_),S===null)return;if(R=S.tag,R===5||R===6||R===26||R===27){a=m=S;continue e}_=_.parentNode}}a=a.return}dc(function(){var b=m,V=la(l),P=[];e:{var L=Pc.get(e);if(L!==void 0){var G=Sl,Z=e;switch(e){case"keypress":if(vl(l)===0)break e;case"keydown":case"keyup":G=hv;break;case"focusin":Z="focus",G=fa;break;case"focusout":Z="blur",G=fa;break;case"beforeblur":case"afterblur":G=fa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=yv;break;case Hc:case Vc:case qc:G=sv;break;case zc:G=Tv;break;case"scroll":case"scrollend":G=tv;break;case"wheel":G=_v;break;case"copy":case"cut":case"paste":G=rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=vc;break;case"toggle":case"beforetoggle":G=Av}var le=(t&4)!==0,Ue=!le&&(e==="scroll"||e==="scrollend"),x=le?L!==null?L+"Capture":null:L;le=[];for(var N=b,w;N!==null;){var q=N;if(w=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||w===null||x===null||(q=po(N,x),q!=null&&le.push(Yo(N,q,w))),Ue)break;N=N.return}0<le.length&&(L=new G(L,Z,null,l,V),P.push({event:L,listeners:le}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",L&&l!==oa&&(Z=l.relatedTarget||l.fromElement)&&(pi(Z)||Z[di]))break e;if((G||L)&&(L=V.window===V?V:(L=V.ownerDocument)?L.defaultView||L.parentWindow:window,G?(Z=l.relatedTarget||l.toElement,G=b,Z=Z?pi(Z):null,Z!==null&&(Ue=f(Z),le=Z.tag,Z!==Ue||le!==5&&le!==27&&le!==6)&&(Z=null)):(G=null,Z=b),G!==Z)){if(le=hc,q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(le=vc,q="onPointerLeave",x="onPointerEnter",N="pointer"),Ue=G==null?L:fo(G),w=Z==null?L:fo(Z),L=new le(q,N+"leave",G,l,V),L.target=Ue,L.relatedTarget=w,q=null,pi(V)===b&&(le=new le(x,N+"enter",Z,l,V),le.target=w,le.relatedTarget=Ue,q=le),Ue=q,G&&Z)t:{for(le=Cy,x=G,N=Z,w=0,q=x;q;q=le(q))w++;q=0;for(var ie=N;ie;ie=le(ie))q++;for(;0<w-q;)x=le(x),w--;for(;0<q-w;)N=le(N),q--;for(;w--;){if(x===N||N!==null&&x===N.alternate){le=x;break t}x=le(x),N=le(N)}le=null}else le=null;G!==null&&up(P,L,G,le,!1),Z!==null&&Ue!==null&&up(P,Ue,Z,le,!0)}}e:{if(L=b?fo(b):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var _e=Rc;else if(Cc(L))if(Nc)_e=Lv;else{_e=bv;var ee=wv}else G=L.nodeName,!G||G.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?b&&ia(b.elementType)&&(_e=Rc):_e=Uv;if(_e&&(_e=_e(e,b))){Ac(P,_e,l,V);break e}ee&&ee(e,L,b),e==="focusout"&&b&&L.type==="number"&&b.memoizedProps.value!=null&&na(L,"number",L.value)}switch(ee=b?fo(b):window,e){case"focusin":(Cc(ee)||ee.contentEditable==="true")&&(_i=ee,va=b,Eo=null);break;case"focusout":Eo=va=_i=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,Lc(P,l,V);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":Lc(P,l,V)}var fe;if(pa)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ei?Ec(e,l)&&(ye="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(yc&&l.locale!=="ko"&&(Ei||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ei&&(fe=pc()):(Tn=V,ra="value"in Tn?Tn.value:Tn.textContent,Ei=!0)),ee=us(b,ye),0<ee.length&&(ye=new gc(ye,e,null,l,V),P.push({event:ye,listeners:ee}),fe?ye.data=fe:(fe=_c(l),fe!==null&&(ye.data=fe)))),(fe=Nv?Mv(e,l):xv(e,l))&&(ye=us(b,"onBeforeInput"),0<ye.length&&(ee=new gc("onBeforeInput","beforeinput",null,l,V),P.push({event:ee,listeners:ye}),ee.data=fe)),Sy(P,e,b,l,V)}ap(P,t)})}function Yo(e,t,l){return{instance:e,listener:t,currentTarget:l}}function us(e,t){for(var l=t+"Capture",a=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=po(e,l),d!=null&&a.unshift(Yo(e,d,m)),d=po(e,t),d!=null&&a.push(Yo(e,d,m))),e.tag===3)return a;e=e.return}return[]}function Cy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function up(e,t,l,a,d){for(var m=t._reactName,S=[];l!==null&&l!==a;){var _=l,R=_.alternate,b=_.stateNode;if(_=_.tag,R!==null&&R===a)break;_!==5&&_!==26&&_!==27||b===null||(R=b,d?(b=po(l,m),b!=null&&S.unshift(Yo(l,b,R))):d||(b=po(l,m),b!=null&&S.push(Yo(l,b,R)))),l=l.return}S.length!==0&&e.push({event:t,listeners:S})}var Ay=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(Ry,"")}function fp(e,t){return t=cp(t),cp(e)===t}function be(e,t,l,a,d,m){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||yi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&yi(e,""+a);break;case"className":pl(e,"class",a);break;case"tabIndex":pl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,l,a);break;case"style":cc(e,a,m);break;case"data":if(t!=="object"){pl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=hl(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(t!=="input"&&be(e,t,"name",d.name,d,null),be(e,t,"formEncType",d.formEncType,d,null),be(e,t,"formMethod",d.formMethod,d,null),be(e,t,"formTarget",d.formTarget,d,null)):(be(e,t,"encType",d.encType,d,null),be(e,t,"method",d.method,d,null),be(e,t,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=hl(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=$t);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=hl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":he("beforetoggle",e),he("toggle",e),dl(e,"popover",a);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":dl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jg.get(l)||l,dl(e,l,a))}}function kr(e,t,l,a,d,m){switch(l){case"style":cc(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?yi(e,a):(typeof a=="number"||typeof a=="bigint")&&yi(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),t=l.slice(2,d?l.length-7:void 0),m=e[ut]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(t,m,d),typeof a=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,d);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):dl(e,l,a)}}}function nt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:be(e,t,m,S,l,null)}}d&&be(e,t,"srcSet",l.srcSet,l,null),a&&be(e,t,"src",l.src,l,null);return;case"input":he("invalid",e);var _=m=S=d=null,R=null,b=null;for(a in l)if(l.hasOwnProperty(a)){var V=l[a];if(V!=null)switch(a){case"name":d=V;break;case"type":S=V;break;case"checked":R=V;break;case"defaultChecked":b=V;break;case"value":m=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,t));break;default:be(e,t,a,V,l,null)}}sc(e,m,_,R,b,S,d,!1);return;case"select":he("invalid",e),a=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":a=_;default:be(e,t,d,_,l,null)}t=m,l=S,e.multiple=!!a,t!=null?vi(e,!!a,t,!1):l!=null&&vi(e,!!a,l,!0);return;case"textarea":he("invalid",e),m=d=a=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":a=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:be(e,t,S,_,l,null)}rc(e,a,d,m);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(a=l[R],a!=null))switch(R){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:be(e,t,R,a,l,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Jo.length;a++)he(Jo[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in l)if(l.hasOwnProperty(b)&&(a=l[b],a!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:be(e,t,b,a,l,null)}return;default:if(ia(t)){for(V in l)l.hasOwnProperty(V)&&(a=l[V],a!==void 0&&kr(e,t,V,a,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!=null&&be(e,t,_,a,l,null))}function Ny(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,_=null,R=null,b=null,V=null;for(G in l){var P=l[G];if(l.hasOwnProperty(G)&&P!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=P;default:a.hasOwnProperty(G)||be(e,t,G,null,a,P)}}for(var L in a){var G=a[L];if(P=l[L],a.hasOwnProperty(L)&&(G!=null||P!=null))switch(L){case"type":m=G;break;case"name":d=G;break;case"checked":b=G;break;case"defaultChecked":V=G;break;case"value":S=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:G!==P&&be(e,t,L,G,a,P)}}ta(e,S,_,R,b,V,m,d);return;case"select":G=S=_=L=null;for(m in l)if(R=l[m],l.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":G=R;default:a.hasOwnProperty(m)||be(e,t,m,null,a,R)}for(d in a)if(m=a[d],R=l[d],a.hasOwnProperty(d)&&(m!=null||R!=null))switch(d){case"value":L=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==R&&be(e,t,d,m,a,R)}t=_,l=S,a=G,L!=null?vi(e,!!l,L,!1):!!a!=!!l&&(t!=null?vi(e,!!l,t,!0):vi(e,!!l,l?[]:"",!1));return;case"textarea":G=L=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!a.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:be(e,t,_,null,a,d)}for(S in a)if(d=a[S],m=l[S],a.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":L=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&be(e,t,S,d,a,m)}ac(e,L,G);return;case"option":for(var Z in l)if(L=l[Z],l.hasOwnProperty(Z)&&L!=null&&!a.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:be(e,t,Z,null,a,L)}for(R in a)if(L=a[R],G=l[R],a.hasOwnProperty(R)&&L!==G&&(L!=null||G!=null))switch(R){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:be(e,t,R,L,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)L=l[le],l.hasOwnProperty(le)&&L!=null&&!a.hasOwnProperty(le)&&be(e,t,le,null,a,L);for(b in a)if(L=a[b],G=l[b],a.hasOwnProperty(b)&&L!==G&&(L!=null||G!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:be(e,t,b,L,a,G)}return;default:if(ia(t)){for(var Ue in l)L=l[Ue],l.hasOwnProperty(Ue)&&L!==void 0&&!a.hasOwnProperty(Ue)&&kr(e,t,Ue,void 0,a,L);for(V in a)L=a[V],G=l[V],!a.hasOwnProperty(V)||L===G||L===void 0&&G===void 0||kr(e,t,V,L,a,G);return}}for(var x in l)L=l[x],l.hasOwnProperty(x)&&L!=null&&!a.hasOwnProperty(x)&&be(e,t,x,null,a,L);for(P in a)L=a[P],G=l[P],!a.hasOwnProperty(P)||L===G||L==null&&G==null||be(e,t,P,L,a,G)}function dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function My(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var d=l[a],m=d.transferSize,S=d.initiatorType,_=d.duration;if(m&&_&&dp(S)){for(S=0,_=d.responseEnd,a+=1;a<l.length;a++){var R=l[a],b=R.startTime;if(b>_)break;var V=R.transferSize,P=R.initiatorType;V&&dp(P)&&(R=R.responseEnd,S+=V*(R<_?1:(_-b)/(R-b)))}if(--a,t+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fr=null,Jr=null;function cs(e){return e.nodeType===9?e:e.ownerDocument}function pp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Yr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kr=null;function xy(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,Dy=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(wy)}:hp;function wy(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function vp(e,t){var l=t,a=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(d),Qi(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Ko(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Ko(l);for(var m=l.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[co]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Ko(e.ownerDocument.body);l=d}while(l);Qi(t)}function yp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Xr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xr(l),js(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function by(e,t,l,a){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[co])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Uy(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Gt(e.nextSibling),e===null))return null;return e}function Sp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Qr(e){return e.data==="$?"||e.data==="$~"}function Zr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ly(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $r=null;function Tp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Gt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function _p(e,t,l){switch(t=cs(l),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ko(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);js(e)}var Ht=new Map,Cp=new Set;function fs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=K.d;K.d={f:Gy,r:Hy,D:Vy,C:qy,L:zy,m:Py,X:Oy,S:By,M:ky};function Gy(){var e=mn.f(),t=ns();return e||t}function Hy(e){var t=mi(e);t!==null&&t.tag===5&&t.type==="form"?Pf(t):mn.r(e)}var Yi=typeof document>"u"?null:document;function Ap(e,t,l){var a=Yi;if(a&&typeof t=="string"&&t){var d=xt(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Cp.has(d)||(Cp.add(d),e={rel:e,crossOrigin:l,href:t},a.querySelector(d)===null&&(t=a.createElement("link"),nt(t,"link",e),Qe(t),a.head.appendChild(t)))}}function Vy(e){mn.D(e),Ap("dns-prefetch",e,null)}function qy(e,t){mn.C(e,t),Ap("preconnect",e,t)}function zy(e,t,l){mn.L(e,t,l);var a=Yi;if(a&&e&&t){var d='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+xt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+xt(l.imageSizes)+'"]')):d+='[href="'+xt(e)+'"]';var m=d;switch(t){case"style":m=Ki(e);break;case"script":m=Xi(e)}Ht.has(m)||(e=T({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Ht.set(m,e),a.querySelector(d)!==null||t==="style"&&a.querySelector(Xo(m))||t==="script"&&a.querySelector(Qo(m))||(t=a.createElement("link"),nt(t,"link",e),Qe(t),a.head.appendChild(t)))}}function Py(e,t){mn.m(e,t);var l=Yi;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+xt(a)+'"][href="'+xt(e)+'"]',m=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Xi(e)}if(!Ht.has(m)&&(e=T({rel:"modulepreload",href:e},t),Ht.set(m,e),l.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qo(m)))return}a=l.createElement("link"),nt(a,"link",e),Qe(a),l.head.appendChild(a)}}}function By(e,t,l){mn.S(e,t,l);var a=Yi;if(a&&e){var d=hi(a).hoistableStyles,m=Ki(e);t=t||"default";var S=d.get(m);if(!S){var _={loading:0,preload:null};if(S=a.querySelector(Xo(m)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Ht.get(m))&&Wr(e,l);var R=S=a.createElement("link");Qe(R),nt(R,"link",e),R._p=new Promise(function(b,V){R.onload=b,R.onerror=V}),R.addEventListener("load",function(){_.loading|=1}),R.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ds(S,t,a)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(m,S)}}}function Oy(e,t){mn.X(e,t);var l=Yi;if(l&&e){var a=hi(l).hoistableScripts,d=Xi(e),m=a.get(d);m||(m=l.querySelector(Qo(d)),m||(e=T({src:e,async:!0},t),(t=Ht.get(d))&&jr(e,t),m=l.createElement("script"),Qe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(d,m))}}function ky(e,t){mn.M(e,t);var l=Yi;if(l&&e){var a=hi(l).hoistableScripts,d=Xi(e),m=a.get(d);m||(m=l.querySelector(Qo(d)),m||(e=T({src:e,async:!0,type:"module"},t),(t=Ht.get(d))&&jr(e,t),m=l.createElement("script"),Qe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(d,m))}}function Rp(e,t,l,a){var d=(d=pe.current)?fs(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ki(l.href),l=hi(d).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ki(l.href);var m=hi(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(Xo(e)))&&!m._p&&(S.instance=m,S.state.loading=5),Ht.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ht.set(e,l),m||Fy(d,e,l,S.state))),t&&a===null)throw Error(s(528,""));return S}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xi(l),l=hi(d).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ki(e){return'href="'+xt(e)+'"'}function Xo(e){return'link[rel="stylesheet"]['+e+"]"}function Np(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Fy(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),nt(t,"link",l),Qe(t),e.head.appendChild(t))}function Xi(e){return'[src="'+xt(e)+'"]'}function Qo(e){return"script[async]"+e}function Mp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+xt(l.href)+'"]');if(a)return t.instance=a,Qe(a),a;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Qe(a),nt(a,"style",d),ds(a,l.precedence,e),t.instance=a;case"stylesheet":d=Ki(l.href);var m=e.querySelector(Xo(d));if(m)return t.state.loading|=4,t.instance=m,Qe(m),m;a=Np(l),(d=Ht.get(d))&&Wr(a,d),m=(e.ownerDocument||e).createElement("link"),Qe(m);var S=m;return S._p=new Promise(function(_,R){S.onload=_,S.onerror=R}),nt(m,"link",a),t.state.loading|=4,ds(m,l.precedence,e),t.instance=m;case"script":return m=Xi(l.src),(d=e.querySelector(Qo(m)))?(t.instance=d,Qe(d),d):(a=l,(d=Ht.get(m))&&(a=T({},l),jr(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),Qe(d),nt(d,"link",a),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ds(a,l.precedence,e));return t.instance}function ds(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,m=d,S=0;S<a.length;S++){var _=a[S];if(_.dataset.precedence===t)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Wr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ps=null;function xp(e,t,l){if(ps===null){var a=new Map,d=ps=new Map;d.set(l,a)}else d=ps,a=d.get(l),a||(a=new Map,d.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[co]||m[We]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(t)||"";S=e+S;var _=a.get(S);_?_.push(m):a.set(S,[m])}}return a}function Ip(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Jy(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yy(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Ki(a.href),m=t.querySelector(Xo(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ms.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=m,Qe(m);return}m=t.ownerDocument||t,a=Np(a),(d=Ht.get(d))&&Wr(a,d),m=m.createElement("link"),Qe(m);var S=m;S._p=new Promise(function(_,R){S.onload=_,S.onerror=R}),nt(m,"link",a),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ms.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var eu=0;function Ky(e,t){return e.stylesheets&&e.count===0&&gs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+t);0<e.imgBytes&&eu===0&&(eu=62500*My());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>eu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(d)}}:null}function ms(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hs=null;function gs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hs=new Map,t.forEach(Xy,e),hs=null,ms.call(e))}function Xy(e,t){if(!(t.state.loading&4)){var l=hs.get(e);if(l)var a=l.get(null);else{l=new Map,hs.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}d=t.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||a,m===a&&l.set(null,d),l.set(S,d),this.count++,a=ms.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Zo={$$typeof:k,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Qy(e,t,l,a,d,m,S,_,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function wp(e,t,l,a,d,m,S,_,R,b,V,P){return e=new Qy(e,t,l,S,R,b,V,P,_),t=1,m===!0&&(t|=24),m=Tt(3,null,null,t),e.current=m,m.stateNode=e,t=Ua(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:a,isDehydrated:l,cache:t},Va(m),e}function bp(e){return e?(e=Ri,e):Ri}function Up(e,t,l,a,d,m){d=bp(d),a.context===null?a.context=d:a.pendingContext=d,a=Nn(t),a.payload={element:l},m=m===void 0?null:m,m!==null&&(a.callback=m),l=Mn(e,a,t),l!==null&&(ht(l,e,t),xo(l,e,t))}function Lp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function tu(e,t){Lp(e,t),(e=e.alternate)&&Lp(e,t)}function Gp(e){if(e.tag===13||e.tag===31){var t=$n(e,67108864);t!==null&&ht(t,e,67108864),tu(e,67108864)}}function Hp(e){if(e.tag===13||e.tag===31){var t=Rt();t=Zs(t);var l=$n(e,t);l!==null&&ht(l,e,t),tu(e,t)}}var vs=!0;function Zy(e,t,l,a){var d=H.T;H.T=null;var m=K.p;try{K.p=2,nu(e,t,l,a)}finally{K.p=m,H.T=d}}function $y(e,t,l,a){var d=H.T;H.T=null;var m=K.p;try{K.p=8,nu(e,t,l,a)}finally{K.p=m,H.T=d}}function nu(e,t,l,a){if(vs){var d=iu(a);if(d===null)Or(e,t,a,ys,l),qp(e,a);else if(jy(d,e,t,l,a))a.stopPropagation();else if(qp(e,a),t&4&&-1<Wy.indexOf(e)){for(;d!==null;){var m=mi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Yn(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var R=1<<31-yt(S);_.entanglements[1]|=R,S&=~R}Xt(m),(Re&6)===0&&(es=gt()+500,Fo(0))}}break;case 31:case 13:_=$n(m,2),_!==null&&ht(_,m,2),ns(),tu(m,2)}if(m=iu(a),m===null&&Or(e,t,a,ys,l),m===d)break;d=m}d!==null&&a.stopPropagation()}else Or(e,t,a,null,l)}}function iu(e){return e=la(e),ou(e)}var ys=null;function ou(e){if(ys=null,e=pi(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=p(t),e!==null)return e;e=null}else if(l===31){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ys=e,null}function Vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vg()){case Fu:return 2;case Ju:return 8;case al:case qg:return 32;case Yu:return 268435456;default:return 32}default:return 32}}var lu=!1,qn=null,zn=null,Pn=null,$o=new Map,Wo=new Map,Bn=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":$o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(t.pointerId)}}function jo(e,t,l,a,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:m,targetContainers:[d]},t!==null&&(t=mi(t),t!==null&&Gp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function jy(e,t,l,a,d){switch(t){case"focusin":return qn=jo(qn,e,t,l,a,d),!0;case"dragenter":return zn=jo(zn,e,t,l,a,d),!0;case"mouseover":return Pn=jo(Pn,e,t,l,a,d),!0;case"pointerover":var m=d.pointerId;return $o.set(m,jo($o.get(m)||null,e,t,l,a,d)),!0;case"gotpointercapture":return m=d.pointerId,Wo.set(m,jo(Wo.get(m)||null,e,t,l,a,d)),!0}return!1}function zp(e){var t=pi(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=p(l),t!==null){e.blockedOn=t,Wu(e.priority,function(){Hp(l)});return}}else if(t===31){if(t=g(l),t!==null){e.blockedOn=t,Wu(e.priority,function(){Hp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=iu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);oa=a,l.target.dispatchEvent(a),oa=null}else return t=mi(l),t!==null&&Gp(t),e.blockedOn=l,!1;t.shift()}return!0}function Pp(e,t,l){Ss(e)&&l.delete(t)}function e0(){lu=!1,qn!==null&&Ss(qn)&&(qn=null),zn!==null&&Ss(zn)&&(zn=null),Pn!==null&&Ss(Pn)&&(Pn=null),$o.forEach(Pp),Wo.forEach(Pp)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,e0)))}var Es=null;function Bp(e){Es!==e&&(Es=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Es===e&&(Es=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],d=e[t+2];if(typeof a!="function"){if(ou(a||l)===null)continue;break}var m=mi(l);m!==null&&(e.splice(t,3),t-=3,ir(m,{pending:!0,data:d,method:l.method,action:a},a,d))}}))}function Qi(e){function t(R){return Ts(R,e)}qn!==null&&Ts(qn,e),zn!==null&&Ts(zn,e),Pn!==null&&Ts(Pn,e),$o.forEach(t),Wo.forEach(t);for(var l=0;l<Bn.length;l++){var a=Bn[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Bn.length&&(l=Bn[0],l.blockedOn===null);)zp(l),l.blockedOn===null&&Bn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var d=l[a],m=l[a+1],S=d[ut]||null;if(typeof m=="function")S||Bp(l);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[ut]||null)_=S.formAction;else if(ou(d)!==null)continue}else _=S.action;typeof _=="function"?l[a+1]=_:(l.splice(a,3),a-=3),Bp(l)}}}function Op(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function su(e){this._internalRoot=e}_s.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var l=t.current,a=Rt();Up(l,a,e,t,null,null)},_s.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Up(e.current,2,null,e,null,null),ns(),t[di]=null}};function _s(e){this._internalRoot=e}_s.prototype.unstable_scheduleHydration=function(e){if(e){var t=$u();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Bn.length&&t!==0&&t<Bn[l].priority;l++);Bn.splice(l,0,e),l===0&&zp(e)}};var kp=n.version;if(kp!=="19.2.4")throw Error(s(527,kp,"19.2.4"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var t0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{ao=Cs.inject(t0),vt=Cs}catch{}}return tl.createRoot=function(e,t){if(!r(e))throw Error(s(299));var l=!1,a="",d=Zf,m=$f,S=Wf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=wp(e,1,!1,null,null,l,a,null,d,m,S,Op),e[di]=t.current,Br(e),new su(t)},tl.hydrateRoot=function(e,t,l){if(!r(e))throw Error(s(299));var a=!1,d="",m=Zf,S=$f,_=Wf,R=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(R=l.formState)),t=wp(e,1,!0,t,l??null,a,d,R,m,S,_,Op),t.context=bp(null),l=t.current,a=Rt(),a=Zs(a),d=Nn(a),d.callback=null,Mn(l,d,a),l=a,t.current.lanes=l,uo(t,l),Xt(t),e[di]=t.current,Br(e),new _s(t)},tl.version="19.2.4",tl}var jp;function d0(){if(jp)return uu.exports;jp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),uu.exports=f0(),uu.exports}var p0=d0();const m0=Hh(p0),h0=({student:i,onSelect:n,onDelete:o})=>{const s=f=>{if(!f)return"N/A";const p=new Date(f),g=new Date;let v=g.getFullYear()-p.getFullYear();const h=g.getMonth()-p.getMonth();return(h<0||h===0&&g.getDate()<p.getDate())&&v--,v},r=f=>{f.stopPropagation(),o(i.id)};return C.jsxs("div",{onClick:n,className:"relative bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-transparent hover:border-teal-500",children:[C.jsx("button",{onClick:r,className:"absolute top-2 left-2 w-7 h-7 bg-red-100 text-red-600 rounded-full flex items-center justify-center hover:bg-red-600 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 z-10","aria-label":` ${i.personalInfo.fullName}`,children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),C.jsxs("div",{className:"flex flex-col items-center p-6",children:[C.jsx("img",{className:"w-24 h-24 rounded-full object-cover mb-4 ring-2 ring-offset-2 ring-teal-200",src:i.personalInfo.photoUrl,alt:i.personalInfo.fullName}),C.jsx("h3",{className:"text-lg font-bold text-slate-800",children:i.personalInfo.fullName}),C.jsx("p",{className:"text-sm text-slate-500",children:i.medicalDiagnosis.primaryDiagnosis}),C.jsxs("div",{className:"mt-4 text-sm text-slate-600 flex flex-col items-center gap-1",children:[C.jsxs("span",{children:[": ",s(i.personalInfo.dob)," "]}),C.jsxs("span",{children:[": ",i.personalInfo.grade]})]})]})]})},g0=["  "," "," "," ","    (ADHD)"," ",""],v0={academicSkills:" ",languageAndCommunication:" ",sensoryAndCognitiveSkills:"  ",socialSkills:" ",behaviorAndSelfRegulation:"  ",motorSkills:" "},em=["","","","",""," "],tm=["","",""];var y0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let S0,T0;function E0(){return{geminiUrl:S0,vertexUrl:T0}}function _0(i,n,o,s){var r,f;if(!(i!=null&&i.baseUrl)){const p=E0();return n?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{}function X(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const f=n[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,n,o){for(let f=0;f<n.length-1;f++){const p=n[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const v=i[g];if(Array.isArray(o))for(let h=0;h<v.length;h++){const y=v[h];c(y,n.slice(f+1),o[h])}else for(const h of v)c(h,n.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const v=i[g];c(v[0],n.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const s=n[n.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let s=0;s<n.length;s++){if(typeof i!="object"||i===null)return o;const r=n[s];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,n.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function C0(i,n){for(const[o,s]of Object.entries(n)){const r=o.split("."),f=s.split("."),p=new Set;let g=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){g=v;break}if(g!==-1&&f.length>g)for(let v=g;v<f.length;v++){const h=f[v];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}gu(i,r,f,0,p)}}function gu(i,n,o,s,r){if(s>=n.length||typeof i!="object"||i===null)return;const f=n[s];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const v of g[p])gu(v,n,o,s+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),v={};for(const h of g)v[h]=p[h];for(const[h,y]of Object.entries(v)){const T=[];for(const E of o.slice(s))E==="*"?T.push(h):T.push(E);c(p,T,y)}for(const h of g)delete p[h]}}else{const p=i;f in p&&gu(p[f],n,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A0(i){const n={},o=u(i,["operationName"]);o!=null&&c(n,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function R0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],M0(p)),n}function N0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],x0(p)),n}function M0(i){const n={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>I0(p))),c(n,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function x0(i){const n={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>D0(p))),c(n,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function I0(i){const n={},o=u(i,["video"]);return o!=null&&c(n,["video"],H0(o)),n}function D0(i){const n={},o=u(i,["_self"]);return o!=null&&c(n,["video"],V0(o)),n}function w0(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function b0(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function U0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],L0(p)),n}function L0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function Vh(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],G0(p)),n}function G0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function H0(i){const n={},o=u(i,["uri"]);o!=null&&c(n,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],bu(s));const r=u(i,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function V0(i){const n={},o=u(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],bu(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(nm||(nm={}));var im;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(im||(im={}));var om;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(om||(om={}));var kn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(kn||(kn={}));var lm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(lm||(lm={}));var sm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(sm||(sm={}));var am;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(am||(am={}));var rm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(rm||(rm={}));var um;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(um||(um={}));var cm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(cm||(cm={}));var fm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(fm||(fm={}));var dm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(dm||(dm={}));var pm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pm||(pm={}));var mm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(mm||(mm={}));var hm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(hm||(hm={}));var gm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(gm||(gm={}));var vm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(vm||(vm={}));var ym;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ym||(ym={}));var Sm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Sm||(Sm={}));var Tm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Tm||(Tm={}));var Em;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Em||(Em={}));var ws;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ws||(ws={}));var _m;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_m||(_m={}));var Cm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Cm||(Cm={}));var Am;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Am||(Am={}));var vu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vu||(vu={}));var Rm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rm||(Rm={}));var Nm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Nm||(Nm={}));var yu;(function(i){i.COLLECTION="COLLECTION"})(yu||(yu={}));var Mm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Mm||(Mm={}));var xm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xm||(xm={}));var Im;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Im||(Im={}));var Dm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Dm||(Dm={}));var wm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(wm||(wm={}));var bm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bm||(bm={}));var Um;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Um||(Um={}));var Lm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Lm||(Lm={}));var Gm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gm||(Gm={}));var Hm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Hm||(Hm={}));var Vm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Vm||(Vm={}));var qm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(qm||(qm={}));var zm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(zm||(zm={}));var Pm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(Pm||(Pm={}));var Bm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Bm||(Bm={}));var Om;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Om||(Om={}));var km;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(km||(km={}));var Fm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Fm||(Fm={}));var Jm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Jm||(Jm={}));var Ym;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ym||(Ym={}));var Km;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Km||(Km={}));var Xm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xm||(Xm={}));var Qm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qm||(Qm={}));var Zm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Zm||(Zm={}));var $m;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($m||($m={}));var Wm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Wm||(Wm={}));var jm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(jm||(jm={}));var $i;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($i||($i={}));class Su{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class nl{get text(){var n,o,s,r,f,p,g,v;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const T=[];for(const E of(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[A,D]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(D!==null||D!==void 0)&&T.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var n,o,s,r,f,p,g,v;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const T of(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[E,A]of Object.entries(T))E!=="inlineData"&&(A!==null||A!==void 0)&&y.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,s,r,f,p,g,v;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,o,s,r,f,p,g,v,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,s,r,f,p,g,v,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class eh{}class th{}class q0{}class z0{}class P0{}class B0{}class nh{}class ih{}class oh{}class O0{}class bs{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new bs;let r;const f=n;return o?r=N0(f):r=R0(f),Object.assign(s,r),s}}class lh{}class sh{}class ah{}class rh{}class k0{}class F0{}class J0{}class Uu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new Uu,f=U0(n);return Object.assign(s,f),s}}class Y0{}class K0{}class X0{}class Q0{}class uh{}class Z0{get text(){var n,o,s;let r="",f=!1;const p=[];for(const g of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[v,h]of Object.entries(g))v!=="text"&&v!=="thought"&&h!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var n,o,s;let r="";const f=[];for(const p of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class $0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Lu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new Lu,f=Vh(n);return Object.assign(s,f),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function qh(i,n){const o=Ae(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function zh(i){return Array.isArray(i)?i.map(n=>Us(n)):[Us(i)]}function Us(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Ph(i){const n=Us(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Bh(i){const n=Us(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function ch(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Oh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>ch(n)):[ch(i)]}function Tu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function fh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function dh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ot(i){if(i==null)throw new Error("ContentUnion is required");return Tu(i)?i:{role:"user",parts:Oh(i)}}function Gu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=ot(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=ot(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>ot(o)):[ot(n)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(fh(i)||dh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(i)]}const n=[],o=[],s=Tu(i[0]);for(const r of i){const f=Tu(r);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(r);else{if(fh(r)||dh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||n.push({role:"user",parts:Oh(o)}),n}function W0(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(kn).includes(o[0].toUpperCase())?o[0].toUpperCase():kn.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(kn).includes(s.toUpperCase())?s.toUpperCase():kn.TYPE_UNSPECIFIED})}}function ji(i){const n={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,i=f[1]):f[1].type==="null"&&(n.nullable=!0,i=f[0])),i.type instanceof Array&&W0(i.type,n);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(kn).includes(g.toUpperCase())?g.toUpperCase():kn.TYPE_UNSPECIFIED}else if(o.includes(p))n[p]=ji(g);else if(s.includes(p)){const v=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}v.push(ji(h))}n[p]=v}else if(r.includes(p)){const v={};for(const[h,y]of Object.entries(g))v[h]=ji(y);n[p]=v}else{if(p==="additionalProperties")continue;n[p]=g}return n}function Hu(i){return ji(i)}function Vu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function qu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function to(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=ji(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=ji(n.response));return i}function no(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function j0(i,n,o,s=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===s;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function vn(i,n){if(typeof n!="string")throw new Error("name must be a string");return j0(i,n,"cachedContents")}function kh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Fn(i){return bu(i)}function eS(i){return i!=null&&typeof i=="object"&&"name"in i}function tS(i){return i!=null&&typeof i=="object"&&"video"in i}function nS(i){return i!=null&&typeof i=="object"&&"uri"in i}function Fh(i){var n;let o;if(eS(i)&&(o=i.name),!(nS(i)&&(o=i.uri,o===void 0))&&!(tS(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Jh(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Yh(i){for(const n of["models","tunedModels","publisherModels"])if(iS(i,n))return i[n];return[]}function iS(i,n){return i!==null&&typeof i=="object"&&n in i}function oS(i,n={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function lS(i,n={}){const o=[],s=new Set;for(const r of i){const f=r.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const p=oS(r,n);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Kh(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function sS(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Xh(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const v=p.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function io(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Qh(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aS(i){const n={},o=u(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>BS(p))),c(n,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["inlinedEmbedContentResponses"],f)}return n}function rS(i){const n={},o=u(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function uS(i){const n={},o=u(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Is(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(n,["state"],Qh(r));const f=u(i,["metadata","createTime"]);f!=null&&c(n,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(n,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const v=u(i,["metadata","model"]);v!=null&&c(n,["model"],v);const h=u(i,["metadata","output"]);return h!=null&&c(n,["dest"],aS(Xh(h))),n}function Eu(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["state"]);r!=null&&c(n,["state"],Qh(r));const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["createTime"]);p!=null&&c(n,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(n,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(n,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(n,["updateTime"],h);const y=u(i,["model"]);y!=null&&c(n,["model"],y);const T=u(i,["inputConfig"]);T!=null&&c(n,["src"],cS(T));const E=u(i,["outputConfig"]);E!=null&&c(n,["dest"],rS(Xh(E)));const A=u(i,["completionStats"]);return A!=null&&c(n,["completionStats"],A),n}function cS(i){const n={},o=u(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function fS(i,n){const o={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(n,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(n,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>PS(i,p))),c(o,["requests","requests"],f)}return o}function dS(i){const n={},o=u(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function pS(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function mS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],io(i,s)),o}function hS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],io(i,s)),o}function gS(i){const n={},o=u(i,["content"]);o!=null&&c(n,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],vS(s));const r=u(i,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(n,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const y=u(i,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(A=>A)),c(n,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(n,["urlContextMetadata"],T),n}function vS(i){const n={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function Zh(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>XS(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function yS(i,n){const o={},s=u(i,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function SS(i,n){const o={},s=u(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(i,["dest"]);return n!==void 0&&r!=null&&c(n,["outputConfig"],uS(sS(r))),o}function ph(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],fS(i,Kh(i,r)));const f=u(n,["config"]);return f!=null&&yS(f,o),o}function TS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Ae(i,s));const r=u(n,["src"]);r!=null&&c(o,["inputConfig"],dS(Kh(i,r)));const f=u(n,["config"]);return f!=null&&SS(f,o),o}function ES(i,n){const o={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function _S(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],IS(i,r));const f=u(n,["config"]);return f!=null&&ES(f,o),o}function CS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],io(i,s)),o}function AS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],io(i,s)),o}function RS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function NS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function MS(i,n){const o={},s=u(n,["contents"]);if(s!=null){let f=Gu(i,s);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(n,["config"]);return r!=null&&(c(o,["_self"],xS(r,o)),C0(o,{"requests[].*":"requests[].request.*"})),o}function xS(i,n){const o={},s=u(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function IS(i,n){const o={},s=u(n,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(n,["inlinedRequests"]);return r!=null&&c(o,["requests"],MS(i,r)),o}function DS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function wS(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function bS(i){const n={},o=u(i,["allowedFunctionNames"]);o!=null&&c(n,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(n,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function US(i,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Zh(ot(r)));const f=u(n,["temperature"]);f!=null&&c(s,["temperature"],f);const p=u(n,["topP"]);p!=null&&c(s,["topP"],p);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const v=u(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const y=u(n,["stopSequences"]);y!=null&&c(s,["stopSequences"],y);const T=u(n,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const E=u(n,["logprobs"]);E!=null&&c(s,["logprobs"],E);const A=u(n,["presencePenalty"]);A!=null&&c(s,["presencePenalty"],A);const D=u(n,["frequencyPenalty"]);D!=null&&c(s,["frequencyPenalty"],D);const U=u(n,["seed"]);U!=null&&c(s,["seed"],U);const I=u(n,["responseMimeType"]);I!=null&&c(s,["responseMimeType"],I);const z=u(n,["responseSchema"]);z!=null&&c(s,["responseSchema"],Hu(z));const J=u(n,["responseJsonSchema"]);if(J!=null&&c(s,["responseJsonSchema"],J),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(n,["safetySettings"]);if(o!==void 0&&k!=null){let W=k;Array.isArray(W)&&(W=W.map(ge=>QS(ge))),c(o,["safetySettings"],W)}const F=u(n,["tools"]);if(o!==void 0&&F!=null){let W=no(F);Array.isArray(W)&&(W=W.map(ge=>$S(to(ge)))),c(o,["tools"],W)}const B=u(n,["toolConfig"]);if(o!==void 0&&B!=null&&c(o,["toolConfig"],ZS(B)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(n,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],vn(i,ne));const Y=u(n,["responseModalities"]);Y!=null&&c(s,["responseModalities"],Y);const de=u(n,["mediaResolution"]);de!=null&&c(s,["mediaResolution"],de);const $=u(n,["speechConfig"]);if($!=null&&c(s,["speechConfig"],Vu($)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(n,["thinkingConfig"]);ce!=null&&c(s,["thinkingConfig"],ce);const Te=u(n,["imageConfig"]);Te!=null&&c(s,["imageConfig"],zS(Te));const Ne=u(n,["enableEnhancedCivicAnswers"]);if(Ne!=null&&c(s,["enableEnhancedCivicAnswers"],Ne),u(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function LS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(h=>gS(h))),c(n,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(n,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function GS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],io(i,s)),o}function HS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],io(i,s)),o}function VS(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function qS(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function zS(i){const n={},o=u(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(n,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function PS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["request","model"],Ae(i,s));const r=u(n,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(v=>Zh(v))),c(o,["request","contents"],g)}const f=u(n,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(n,["config"]);return p!=null&&c(o,["request","generationConfig"],US(i,p,u(o,["request"],{}))),o}function BS(i){const n={},o=u(i,["response"]);o!=null&&c(n,["response"],LS(o));const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["error"]);return r!=null&&c(n,["error"],r),n}function OS(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function kS(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const f=u(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),o}function FS(i){const n={},o=u(i,["config"]);return o!=null&&OS(o,n),n}function JS(i){const n={},o=u(i,["config"]);return o!=null&&kS(o,n),n}function YS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Is(p))),c(n,["batchJobs"],f)}return n}function KS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Eu(p))),c(n,["batchJobs"],f)}return n}function XS(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],DS(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],wS(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],pS(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function QS(i){const n={},o=u(i,["category"]);if(o!=null&&c(n,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function ZS(i){const n={},o=u(i,["retrievalConfig"]);o!=null&&c(n,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(n,["functionCallingConfig"],bS(s)),n}function $S(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],VS(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],qS(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(hn||(hn={}));class fi{constructor(n,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,r)}init(n,o,s){var r,f;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WS extends gn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(hn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(n){const o=ph(this.apiClient,n),s=o._url,r=X("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,v=g.requests,h=[];for(const y of v){const T=Object.assign({},y);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=E,T.request=A}h.push(T)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const f=this.getGcsUri(n),p=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${r}`;else if(p)s.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=TS(this.apiClient,n);return g=X("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>Eu(y))}else{const h=ph(this.apiClient,n);return g=X("{model}:batchGenerateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>Is(y))}}async createEmbeddingsInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_S(this.apiClient,n);return f=X("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>Is(v))}}async get(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=HS(this.apiClient,n);return g=X("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>Eu(y))}else{const h=GS(this.apiClient,n);return g=X("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>Is(y))}}async cancel(n){var o,s,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const v=hS(this.apiClient,n);p=X("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=mS(this.apiClient,n);p=X("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=JS(n);return g=X("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=KS(y),E=new uh;return Object.assign(E,T),E})}else{const h=FS(n);return g=X("batches",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=YS(y),E=new uh;return Object.assign(E,T),E})}}async delete(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=AS(this.apiClient,n);return g=X("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>NS(y))}else{const h=CS(this.apiClient,n);return g=X("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>RS(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jS(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function mh(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>_T(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function eT(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const p=u(i,["contents"]);if(n!==void 0&&p!=null){let y=Vt(p);Array.isArray(y)&&(y=y.map(T=>mh(T))),c(n,["contents"],y)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],mh(ot(g)));const v=u(i,["tools"]);if(n!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(T=>AT(T))),c(n,["tools"],y)}const h=u(i,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],CT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function tT(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const p=u(i,["contents"]);if(n!==void 0&&p!=null){let T=Vt(p);Array.isArray(T)&&(T=T.map(E=>E)),c(n,["contents"],T)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],ot(g));const v=u(i,["tools"]);if(n!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>RT(E))),c(n,["tools"],T)}const h=u(i,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const y=u(i,["kmsKeyName"]);return n!==void 0&&y!=null&&c(n,["encryption_spec","kmsKeyName"],y),o}function nT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],qh(i,s));const r=u(n,["config"]);return r!=null&&eT(r,o),o}function iT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],qh(i,s));const r=u(n,["config"]);return r!=null&&tT(r,o),o}function oT(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function lT(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function sT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function aT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function rT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function uT(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function cT(i){const n={},o=u(i,["allowedFunctionNames"]);o!=null&&c(n,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(n,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function fT(i){const n={},o=u(i,["description"]);o!=null&&c(n,["description"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(n,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(n,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function dT(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function pT(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function mT(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function hT(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function gT(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function vT(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function yT(i){const n={},o=u(i,["config"]);return o!=null&&gT(o,n),n}function ST(i){const n={},o=u(i,["config"]);return o!=null&&vT(o,n),n}function TT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["cachedContents"],f)}return n}function ET(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["cachedContents"],f)}return n}function _T(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],rT(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],uT(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],jS(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function CT(i){const n={},o=u(i,["retrievalConfig"]);o!=null&&c(n,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(n,["functionCallingConfig"],cT(s)),n}function AT(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],mT(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],hT(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function RT(i){const n={},o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(n,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(n,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(n,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>fT(E))),c(n,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],v);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(n,["googleSearchRetrieval"],h);const y=u(i,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function NT(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function MT(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function xT(i,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],vn(i,s));const r=u(n,["config"]);return r!=null&&NT(r,o),o}function IT(i,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],vn(i,s));const r=u(n,["config"]);return r!=null&&MT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DT extends gn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(hn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=iT(this.apiClient,n);return g=X("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const h=nT(this.apiClient,n);return g=X("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async get(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=pT(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const h=dT(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async delete(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=lT(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=aT(y),E=new ah;return Object.assign(E,T),E})}else{const h=oT(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=sT(y),E=new ah;return Object.assign(E,T),E})}}async update(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=IT(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const h=xT(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async listInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=ST(n);return g=X("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=ET(y),E=new rh;return Object.assign(E,T),E})}else{const h=yT(n);return g=X("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=TT(y),E=new rh;return Object.assign(E,T),E})}}}function Ls(i,n){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&n.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)n.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function hh(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(i){return this instanceof se?(this.v=i,this):new se(i)}function Ot(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,n||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(D){return Promise.resolve(D).then(A,T)}}function g(A,D){s[A]&&(r[A]=function(U){return new Promise(function(I,z){f.push([A,U,I,z])>1||v(A,U)})},D&&(r[A]=D(r[A])))}function v(A,D){try{h(s[A](D))}catch(U){E(f[0][3],U)}}function h(A){A.value instanceof se?Promise.resolve(A.value.v).then(y,T):E(f[0][2],A)}function y(A){v("next",A)}function T(A){v("throw",A)}function E(A,D){A(D),f.shift(),f.length&&v(f[0][0],f[0][1])}}function kt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof hh=="function"?hh(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=i[f]&&function(p){return new Promise(function(g,v){p=i[f](p),r(g,v,p.done,p.value)})}}function r(f,p,g,v){Promise.resolve(v).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:$h(o)}function $h(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function bT(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function gh(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")n.push(i[s]),s++;else{const r=[];let f=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),f&&!$h(i[s])&&(f=!1),s++;f?n.push(...r):n.pop()}return n}class UT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new LT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class LT{constructor(n,o,s,r={},f=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),bT(f)}async sendMessage(n){var o;await this.sendPromise;const s=ot(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const v=await r,h=(p=(f=v.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,y=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];y!=null&&(E=(g=y.slice(T))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(s,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const s=ot(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,s)}getHistory(n=!1){const o=n?gh(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){return Ot(this,arguments,function*(){var r,f,p,g,v,h;const y=[];try{for(var T=!0,E=kt(n),A;A=yield se(E.next()),r=A.done,!r;T=!0){g=A.value,T=!1;const D=g;if(wT(D)){const U=(h=(v=D.candidates)===null||v===void 0?void 0:v[0])===null||h===void 0?void 0:h.content;U!==void 0&&y.push(U)}yield yield se(D)}}catch(D){f={error:D}}finally{try{!T&&!r&&(p=E.return)&&(yield se(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,y)})}recordHistory(n,o,s){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...gh(s)):this.history.push(n),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ll extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,ll.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GT(i){const n={},o=u(i,["file"]);return o!=null&&c(n,["file"],o),n}function HT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function VT(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],Fh(o)),n}function qT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function zT(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],Fh(o)),n}function PT(i){const n={},o=u(i,["uris"]);return o!=null&&c(n,["uris"],o),n}function BT(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function OT(i){const n={},o=u(i,["config"]);return o!=null&&BT(o,n),n}function kT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["files"],f)}return n}function FT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(n,["files"],r)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JT extends gn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(hn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async registerFiles(n){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(n){return this.registerFilesInternal(n)}async listInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OT(n);return f=X("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=kT(v),y=new Y0;return Object.assign(y,h),y})}}async createInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GT(n);return f=X("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=HT(v),y=new K0;return Object.assign(y,h),y})}}async get(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zT(n);return f=X("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VT(n);return f=X("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=qT(v),y=new X0;return Object.assign(y,h),y})}}async registerFilesInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PT(n);return f=X("files:register",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=FT(v),y=new Q0;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ds(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function YT(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>rE(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function KT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function XT(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function QT(i){const n={},o=u(i,["description"]);o!=null&&c(n,["description"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(n,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(n,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function ZT(i){const n={},o=u(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(n,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(n,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(n,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const y=u(i,["mediaResolution"]);y!=null&&c(n,["mediaResolution"],y);const T=u(i,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(n,["responseMimeType"],A);const D=u(i,["responseModalities"]);D!=null&&c(n,["responseModalities"],D);const U=u(i,["responseSchema"]);U!=null&&c(n,["responseSchema"],U);const I=u(i,["routingConfig"]);I!=null&&c(n,["routingConfig"],I);const z=u(i,["seed"]);z!=null&&c(n,["seed"],z);const J=u(i,["speechConfig"]);J!=null&&c(n,["speechConfig"],J);const k=u(i,["stopSequences"]);k!=null&&c(n,["stopSequences"],k);const F=u(i,["temperature"]);F!=null&&c(n,["temperature"],F);const B=u(i,["thinkingConfig"]);B!=null&&c(n,["thinkingConfig"],B);const ne=u(i,["topK"]);ne!=null&&c(n,["topK"],ne);const Y=u(i,["topP"]);if(Y!=null&&c(n,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function $T(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function WT(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function jT(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],qu(T));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);n!==void 0&&D!=null&&c(n,["setup","systemInstruction"],YT(ot(D)));const U=u(i,["tools"]);if(n!==void 0&&U!=null){let ne=no(U);Array.isArray(ne)&&(ne=ne.map(Y=>cE(to(Y)))),c(n,["setup","tools"],ne)}const I=u(i,["sessionResumption"]);n!==void 0&&I!=null&&c(n,["setup","sessionResumption"],uE(I));const z=u(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const J=u(i,["outputAudioTranscription"]);n!==void 0&&J!=null&&c(n,["setup","outputAudioTranscription"],J);const k=u(i,["realtimeInputConfig"]);n!==void 0&&k!=null&&c(n,["setup","realtimeInputConfig"],k);const F=u(i,["contextWindowCompression"]);n!==void 0&&F!=null&&c(n,["setup","contextWindowCompression"],F);const B=u(i,["proactivity"]);if(n!==void 0&&B!=null&&c(n,["setup","proactivity"],B),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function eE(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],ZT(s));const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],qu(T));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);n!==void 0&&D!=null&&c(n,["setup","systemInstruction"],ot(D));const U=u(i,["tools"]);if(n!==void 0&&U!=null){let Y=no(U);Array.isArray(Y)&&(Y=Y.map(de=>fE(to(de)))),c(n,["setup","tools"],Y)}const I=u(i,["sessionResumption"]);n!==void 0&&I!=null&&c(n,["setup","sessionResumption"],I);const z=u(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const J=u(i,["outputAudioTranscription"]);n!==void 0&&J!=null&&c(n,["setup","outputAudioTranscription"],J);const k=u(i,["realtimeInputConfig"]);n!==void 0&&k!=null&&c(n,["setup","realtimeInputConfig"],k);const F=u(i,["contextWindowCompression"]);n!==void 0&&F!=null&&c(n,["setup","contextWindowCompression"],F);const B=u(i,["proactivity"]);n!==void 0&&B!=null&&c(n,["setup","proactivity"],B);const ne=u(i,["explicitVadSignal"]);return n!==void 0&&ne!=null&&c(n,["setup","explicitVadSignal"],ne),o}function tE(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ae(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],jT(r,o)),o}function nE(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ae(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],eE(r,o)),o}function iE(i){const n={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function oE(i){const n={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["weightedPrompts"],s)}return n}function lE(i){const n={},o=u(i,["media"]);if(o!=null){let h=zh(o);Array.isArray(h)&&(h=h.map(y=>Ds(y))),c(n,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(n,["audio"],Ds(Bh(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],Ds(Ph(f)));const p=u(i,["text"]);p!=null&&c(n,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function sE(i){const n={},o=u(i,["media"]);if(o!=null){let h=zh(o);Array.isArray(h)&&(h=h.map(y=>y)),c(n,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(n,["audio"],Bh(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],Ph(f));const p=u(i,["text"]);p!=null&&c(n,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function aE(i){const n={},o=u(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(n,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(n,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(n,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(n,["usageMetadata"],dE(p));const g=u(i,["goAway"]);g!=null&&c(n,["goAway"],g);const v=u(i,["sessionResumptionUpdate"]);v!=null&&c(n,["sessionResumptionUpdate"],v);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&c(n,["voiceActivityDetectionSignal"],h);const y=u(i,["voiceActivity"]);return y!=null&&c(n,["voiceActivity"],pE(y)),n}function rE(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],KT(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],XT(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],Ds(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function uE(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function cE(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],$T(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],WT(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function fE(i){const n={},o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(n,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(n,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(n,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>QT(E))),c(n,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],v);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(n,["googleSearchRetrieval"],h);const y=u(i,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function dE(i){const n={},o=u(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(n,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(n,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(n,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const v=u(i,["promptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(D=>D)),c(n,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(D=>D)),c(n,["cacheTokensDetails"],A)}const y=u(i,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(D=>D)),c(n,["responseTokensDetails"],A)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(D=>D)),c(n,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(n,["trafficType"],E),n}function pE(i){const n={},o=u(i,["type"]);return o!=null&&c(n,["voiceActivityType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mE(i,n){const o={},s=u(i,["data"]);if(s!=null&&c(o,["data"],s),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function hE(i,n){const o={},s=u(i,["content"]);s!=null&&c(o,["content"],s);const r=u(i,["citationMetadata"]);r!=null&&c(o,["citationMetadata"],gE(r));const f=u(i,["tokenCount"]);f!=null&&c(o,["tokenCount"],f);const p=u(i,["finishReason"]);p!=null&&c(o,["finishReason"],p);const g=u(i,["avgLogprobs"]);g!=null&&c(o,["avgLogprobs"],g);const v=u(i,["groundingMetadata"]);v!=null&&c(o,["groundingMetadata"],v);const h=u(i,["index"]);h!=null&&c(o,["index"],h);const y=u(i,["logprobsResult"]);y!=null&&c(o,["logprobsResult"],y);const T=u(i,["safetyRatings"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(D=>D)),c(o,["safetyRatings"],A)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(o,["urlContextMetadata"],E),o}function gE(i,n){const o={},s=u(i,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["citations"],r)}return o}function vE(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["contents"]);if(f!=null){let p=Vt(f);Array.isArray(p)&&(p=p.map(g=>g)),c(s,["contents"],p)}return s}function yE(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["tokensInfo"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(o,["tokensInfo"],f)}return o}function SE(i,n){const o={},s=u(i,["values"]);s!=null&&c(o,["values"],s);const r=u(i,["statistics"]);return r!=null&&c(o,["statistics"],TE(r)),o}function TE(i,n){const o={},s=u(i,["truncated"]);s!=null&&c(o,["truncated"],s);const r=u(i,["token_count"]);return r!=null&&c(o,["tokenCount"],r),o}function Vs(i,n){const o={},s=u(i,["parts"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>I_(p))),c(o,["parts"],f)}const r=u(i,["role"]);return r!=null&&c(o,["role"],r),o}function EE(i,n){const o={},s=u(i,["controlType"]);s!=null&&c(o,["controlType"],s);const r=u(i,["enableControlImageComputation"]);return r!=null&&c(o,["computeControl"],r),o}function _E(i,n){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function CE(i,n,o){const s={},r=u(i,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],ot(r));const f=u(i,["tools"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>tg(v))),c(n,["tools"],g)}const p=u(i,["generationConfig"]);return n!==void 0&&p!=null&&c(n,["generationConfig"],m_(p)),s}function AE(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["contents"]);if(f!=null){let g=Vt(f);Array.isArray(g)&&(g=g.map(v=>Vs(v))),c(s,["contents"],g)}const p=u(n,["config"]);return p!=null&&_E(p),s}function RE(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["contents"]);if(f!=null){let g=Vt(f);Array.isArray(g)&&(g=g.map(v=>v)),c(s,["contents"],g)}const p=u(n,["config"]);return p!=null&&CE(p,s),s}function NE(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);r!=null&&c(o,["totalTokens"],r);const f=u(i,["cachedContentTokenCount"]);return f!=null&&c(o,["cachedContentTokenCount"],f),o}function ME(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);return r!=null&&c(o,["totalTokens"],r),o}function xE(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ae(i,r)),s}function IE(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ae(i,r)),s}function DE(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function wE(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function bE(i,n,o){const s={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["negativePrompt"]);n!==void 0&&f!=null&&c(n,["parameters","negativePrompt"],f);const p=u(i,["numberOfImages"]);n!==void 0&&p!=null&&c(n,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const v=u(i,["guidanceScale"]);n!==void 0&&v!=null&&c(n,["parameters","guidanceScale"],v);const h=u(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const y=u(i,["safetyFilterLevel"]);n!==void 0&&y!=null&&c(n,["parameters","safetySetting"],y);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const E=u(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&c(n,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);n!==void 0&&A!=null&&c(n,["parameters","includeRaiReason"],A);const D=u(i,["language"]);n!==void 0&&D!=null&&c(n,["parameters","language"],D);const U=u(i,["outputMimeType"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","mimeType"],U);const I=u(i,["outputCompressionQuality"]);n!==void 0&&I!=null&&c(n,["parameters","outputOptions","compressionQuality"],I);const z=u(i,["addWatermark"]);n!==void 0&&z!=null&&c(n,["parameters","addWatermark"],z);const J=u(i,["labels"]);n!==void 0&&J!=null&&c(n,["labels"],J);const k=u(i,["editMode"]);n!==void 0&&k!=null&&c(n,["parameters","editMode"],k);const F=u(i,["baseSteps"]);return n!==void 0&&F!=null&&c(n,["parameters","editConfig","baseSteps"],F),s}function UE(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const p=u(n,["referenceImages"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(h=>G_(h))),c(s,["instances[0]","referenceImages"],v)}const g=u(n,["config"]);return g!=null&&bE(g,s),s}function LE(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>qs(p))),c(o,["generatedImages"],f)}return o}function GE(i,n,o){const s={},r=u(i,["taskType"]);n!==void 0&&r!=null&&c(n,["requests[]","taskType"],r);const f=u(i,["title"]);n!==void 0&&f!=null&&c(n,["requests[]","title"],f);const p=u(i,["outputDimensionality"]);if(n!==void 0&&p!=null&&c(n,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function HE(i,n,o){const s={},r=u(i,["taskType"]);n!==void 0&&r!=null&&c(n,["instances[]","task_type"],r);const f=u(i,["title"]);n!==void 0&&f!=null&&c(n,["instances[]","title"],f);const p=u(i,["outputDimensionality"]);n!==void 0&&p!=null&&c(n,["parameters","outputDimensionality"],p);const g=u(i,["mimeType"]);n!==void 0&&g!=null&&c(n,["instances[]","mimeType"],g);const v=u(i,["autoTruncate"]);return n!==void 0&&v!=null&&c(n,["parameters","autoTruncate"],v),s}function VE(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["contents"]);if(f!=null){let v=Gu(i,f);Array.isArray(v)&&(v=v.map(h=>h)),c(s,["requests[]","content"],v)}const p=u(n,["config"]);p!=null&&GE(p,s);const g=u(n,["model"]);return g!==void 0&&c(s,["requests[]","model"],Ae(i,g)),s}function qE(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["contents"]);if(f!=null){let g=Gu(i,f);Array.isArray(g)&&(g=g.map(v=>v)),c(s,["instances[]","content"],g)}const p=u(n,["config"]);return p!=null&&HE(p,s),s}function zE(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>g)),c(o,["embeddings"],p)}const f=u(i,["metadata"]);return f!=null&&c(o,["metadata"],f),o}function PE(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>SE(g))),c(o,["embeddings"],p)}const f=u(i,["metadata"]);return f!=null&&c(o,["metadata"],f),o}function BE(i,n){const o={},s=u(i,["endpoint"]);s!=null&&c(o,["name"],s);const r=u(i,["deployedModelId"]);return r!=null&&c(o,["deployedModelId"],r),o}function OE(i,n){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["fileUri"]);s!=null&&c(o,["fileUri"],s);const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function kE(i,n){const o={},s=u(i,["id"]);s!=null&&c(o,["id"],s);const r=u(i,["args"]);r!=null&&c(o,["args"],r);const f=u(i,["name"]);if(f!=null&&c(o,["name"],f),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function FE(i,n){const o={},s=u(i,["allowedFunctionNames"]);s!=null&&c(o,["allowedFunctionNames"],s);const r=u(i,["mode"]);if(r!=null&&c(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function JE(i,n){const o={},s=u(i,["description"]);s!=null&&c(o,["description"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["parameters"]);f!=null&&c(o,["parameters"],f);const p=u(i,["parametersJsonSchema"]);p!=null&&c(o,["parametersJsonSchema"],p);const g=u(i,["response"]);g!=null&&c(o,["response"],g);const v=u(i,["responseJsonSchema"]);if(v!=null&&c(o,["responseJsonSchema"],v),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function YE(i,n,o,s){const r={},f=u(n,["systemInstruction"]);o!==void 0&&f!=null&&c(o,["systemInstruction"],Vs(ot(f)));const p=u(n,["temperature"]);p!=null&&c(r,["temperature"],p);const g=u(n,["topP"]);g!=null&&c(r,["topP"],g);const v=u(n,["topK"]);v!=null&&c(r,["topK"],v);const h=u(n,["candidateCount"]);h!=null&&c(r,["candidateCount"],h);const y=u(n,["maxOutputTokens"]);y!=null&&c(r,["maxOutputTokens"],y);const T=u(n,["stopSequences"]);T!=null&&c(r,["stopSequences"],T);const E=u(n,["responseLogprobs"]);E!=null&&c(r,["responseLogprobs"],E);const A=u(n,["logprobs"]);A!=null&&c(r,["logprobs"],A);const D=u(n,["presencePenalty"]);D!=null&&c(r,["presencePenalty"],D);const U=u(n,["frequencyPenalty"]);U!=null&&c(r,["frequencyPenalty"],U);const I=u(n,["seed"]);I!=null&&c(r,["seed"],I);const z=u(n,["responseMimeType"]);z!=null&&c(r,["responseMimeType"],z);const J=u(n,["responseSchema"]);J!=null&&c(r,["responseSchema"],Hu(J));const k=u(n,["responseJsonSchema"]);if(k!=null&&c(r,["responseJsonSchema"],k),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(n,["safetySettings"]);if(o!==void 0&&F!=null){let ge=F;Array.isArray(ge)&&(ge=ge.map(De=>H_(De))),c(o,["safetySettings"],ge)}const B=u(n,["tools"]);if(o!==void 0&&B!=null){let ge=no(B);Array.isArray(ge)&&(ge=ge.map(De=>k_(to(De)))),c(o,["tools"],ge)}const ne=u(n,["toolConfig"]);if(o!==void 0&&ne!=null&&c(o,["toolConfig"],O_(ne)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=u(n,["cachedContent"]);o!==void 0&&Y!=null&&c(o,["cachedContent"],vn(i,Y));const de=u(n,["responseModalities"]);de!=null&&c(r,["responseModalities"],de);const $=u(n,["mediaResolution"]);$!=null&&c(r,["mediaResolution"],$);const ce=u(n,["speechConfig"]);if(ce!=null&&c(r,["speechConfig"],Vu(ce)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=u(n,["thinkingConfig"]);Te!=null&&c(r,["thinkingConfig"],Te);const Ne=u(n,["imageConfig"]);Ne!=null&&c(r,["imageConfig"],S_(Ne));const W=u(n,["enableEnhancedCivicAnswers"]);if(W!=null&&c(r,["enableEnhancedCivicAnswers"],W),u(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function KE(i,n,o,s){const r={},f=u(n,["systemInstruction"]);o!==void 0&&f!=null&&c(o,["systemInstruction"],ot(f));const p=u(n,["temperature"]);p!=null&&c(r,["temperature"],p);const g=u(n,["topP"]);g!=null&&c(r,["topP"],g);const v=u(n,["topK"]);v!=null&&c(r,["topK"],v);const h=u(n,["candidateCount"]);h!=null&&c(r,["candidateCount"],h);const y=u(n,["maxOutputTokens"]);y!=null&&c(r,["maxOutputTokens"],y);const T=u(n,["stopSequences"]);T!=null&&c(r,["stopSequences"],T);const E=u(n,["responseLogprobs"]);E!=null&&c(r,["responseLogprobs"],E);const A=u(n,["logprobs"]);A!=null&&c(r,["logprobs"],A);const D=u(n,["presencePenalty"]);D!=null&&c(r,["presencePenalty"],D);const U=u(n,["frequencyPenalty"]);U!=null&&c(r,["frequencyPenalty"],U);const I=u(n,["seed"]);I!=null&&c(r,["seed"],I);const z=u(n,["responseMimeType"]);z!=null&&c(r,["responseMimeType"],z);const J=u(n,["responseSchema"]);J!=null&&c(r,["responseSchema"],Hu(J));const k=u(n,["responseJsonSchema"]);k!=null&&c(r,["responseJsonSchema"],k);const F=u(n,["routingConfig"]);F!=null&&c(r,["routingConfig"],F);const B=u(n,["modelSelectionConfig"]);B!=null&&c(r,["modelConfig"],B);const ne=u(n,["safetySettings"]);if(o!==void 0&&ne!=null){let te=ne;Array.isArray(te)&&(te=te.map(Ee=>Ee)),c(o,["safetySettings"],te)}const Y=u(n,["tools"]);if(o!==void 0&&Y!=null){let te=no(Y);Array.isArray(te)&&(te=te.map(Ee=>tg(to(Ee)))),c(o,["tools"],te)}const de=u(n,["toolConfig"]);o!==void 0&&de!=null&&c(o,["toolConfig"],de);const $=u(n,["labels"]);o!==void 0&&$!=null&&c(o,["labels"],$);const ce=u(n,["cachedContent"]);o!==void 0&&ce!=null&&c(o,["cachedContent"],vn(i,ce));const Te=u(n,["responseModalities"]);Te!=null&&c(r,["responseModalities"],Te);const Ne=u(n,["mediaResolution"]);Ne!=null&&c(r,["mediaResolution"],Ne);const W=u(n,["speechConfig"]);W!=null&&c(r,["speechConfig"],Vu(W));const ge=u(n,["audioTimestamp"]);ge!=null&&c(r,["audioTimestamp"],ge);const De=u(n,["thinkingConfig"]);De!=null&&c(r,["thinkingConfig"],De);const H=u(n,["imageConfig"]);if(H!=null&&c(r,["imageConfig"],T_(H)),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=u(n,["modelArmorConfig"]);return o!==void 0&&K!=null&&c(o,["modelArmorConfig"],K),r}function vh(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["contents"]);if(f!=null){let g=Vt(f);Array.isArray(g)&&(g=g.map(v=>Vs(v))),c(s,["contents"],g)}const p=u(n,["config"]);return p!=null&&c(s,["generationConfig"],YE(i,p,s)),s}function yh(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["contents"]);if(f!=null){let g=Vt(f);Array.isArray(g)&&(g=g.map(v=>v)),c(s,["contents"],g)}const p=u(n,["config"]);return p!=null&&c(s,["generationConfig"],KE(i,p,s)),s}function Sh(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(y=>hE(y))),c(o,["candidates"],h)}const f=u(i,["modelVersion"]);f!=null&&c(o,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(o,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(o,["responseId"],g);const v=u(i,["usageMetadata"]);return v!=null&&c(o,["usageMetadata"],v),o}function Th(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(T=>T)),c(o,["candidates"],y)}const f=u(i,["createTime"]);f!=null&&c(o,["createTime"],f);const p=u(i,["modelVersion"]);p!=null&&c(o,["modelVersion"],p);const g=u(i,["promptFeedback"]);g!=null&&c(o,["promptFeedback"],g);const v=u(i,["responseId"]);v!=null&&c(o,["responseId"],v);const h=u(i,["usageMetadata"]);return h!=null&&c(o,["usageMetadata"],h),o}function XE(i,n,o){const s={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(i,["aspectRatio"]);n!==void 0&&f!=null&&c(n,["parameters","aspectRatio"],f);const p=u(i,["guidanceScale"]);if(n!==void 0&&p!=null&&c(n,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const h=u(i,["includeSafetyAttributes"]);n!==void 0&&h!=null&&c(n,["parameters","includeSafetyAttributes"],h);const y=u(i,["includeRaiReason"]);n!==void 0&&y!=null&&c(n,["parameters","includeRaiReason"],y);const T=u(i,["language"]);n!==void 0&&T!=null&&c(n,["parameters","language"],T);const E=u(i,["outputMimeType"]);n!==void 0&&E!=null&&c(n,["parameters","outputOptions","mimeType"],E);const A=u(i,["outputCompressionQuality"]);if(n!==void 0&&A!=null&&c(n,["parameters","outputOptions","compressionQuality"],A),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=u(i,["imageSize"]);if(n!==void 0&&D!=null&&c(n,["parameters","sampleImageSize"],D),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function QE(i,n,o){const s={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["negativePrompt"]);n!==void 0&&f!=null&&c(n,["parameters","negativePrompt"],f);const p=u(i,["numberOfImages"]);n!==void 0&&p!=null&&c(n,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const v=u(i,["guidanceScale"]);n!==void 0&&v!=null&&c(n,["parameters","guidanceScale"],v);const h=u(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const y=u(i,["safetyFilterLevel"]);n!==void 0&&y!=null&&c(n,["parameters","safetySetting"],y);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const E=u(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&c(n,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);n!==void 0&&A!=null&&c(n,["parameters","includeRaiReason"],A);const D=u(i,["language"]);n!==void 0&&D!=null&&c(n,["parameters","language"],D);const U=u(i,["outputMimeType"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","mimeType"],U);const I=u(i,["outputCompressionQuality"]);n!==void 0&&I!=null&&c(n,["parameters","outputOptions","compressionQuality"],I);const z=u(i,["addWatermark"]);n!==void 0&&z!=null&&c(n,["parameters","addWatermark"],z);const J=u(i,["labels"]);n!==void 0&&J!=null&&c(n,["labels"],J);const k=u(i,["imageSize"]);n!==void 0&&k!=null&&c(n,["parameters","sampleImageSize"],k);const F=u(i,["enhancePrompt"]);return n!==void 0&&F!=null&&c(n,["parameters","enhancePrompt"],F),s}function ZE(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const p=u(n,["config"]);return p!=null&&XE(p,s),s}function $E(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const p=u(n,["config"]);return p!=null&&QE(p,s),s}function WE(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>c_(g))),c(o,["generatedImages"],p)}const f=u(i,["positivePromptSafetyAttributes"]);return f!=null&&c(o,["positivePromptSafetyAttributes"],jh(f)),o}function jE(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>qs(g))),c(o,["generatedImages"],p)}const f=u(i,["positivePromptSafetyAttributes"]);return f!=null&&c(o,["positivePromptSafetyAttributes"],eg(f)),o}function e_(i,n,o){const s={},r=u(i,["numberOfVideos"]);if(n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const f=u(i,["durationSeconds"]);if(n!==void 0&&f!=null&&c(n,["parameters","durationSeconds"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const g=u(i,["resolution"]);n!==void 0&&g!=null&&c(n,["parameters","resolution"],g);const v=u(i,["personGeneration"]);if(n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);n!==void 0&&h!=null&&c(n,["parameters","negativePrompt"],h);const y=u(i,["enhancePrompt"]);if(n!==void 0&&y!=null&&c(n,["parameters","enhancePrompt"],y),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(i,["lastFrame"]);n!==void 0&&T!=null&&c(n,["instances[0]","lastFrame"],zs(T));const E=u(i,["referenceImages"]);if(n!==void 0&&E!=null){let A=E;Array.isArray(A)&&(A=A.map(D=>nC(D))),c(n,["instances[0]","referenceImages"],A)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function t_(i,n,o){const s={},r=u(i,["numberOfVideos"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(i,["outputGcsUri"]);n!==void 0&&f!=null&&c(n,["parameters","storageUri"],f);const p=u(i,["fps"]);n!==void 0&&p!=null&&c(n,["parameters","fps"],p);const g=u(i,["durationSeconds"]);n!==void 0&&g!=null&&c(n,["parameters","durationSeconds"],g);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const h=u(i,["aspectRatio"]);n!==void 0&&h!=null&&c(n,["parameters","aspectRatio"],h);const y=u(i,["resolution"]);n!==void 0&&y!=null&&c(n,["parameters","resolution"],y);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const E=u(i,["pubsubTopic"]);n!==void 0&&E!=null&&c(n,["parameters","pubsubTopic"],E);const A=u(i,["negativePrompt"]);n!==void 0&&A!=null&&c(n,["parameters","negativePrompt"],A);const D=u(i,["enhancePrompt"]);n!==void 0&&D!=null&&c(n,["parameters","enhancePrompt"],D);const U=u(i,["generateAudio"]);n!==void 0&&U!=null&&c(n,["parameters","generateAudio"],U);const I=u(i,["lastFrame"]);n!==void 0&&I!=null&&c(n,["instances[0]","lastFrame"],Ft(I));const z=u(i,["referenceImages"]);if(n!==void 0&&z!=null){let F=z;Array.isArray(F)&&(F=F.map(B=>iC(B))),c(n,["instances[0]","referenceImages"],F)}const J=u(i,["mask"]);n!==void 0&&J!=null&&c(n,["instances[0]","mask"],tC(J));const k=u(i,["compressionQuality"]);return n!==void 0&&k!=null&&c(n,["parameters","compressionQuality"],k),s}function n_(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const f=u(i,["done"]);f!=null&&c(o,["done"],f);const p=u(i,["error"]);p!=null&&c(o,["error"],p);const g=u(i,["response","generateVideoResponse"]);return g!=null&&c(o,["response"],s_(g)),o}function i_(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const f=u(i,["done"]);f!=null&&c(o,["done"],f);const p=u(i,["error"]);p!=null&&c(o,["error"],p);const g=u(i,["response"]);return g!=null&&c(o,["response"],a_(g)),o}function o_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const p=u(n,["image"]);p!=null&&c(s,["instances[0]","image"],zs(p));const g=u(n,["video"]);g!=null&&c(s,["instances[0]","video"],ng(g));const v=u(n,["source"]);v!=null&&r_(v,s);const h=u(n,["config"]);return h!=null&&e_(h,s),s}function l_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const p=u(n,["image"]);p!=null&&c(s,["instances[0]","image"],Ft(p));const g=u(n,["video"]);g!=null&&c(s,["instances[0]","video"],ig(g));const v=u(n,["source"]);v!=null&&u_(v,s);const h=u(n,["config"]);return h!=null&&t_(h,s),s}function s_(i,n){const o={},s=u(i,["generatedSamples"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>d_(g))),c(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const f=u(i,["raiMediaFilteredReasons"]);return f!=null&&c(o,["raiMediaFilteredReasons"],f),o}function a_(i,n){const o={},s=u(i,["videos"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>p_(g))),c(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const f=u(i,["raiMediaFilteredReasons"]);return f!=null&&c(o,["raiMediaFilteredReasons"],f),o}function r_(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["image"]);n!==void 0&&f!=null&&c(n,["instances[0]","image"],zs(f));const p=u(i,["video"]);return n!==void 0&&p!=null&&c(n,["instances[0]","video"],ng(p)),s}function u_(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["image"]);n!==void 0&&f!=null&&c(n,["instances[0]","image"],Ft(f));const p=u(i,["video"]);return n!==void 0&&p!=null&&c(n,["instances[0]","video"],ig(p)),s}function c_(i,n){const o={},s=u(i,["_self"]);s!=null&&c(o,["image"],E_(s));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const f=u(i,["_self"]);return f!=null&&c(o,["safetyAttributes"],jh(f)),o}function qs(i,n){const o={},s=u(i,["_self"]);s!=null&&c(o,["image"],Wh(s));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const f=u(i,["_self"]);f!=null&&c(o,["safetyAttributes"],eg(f));const p=u(i,["prompt"]);return p!=null&&c(o,["enhancedPrompt"],p),o}function f_(i,n){const o={},s=u(i,["_self"]);s!=null&&c(o,["mask"],Wh(s));const r=u(i,["labels"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(o,["labels"],f)}return o}function d_(i,n){const o={},s=u(i,["video"]);return s!=null&&c(o,["video"],j_(s)),o}function p_(i,n){const o={},s=u(i,["_self"]);return s!=null&&c(o,["video"],eC(s)),o}function m_(i,n){const o={},s=u(i,["modelSelectionConfig"]);s!=null&&c(o,["modelConfig"],s);const r=u(i,["responseJsonSchema"]);r!=null&&c(o,["responseJsonSchema"],r);const f=u(i,["audioTimestamp"]);f!=null&&c(o,["audioTimestamp"],f);const p=u(i,["candidateCount"]);p!=null&&c(o,["candidateCount"],p);const g=u(i,["enableAffectiveDialog"]);g!=null&&c(o,["enableAffectiveDialog"],g);const v=u(i,["frequencyPenalty"]);v!=null&&c(o,["frequencyPenalty"],v);const h=u(i,["logprobs"]);h!=null&&c(o,["logprobs"],h);const y=u(i,["maxOutputTokens"]);y!=null&&c(o,["maxOutputTokens"],y);const T=u(i,["mediaResolution"]);T!=null&&c(o,["mediaResolution"],T);const E=u(i,["presencePenalty"]);E!=null&&c(o,["presencePenalty"],E);const A=u(i,["responseLogprobs"]);A!=null&&c(o,["responseLogprobs"],A);const D=u(i,["responseMimeType"]);D!=null&&c(o,["responseMimeType"],D);const U=u(i,["responseModalities"]);U!=null&&c(o,["responseModalities"],U);const I=u(i,["responseSchema"]);I!=null&&c(o,["responseSchema"],I);const z=u(i,["routingConfig"]);z!=null&&c(o,["routingConfig"],z);const J=u(i,["seed"]);J!=null&&c(o,["seed"],J);const k=u(i,["speechConfig"]);k!=null&&c(o,["speechConfig"],k);const F=u(i,["stopSequences"]);F!=null&&c(o,["stopSequences"],F);const B=u(i,["temperature"]);B!=null&&c(o,["temperature"],B);const ne=u(i,["thinkingConfig"]);ne!=null&&c(o,["thinkingConfig"],ne);const Y=u(i,["topK"]);Y!=null&&c(o,["topK"],Y);const de=u(i,["topP"]);if(de!=null&&c(o,["topP"],de),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function h_(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ae(i,r)),s}function g_(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ae(i,r)),s}function v_(i,n){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=u(i,["enableWidget"]);return s!=null&&c(o,["enableWidget"],s),o}function y_(i,n){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=u(i,["timeRangeFilter"]);return s!=null&&c(o,["timeRangeFilter"],s),o}function S_(i,n){const o={},s=u(i,["aspectRatio"]);s!=null&&c(o,["aspectRatio"],s);const r=u(i,["imageSize"]);if(r!=null&&c(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function T_(i,n){const o={},s=u(i,["aspectRatio"]);s!=null&&c(o,["aspectRatio"],s);const r=u(i,["imageSize"]);r!=null&&c(o,["imageSize"],r);const f=u(i,["personGeneration"]);f!=null&&c(o,["personGeneration"],f);const p=u(i,["outputMimeType"]);p!=null&&c(o,["imageOutputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);return g!=null&&c(o,["imageOutputOptions","compressionQuality"],g),o}function E_(i,n){const o={},s=u(i,["bytesBase64Encoded"]);s!=null&&c(o,["imageBytes"],Fn(s));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function Wh(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["imageBytes"],Fn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function zs(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=u(i,["imageBytes"]);s!=null&&c(o,["bytesBase64Encoded"],Fn(s));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function Ft(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["imageBytes"]);r!=null&&c(o,["bytesBase64Encoded"],Fn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function __(i,n,o,s){const r={},f=u(n,["pageSize"]);o!==void 0&&f!=null&&c(o,["_query","pageSize"],f);const p=u(n,["pageToken"]);o!==void 0&&p!=null&&c(o,["_query","pageToken"],p);const g=u(n,["filter"]);o!==void 0&&g!=null&&c(o,["_query","filter"],g);const v=u(n,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],Jh(i,v)),r}function C_(i,n,o,s){const r={},f=u(n,["pageSize"]);o!==void 0&&f!=null&&c(o,["_query","pageSize"],f);const p=u(n,["pageToken"]);o!==void 0&&p!=null&&c(o,["_query","pageToken"],p);const g=u(n,["filter"]);o!==void 0&&g!=null&&c(o,["_query","filter"],g);const v=u(n,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],Jh(i,v)),r}function A_(i,n,o){const s={},r=u(n,["config"]);return r!=null&&__(i,r,s),s}function R_(i,n,o){const s={},r=u(n,["config"]);return r!=null&&C_(i,r,s),s}function N_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["_self"]);if(f!=null){let p=Yh(f);Array.isArray(p)&&(p=p.map(g=>_u(g))),c(o,["models"],p)}return o}function M_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["_self"]);if(f!=null){let p=Yh(f);Array.isArray(p)&&(p=p.map(g=>Cu(g))),c(o,["models"],p)}return o}function x_(i,n){const o={},s=u(i,["maskMode"]);s!=null&&c(o,["maskMode"],s);const r=u(i,["segmentationClasses"]);r!=null&&c(o,["maskClasses"],r);const f=u(i,["maskDilation"]);return f!=null&&c(o,["dilation"],f),o}function _u(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const f=u(i,["description"]);f!=null&&c(o,["description"],f);const p=u(i,["version"]);p!=null&&c(o,["version"],p);const g=u(i,["_self"]);g!=null&&c(o,["tunedModelInfo"],F_(g));const v=u(i,["inputTokenLimit"]);v!=null&&c(o,["inputTokenLimit"],v);const h=u(i,["outputTokenLimit"]);h!=null&&c(o,["outputTokenLimit"],h);const y=u(i,["supportedGenerationMethods"]);y!=null&&c(o,["supportedActions"],y);const T=u(i,["temperature"]);T!=null&&c(o,["temperature"],T);const E=u(i,["maxTemperature"]);E!=null&&c(o,["maxTemperature"],E);const A=u(i,["topP"]);A!=null&&c(o,["topP"],A);const D=u(i,["topK"]);D!=null&&c(o,["topK"],D);const U=u(i,["thinking"]);return U!=null&&c(o,["thinking"],U),o}function Cu(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const f=u(i,["description"]);f!=null&&c(o,["description"],f);const p=u(i,["versionId"]);p!=null&&c(o,["version"],p);const g=u(i,["deployedModels"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>BE(A))),c(o,["endpoints"],E)}const v=u(i,["labels"]);v!=null&&c(o,["labels"],v);const h=u(i,["_self"]);h!=null&&c(o,["tunedModelInfo"],J_(h));const y=u(i,["defaultCheckpointId"]);y!=null&&c(o,["defaultCheckpointId"],y);const T=u(i,["checkpoints"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(A=>A)),c(o,["checkpoints"],E)}return o}function I_(i,n){const o={},s=u(i,["mediaResolution"]);s!=null&&c(o,["mediaResolution"],s);const r=u(i,["codeExecutionResult"]);r!=null&&c(o,["codeExecutionResult"],r);const f=u(i,["executableCode"]);f!=null&&c(o,["executableCode"],f);const p=u(i,["fileData"]);p!=null&&c(o,["fileData"],OE(p));const g=u(i,["functionCall"]);g!=null&&c(o,["functionCall"],kE(g));const v=u(i,["functionResponse"]);v!=null&&c(o,["functionResponse"],v);const h=u(i,["inlineData"]);h!=null&&c(o,["inlineData"],mE(h));const y=u(i,["text"]);y!=null&&c(o,["text"],y);const T=u(i,["thought"]);T!=null&&c(o,["thought"],T);const E=u(i,["thoughtSignature"]);E!=null&&c(o,["thoughtSignature"],E);const A=u(i,["videoMetadata"]);return A!=null&&c(o,["videoMetadata"],A),o}function D_(i,n){const o={},s=u(i,["productImage"]);return s!=null&&c(o,["image"],Ft(s)),o}function w_(i,n,o){const s={},r=u(i,["numberOfImages"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(i,["baseSteps"]);n!==void 0&&f!=null&&c(n,["parameters","baseSteps"],f);const p=u(i,["outputGcsUri"]);n!==void 0&&p!=null&&c(n,["parameters","storageUri"],p);const g=u(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const v=u(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&c(n,["parameters","safetySetting"],v);const h=u(i,["personGeneration"]);n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h);const y=u(i,["addWatermark"]);n!==void 0&&y!=null&&c(n,["parameters","addWatermark"],y);const T=u(i,["outputMimeType"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);n!==void 0&&E!=null&&c(n,["parameters","outputOptions","compressionQuality"],E);const A=u(i,["enhancePrompt"]);n!==void 0&&A!=null&&c(n,["parameters","enhancePrompt"],A);const D=u(i,["labels"]);return n!==void 0&&D!=null&&c(n,["labels"],D),s}function b_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["source"]);f!=null&&L_(f,s);const p=u(n,["config"]);return p!=null&&w_(p,s),s}function U_(i,n){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>qs(f))),c(o,["generatedImages"],r)}return o}function L_(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["personImage"]);n!==void 0&&f!=null&&c(n,["instances[0]","personImage","image"],Ft(f));const p=u(i,["productImages"]);if(n!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>D_(v))),c(n,["instances[0]","productImages"],g)}return s}function G_(i,n){const o={},s=u(i,["referenceImage"]);s!=null&&c(o,["referenceImage"],Ft(s));const r=u(i,["referenceId"]);r!=null&&c(o,["referenceId"],r);const f=u(i,["referenceType"]);f!=null&&c(o,["referenceType"],f);const p=u(i,["maskImageConfig"]);p!=null&&c(o,["maskImageConfig"],x_(p));const g=u(i,["controlImageConfig"]);g!=null&&c(o,["controlImageConfig"],EE(g));const v=u(i,["styleImageConfig"]);v!=null&&c(o,["styleImageConfig"],v);const h=u(i,["subjectImageConfig"]);return h!=null&&c(o,["subjectImageConfig"],h),o}function jh(i,n){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&c(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const f=u(i,["contentType"]);return f!=null&&c(o,["contentType"],f),o}function eg(i,n){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&c(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const f=u(i,["contentType"]);return f!=null&&c(o,["contentType"],f),o}function H_(i,n){const o={},s=u(i,["category"]);if(s!=null&&c(o,["category"],s),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&c(o,["threshold"],r),o}function V_(i,n){const o={},s=u(i,["image"]);return s!=null&&c(o,["image"],Ft(s)),o}function q_(i,n,o){const s={},r=u(i,["mode"]);n!==void 0&&r!=null&&c(n,["parameters","mode"],r);const f=u(i,["maxPredictions"]);n!==void 0&&f!=null&&c(n,["parameters","maxPredictions"],f);const p=u(i,["confidenceThreshold"]);n!==void 0&&p!=null&&c(n,["parameters","confidenceThreshold"],p);const g=u(i,["maskDilation"]);n!==void 0&&g!=null&&c(n,["parameters","maskDilation"],g);const v=u(i,["binaryColorThreshold"]);n!==void 0&&v!=null&&c(n,["parameters","binaryColorThreshold"],v);const h=u(i,["labels"]);return n!==void 0&&h!=null&&c(n,["labels"],h),s}function z_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["source"]);f!=null&&B_(f,s);const p=u(n,["config"]);return p!=null&&q_(p,s),s}function P_(i,n){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f_(f))),c(o,["generatedMasks"],r)}return o}function B_(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["image"]);n!==void 0&&f!=null&&c(n,["instances[0]","image"],Ft(f));const p=u(i,["scribbleImage"]);return n!==void 0&&p!=null&&c(n,["instances[0]","scribble"],V_(p)),s}function O_(i,n){const o={},s=u(i,["retrievalConfig"]);s!=null&&c(o,["retrievalConfig"],s);const r=u(i,["functionCallingConfig"]);return r!=null&&c(o,["functionCallingConfig"],FE(r)),o}function k_(i,n){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["computerUse"]);s!=null&&c(o,["computerUse"],s);const r=u(i,["fileSearch"]);r!=null&&c(o,["fileSearch"],r);const f=u(i,["codeExecution"]);if(f!=null&&c(o,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>E)),c(o,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(o,["googleMaps"],v_(g));const v=u(i,["googleSearch"]);v!=null&&c(o,["googleSearch"],y_(v));const h=u(i,["googleSearchRetrieval"]);h!=null&&c(o,["googleSearchRetrieval"],h);const y=u(i,["urlContext"]);return y!=null&&c(o,["urlContext"],y),o}function tg(i,n){const o={},s=u(i,["retrieval"]);s!=null&&c(o,["retrieval"],s);const r=u(i,["computerUse"]);if(r!=null&&c(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(i,["codeExecution"]);f!=null&&c(o,["codeExecution"],f);const p=u(i,["enterpriseWebSearch"]);p!=null&&c(o,["enterpriseWebSearch"],p);const g=u(i,["functionDeclarations"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>JE(A))),c(o,["functionDeclarations"],E)}const v=u(i,["googleMaps"]);v!=null&&c(o,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(o,["googleSearch"],h);const y=u(i,["googleSearchRetrieval"]);y!=null&&c(o,["googleSearchRetrieval"],y);const T=u(i,["urlContext"]);return T!=null&&c(o,["urlContext"],T),o}function F_(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const f=u(i,["updateTime"]);return f!=null&&c(o,["updateTime"],f),o}function J_(i,n){const o={},s=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const f=u(i,["updateTime"]);return f!=null&&c(o,["updateTime"],f),o}function Y_(i,n,o){const s={},r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);const p=u(i,["defaultCheckpointId"]);return n!==void 0&&p!=null&&c(n,["defaultCheckpointId"],p),s}function K_(i,n,o){const s={},r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);const p=u(i,["defaultCheckpointId"]);return n!==void 0&&p!=null&&c(n,["defaultCheckpointId"],p),s}function X_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","name"],Ae(i,r));const f=u(n,["config"]);return f!=null&&Y_(f,s),s}function Q_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["config"]);return f!=null&&K_(f,s),s}function Z_(i,n,o){const s={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["safetyFilterLevel"]);n!==void 0&&f!=null&&c(n,["parameters","safetySetting"],f);const p=u(i,["personGeneration"]);n!==void 0&&p!=null&&c(n,["parameters","personGeneration"],p);const g=u(i,["includeRaiReason"]);n!==void 0&&g!=null&&c(n,["parameters","includeRaiReason"],g);const v=u(i,["outputMimeType"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","mimeType"],v);const h=u(i,["outputCompressionQuality"]);n!==void 0&&h!=null&&c(n,["parameters","outputOptions","compressionQuality"],h);const y=u(i,["enhanceInputImage"]);n!==void 0&&y!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],y);const T=u(i,["imagePreservationFactor"]);n!==void 0&&T!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],T);const E=u(i,["labels"]);n!==void 0&&E!=null&&c(n,["labels"],E);const A=u(i,["numberOfImages"]);n!==void 0&&A!=null&&c(n,["parameters","sampleCount"],A);const D=u(i,["mode"]);return n!==void 0&&D!=null&&c(n,["parameters","mode"],D),s}function $_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ae(i,r));const f=u(n,["image"]);f!=null&&c(s,["instances[0]","image"],Ft(f));const p=u(n,["upscaleFactor"]);p!=null&&c(s,["parameters","upscaleConfig","upscaleFactor"],p);const g=u(n,["config"]);return g!=null&&Z_(g,s),s}function W_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>qs(p))),c(o,["generatedImages"],f)}return o}function j_(i,n){const o={},s=u(i,["uri"]);s!=null&&c(o,["uri"],s);const r=u(i,["encodedVideo"]);r!=null&&c(o,["videoBytes"],Fn(r));const f=u(i,["encoding"]);return f!=null&&c(o,["mimeType"],f),o}function eC(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["uri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["videoBytes"],Fn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function tC(i,n){const o={},s=u(i,["image"]);s!=null&&c(o,["_self"],Ft(s));const r=u(i,["maskMode"]);return r!=null&&c(o,["maskMode"],r),o}function nC(i,n){const o={},s=u(i,["image"]);s!=null&&c(o,["image"],zs(s));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function iC(i,n){const o={},s=u(i,["image"]);s!=null&&c(o,["image"],Ft(s));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function ng(i,n){const o={},s=u(i,["uri"]);s!=null&&c(o,["uri"],s);const r=u(i,["videoBytes"]);r!=null&&c(o,["encodedVideo"],Fn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["encoding"],f),o}function ig(i,n){const o={},s=u(i,["uri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["videoBytes"]);r!=null&&c(o,["bytesBase64Encoded"],Fn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oC(i,n){const o={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["displayName"],s),o}function lC(i){const n={},o=u(i,["config"]);return o!=null&&oC(o,n),n}function sC(i,n){const o={},s=u(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function aC(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(i,["config"]);return s!=null&&sC(s,n),n}function rC(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function uC(i,n){const o={},s=u(i,["customMetadata"]);if(n!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return n!==void 0&&r!=null&&c(n,["chunkingConfig"],r),o}function cC(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],dC(p)),n}function fC(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(n,["fileName"],s);const r=u(i,["config"]);return r!=null&&uC(r,n),n}function dC(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function pC(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function mC(i){const n={},o=u(i,["config"]);return o!=null&&pC(o,n),n}function hC(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["fileSearchStores"],f)}return n}function og(i,n){const o={},s=u(i,["mimeType"]);n!==void 0&&s!=null&&c(n,["mimeType"],s);const r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["customMetadata"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),c(n,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return n!==void 0&&p!=null&&c(n,["chunkingConfig"],p),o}function gC(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&og(s,n),n}function vC(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yC="Content-Type",SC="X-Server-Timeout",TC="User-Agent",Au="x-goog-api-client",EC="1.40.0",_C=`google-genai-sdk/${EC}`,CC="v1beta1",AC="v1beta";class RC{constructor(n){var o,s,r;this.clientOptions=Object.assign({},n),this.customBaseUrl=(o=n.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const f={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=n.project&&n.location||!!n.apiKey;this.customBaseUrl&&!g?(f.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?f.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(f.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),f.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:CC}else{if(!this.clientOptions.apiKey)throw new ll({message:"API key must be set when using the Gemini API.",status:403});f.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:AC,f.baseUrl="https://generativelanguage.googleapis.com/"}f.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=f,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(f,n.httpOptions))}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const n=new Headers;return await this.clientOptions.auth.addAuthHeaders(n),n}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n,o){return!(o.baseUrl&&o.baseUrlResourceScope===yu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[p,g]of Object.entries(n.queryParams))r.searchParams.append(p,String(g));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),n.abortSignal),this.unaryApiCall(r,f,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[r,f]of Object.entries(o))typeof f=="object"?s[r]=Object.assign(Object.assign({},s[r]),f):f!==void 0&&(s[r]=f);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),n.abortSignal),this.streamApiCall(r,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),n.signal=p}return o&&o.extraBody!==null&&NC(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Eh(r),new Su(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Eh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){return Ot(this,arguments,function*(){var s;const r=(s=n==null?void 0:n.body)===null||s===void 0?void 0:s.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield se(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(y,{stream:!0});try{const D=JSON.parse(T);if("error"in D){const U=JSON.parse(JSON.stringify(D.error)),I=U.status,z=U.code,J=`got status: ${I}. ${JSON.stringify(D)}`;if(z>=400&&z<600)throw new ll({message:J,status:z})}}catch(D){if(D.name==="ApiError")throw D}p+=T;let E=-1,A=0;for(;;){E=-1,A=0;for(const I of v){const z=p.indexOf(I);z!==-1&&(E===-1||z<E)&&(E=z,A=I.length)}if(E===-1)break;const D=p.substring(0,E);p=p.substring(E+A);const U=D.trim();if(U.startsWith(g)){const I=U.substring(g.length).trim();try{const z=new Response(I,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield se(new Su(z))}catch(z){throw new Error(`exception parsing stream chunk ${I}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=_C+" "+this.clientOptions.userAgentExtra;return n[TC]=o,n[Au]=o,n[yC]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[r,f]of Object.entries(n.headers))s.append(r,f);n.timeout&&n.timeout>0&&s.append(SC,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(n){var o;let s="";return typeof n=="string"&&(s=n.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(n,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(n);r.sizeBytes=String(p.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const v={file:r},h=this.getFileName(n),y=X("upload/v1beta/files",v._url),T=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,h,v,o==null?void 0:o.httpOptions);return f.upload(n,T,this)}async uploadFileToFileSearchStore(n,o,s){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),v=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:p.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,y=this.getFileName(o),T={};s!=null&&og(s,T);const E=await this.fetchUploadUrl(h,g,v,y,T,s==null?void 0:s.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,s,r,f,p){var g;let v={};p?v=p:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:n,body:JSON.stringify(f),httpMethod:"POST",httpOptions:v});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Eh(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new ll({message:r,status:o}):new Error(r)}}function NC(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,p){const g=Object.assign({},f);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const h=p[v],y=g[v];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?g[v]=s(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),g[v]=h)}return g}const r=s(o,n);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC="mcp_used/unknown";let xC=!1;function lg(i){for(const n of i)if(IC(n)||typeof n=="object"&&"inputSchema"in n)return!0;return xC}function sg(i){var n;const o=(n=i[Au])!==null&&n!==void 0?n:"";i[Au]=(o+` ${MC}`).trimStart()}function IC(i){return i!==null&&typeof i=="object"&&i instanceof zu}function DC(i){return Ot(this,arguments,function*(o,s=100){let r,f=0;for(;f<s;){const p=yield se(o.listTools({cursor:r}));for(const g of p.tools)yield yield se(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class zu{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new zu(n,o)}async initialize(){var n,o,s,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const y of this.mcpClients)try{for(var g=!0,v=(o=void 0,kt(DC(y))),h;h=await v.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=y}}catch(T){o={error:T}}finally{try{!g&&!n&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),lS(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:s.name,arguments:s.args},void 0,f);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wC(i,n,o){const s=new $0;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),n(s)}class bC{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=GC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const y=new Promise(k=>{h=k}),T=n.callbacks,E=function(){h({})},A=this.apiClient,D={onopen:E,onmessage:k=>{wC(A,T.onmessage,k)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(k){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(k){}},U=this.webSocketFactory.create(v,LC(p),D);U.connect(),await y;const J={setup:{model:Ae(this.apiClient,n.model)}};return U.send(JSON.stringify(J)),new UC(U,this.apiClient)}}class UC{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=oE(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=iE(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl($i.PLAY)}pause(){this.sendPlaybackControl($i.PAUSE)}stop(){this.sendPlaybackControl($i.STOP)}resetContext(){this.sendPlaybackControl($i.RESET_CONTEXT)}close(){this.conn.close()}}function LC(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function GC(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function VC(i,n,o){const s=new Z0;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=aE(f);Object.assign(s,p)}else Object.assign(s,f);n(s)}class qC{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new bC(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,r,f,p,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();n.config&&n.config.tools&&lg(n.config.tools)&&sg(T);const E=OC(T);if(this.apiClient.isVertexAI()){const $=this.apiClient.getProject(),ce=this.apiClient.getLocation(),Te=this.apiClient.getApiKey(),Ne=!!$&&!!ce||!!Te;this.apiClient.getCustomBaseUrl()&&!Ne?y=v:(y=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y))}else{const $=this.apiClient.getApiKey();let ce="BidiGenerateContent",Te="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",Te="access_token"),y=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ce}?${Te}=${$}`}let A=()=>{};const D=new Promise($=>{A=$}),U=n.callbacks,I=function(){var $;($=U==null?void 0:U.onopen)===null||$===void 0||$.call(U),A({})},z=this.apiClient,J={onopen:I,onmessage:$=>{VC(z,U.onmessage,$)},onerror:(o=U==null?void 0:U.onerror)!==null&&o!==void 0?o:function($){},onclose:(s=U==null?void 0:U.onclose)!==null&&s!==void 0?s:function($){}},k=this.webSocketFactory.create(y,BC(E),J);k.connect(),await D;let F=Ae(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const $=this.apiClient.getProject(),ce=this.apiClient.getLocation();$&&ce&&(F=`projects/${$}/locations/${ce}/`+F)}let B={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[ws.AUDIO]}:n.config.responseModalities=[ws.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const $ of ne)if(this.isCallableTool($)){const ce=$;Y.push(await ce.tool())}else Y.push($);Y.length>0&&(n.config.tools=Y);const de={model:F,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?B=nE(this.apiClient,de):B=tE(this.apiClient,de),delete B.config,k.send(JSON.stringify(B)),new PC(k,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const zC={turnComplete:!0};class PC{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Vt(o.turns),n.isVertexAI()||(s=s.map(r=>Vs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(HC)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},zC),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:sE(n)}:o={realtimeInput:lE(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function BC(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function OC(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _h=10;function Ch(i){var n,o,s;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(eo(p)){r=!0;break}if(!r)return!0;const f=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function eo(i){return"callTool"in i&&typeof i.callTool=="function"}function kC(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>eo(r)))!==null&&s!==void 0?s:!1}function Ah(i){var n;const o=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((s,r)=>{if(eo(s))return;const f=s;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Rh(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends gn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,r,f,p,g;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!kC(o)||Ch(o.config))return await this.generateContentInternal(v);const h=Ah(o);if(h.length>0){const U=h.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let y,T;const E=Vt(v.contents),A=(f=(r=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:_h;let D=0;for(;D<A&&(y=await this.generateContentInternal(v),!(!y.functionCalls||y.functionCalls.length===0));){const U=y.candidates[0].content,I=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(eo(z)){const k=await z.callTool(y.functionCalls);I.push(...k)}D++,T={role:"user",parts:I},v.contents=Vt(v.contents),v.contents.push(U),v.contents.push(T),Rh(v.config)&&(E.push(U),E.push(T))}return Rh(v.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async o=>{var s,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),Ch(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const v=Ah(o);if(v.length>0){const T=v.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,y=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let f;const p=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=v==null?void 0:v.safetyAttributes:p.push(v);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new fi(hn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,f,p,g,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((v=(g=o.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,r;const f=(o=n.config)===null||o===void 0?void 0:o.tools;if(!f)return n;const p=await Promise.all(f.map(async v=>eo(v)?await v.tool():v)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:p})};if(g.config.tools=p,n.config&&n.config.tools&&lg(n.config.tools)){const v=(r=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),sg(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,s,r;const f=new Map;for(const p of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(eo(p)){const g=p,v=await g.tool();for(const h of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(n){var o,s,r;const f=(r=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:_h;let p=!1,g=0;const v=await this.initAfcToolsMap(n);return(function(h,y,T){return Ot(this,arguments,function*(){for(var E,A,D,U,I,z;g<f;){p&&(g++,p=!1);const B=yield se(h.processParamsMaybeAddMcpUsage(T)),ne=yield se(h.generateContentStreamInternal(B)),Y=[],de=[];try{for(var J=!0,k=(A=void 0,kt(ne)),F;F=yield se(k.next()),E=F.done,!E;J=!0){U=F.value,J=!1;const $=U;if(yield yield se($),$.candidates&&(!((I=$.candidates[0])===null||I===void 0)&&I.content)){de.push($.candidates[0].content);for(const ce of(z=$.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(g<f&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ce.functionCall.name)){const Te=yield se(y.get(ce.functionCall.name).callTool([ce.functionCall]));Y.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch($){A={error:$}}finally{try{!J&&!E&&(D=k.return)&&(yield se(D.call(k)))}finally{if(A)throw A.error}}if(Y.length>0){p=!0;const $=new nl;$.candidates=[{content:{role:"user",parts:Y}}],yield yield se($);const ce=[];ce.push(...de),ce.push({role:"user",parts:Y});const Te=Vt(T.contents).concat(ce);T.contents=Te}else break}})})(this,v,n)}async generateContentInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=yh(this.apiClient,n);return g=X("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=Th(y),E=new nl;return Object.assign(E,T),E})}else{const h=vh(this.apiClient,n);return g=X("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=Sh(y),E=new nl;return Object.assign(E,T),E})}}async generateContentStreamInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=yh(this.apiClient,n);return g=X("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(T){return Ot(this,arguments,function*(){var E,A,D,U;try{for(var I=!0,z=kt(T),J;J=yield se(z.next()),E=J.done,!E;I=!0){U=J.value,I=!1;const k=U,F=Th(yield se(k.json()),n);F.sdkHttpResponse={headers:k.headers};const B=new nl;Object.assign(B,F),yield yield se(B)}}catch(k){A={error:k}}finally{try{!I&&!E&&(D=z.return)&&(yield se(D.call(z)))}finally{if(A)throw A.error}}})})}else{const h=vh(this.apiClient,n);return g=X("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Ot(this,arguments,function*(){var E,A,D,U;try{for(var I=!0,z=kt(T),J;J=yield se(z.next()),E=J.done,!E;I=!0){U=J.value,I=!1;const k=U,F=Sh(yield se(k.json()),n);F.sdkHttpResponse={headers:k.headers};const B=new nl;Object.assign(B,F),yield yield se(B)}}catch(k){A={error:k}}finally{try{!I&&!E&&(D=z.return)&&(yield se(D.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=qE(this.apiClient,n);return g=X("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=PE(y),E=new eh;return Object.assign(E,T),E})}else{const h=VE(this.apiClient,n);return g=X("{model}:batchEmbedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=zE(y),E=new eh;return Object.assign(E,T),E})}}async generateImagesInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=$E(this.apiClient,n);return g=X("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=jE(y),E=new th;return Object.assign(E,T),E})}else{const h=ZE(this.apiClient,n);return g=X("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=WE(y),E=new th;return Object.assign(E,T),E})}}async editImageInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=UE(this.apiClient,n);return f=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=LE(v),y=new q0;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=$_(this.apiClient,n);return f=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=W_(v),y=new z0;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=b_(this.apiClient,n);return f=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=U_(v),y=new P0;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=z_(this.apiClient,n);return f=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=P_(v),y=new B0;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=g_(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>Cu(y))}else{const h=h_(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>_u(y))}}async listInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=R_(this.apiClient,n);return g=X("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=M_(y),E=new nh;return Object.assign(E,T),E})}else{const h=A_(this.apiClient,n);return g=X("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=N_(y),E=new nh;return Object.assign(E,T),E})}}async update(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Q_(this.apiClient,n);return g=X("{model}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>Cu(y))}else{const h=X_(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>_u(y))}}async delete(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=wE(y),E=new ih;return Object.assign(E,T),E})}else{const h=xE(this.apiClient,n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=DE(y),E=new ih;return Object.assign(E,T),E})}}async countTokens(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=RE(this.apiClient,n);return g=X("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=ME(y),E=new oh;return Object.assign(E,T),E})}else{const h=AE(this.apiClient,n);return g=X("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=NE(y),E=new oh;return Object.assign(E,T),E})}}async computeTokens(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=vE(this.apiClient,n);return f=X("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=yE(v),y=new O0;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=l_(this.apiClient,n);return g=X("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p.then(y=>{const T=i_(y),E=new bs;return Object.assign(E,T),E})}else{const h=o_(this.apiClient,n);return g=X("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>{const T=n_(y),E=new bs;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JC extends gn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=b0(n);return g=X("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),p}else{const h=w0(n);return g=X("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p}}async fetchPredictVideosOperationInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=A0(n);return f=X("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function KC(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>nA(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function XC(i,n,o){const s={},r=u(n,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(n,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(n,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],tA(i,g));const v=u(n,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),s}function QC(i,n){const o={},s=u(n,["config"]);return s!=null&&c(o,["config"],XC(i,s,o)),o}function ZC(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function $C(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function WC(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function jC(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function eA(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],qu(T));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);n!==void 0&&D!=null&&c(n,["setup","systemInstruction"],KC(ot(D)));const U=u(i,["tools"]);if(n!==void 0&&U!=null){let ne=no(U);Array.isArray(ne)&&(ne=ne.map(Y=>oA(to(Y)))),c(n,["setup","tools"],ne)}const I=u(i,["sessionResumption"]);n!==void 0&&I!=null&&c(n,["setup","sessionResumption"],iA(I));const z=u(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const J=u(i,["outputAudioTranscription"]);n!==void 0&&J!=null&&c(n,["setup","outputAudioTranscription"],J);const k=u(i,["realtimeInputConfig"]);n!==void 0&&k!=null&&c(n,["setup","realtimeInputConfig"],k);const F=u(i,["contextWindowCompression"]);n!==void 0&&F!=null&&c(n,["setup","contextWindowCompression"],F);const B=u(i,["proactivity"]);if(n!==void 0&&B!=null&&c(n,["setup","proactivity"],B),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function tA(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ae(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],eA(r,o)),o}function nA(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],ZC(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],$C(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],YC(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function iA(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function oA(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],WC(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],jC(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lA(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(f=>`${o}.${f}`);n.push(...r)}else n.push(o)}return n.join(",")}function sA(i,n){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=lA(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const v=[];f&&v.push(f),g.length>0&&v.push(...g),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class aA extends gn{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=QC(this.apiClient,n);f=X("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=sA(g,n.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rA(i,n){const o={},s=u(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function uA(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(i,["config"]);return s!=null&&rA(s,n),n}function cA(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function fA(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function dA(i){const n={},o=u(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&fA(s,n),n}function pA(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["documents"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mA extends gn{constructor(n){super(),this.apiClient=n,this.list=async o=>new fi(hn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cA(n);return f=X("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(n){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=uA(n);r=X("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dA(n);return f=X("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=pA(v),y=new k0;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA extends gn{constructor(n,o=new mA(n)){super(),this.apiClient=n,this.documents=o,this.list=async(s={})=>new fi(hn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lC(n);return f=X("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rC(n);return f=X("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(n){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=aC(n);r=X("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mC(n);return f=X("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=hC(v),y=new F0;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gC(n);return f=X("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=vC(v),y=new J0;return Object.assign(y,h),y})}}async importFile(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fC(n);return f=X("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=cC(v),y=new Uu;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ag=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return ag=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),o=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const gA=()=>ag();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ru(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Nu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qt extends Error{}class rt extends qt{constructor(n,o,s,r){super(`${rt.makeMessage(n,o,s)}`),this.status=n,this.headers=r,this.error=o}static makeMessage(n,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return n&&r?`${n} ${r}`:n?`${n} status code (no body)`:r||"(no status code or body)"}static generate(n,o,s,r){if(!n||!r)return new Ps({message:s,cause:Nu(o)});const f=o;return n===400?new ug(n,f,s,r):n===401?new cg(n,f,s,r):n===403?new fg(n,f,s,r):n===404?new dg(n,f,s,r):n===409?new pg(n,f,s,r):n===422?new mg(n,f,s,r):n===429?new hg(n,f,s,r):n>=500?new gg(n,f,s,r):new rt(n,f,s,r)}}class Mu extends rt{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class Ps extends rt{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class rg extends Ps{constructor({message:n}={}){super({message:n??"Request timed out."})}}class ug extends rt{}class cg extends rt{}class fg extends rt{}class dg extends rt{}class pg extends rt{}class mg extends rt{}class hg extends rt{}class gg extends rt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vA=/^[a-z][a-z0-9+.-]*:/i,yA=i=>vA.test(i);let xu=i=>(xu=Array.isArray,xu(i));const SA=xu;let TA=SA;const Nh=TA;function EA(i){if(!i)return!0;for(const n in i)return!1;return!0}function _A(i,n){return Object.prototype.hasOwnProperty.call(i,n)}const CA=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new qt(`${i} must be an integer`);if(n<0)throw new qt(`${i} must be a positive integer`);return n},AA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RA=i=>new Promise(n=>setTimeout(n,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const MA=()=>{var i,n,o,s,r;const f=NA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":xh(Deno.build.os),"X-Stainless-Arch":Mh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":xh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Mh((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=xA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function xA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,f=s[2]||0,p=s[3]||0;return{browser:n,version:`${r}.${f}.${p}`}}}return null}const Mh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",xh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let As;const IA=()=>As??(As=MA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vg(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function wA(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return vg({start(){},async pull(o){const{done:s,value:r}=await n.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}function yg(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const o=await n.read();return o!=null&&o.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function bA(i){var n,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(n=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(n));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sg=()=>{var i;if(typeof File>"u"){const{process:n}=globalThis,o=typeof((i=n==null?void 0:n.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pu(i,n,o){return Sg(),new File(i,n??"unknown_file",o)}function LA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const GA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",HA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Tg(i),VA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function qA(i,n,o){if(Sg(),i=await i,HA(i))return i instanceof File?i:pu([await i.arrayBuffer()],i.name);if(VA(i)){const r=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),pu(await Iu(r),n,o)}const s=await Iu(i);if(n||(n=LA(i)),!(o!=null&&o.type)){const r=s.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return pu(s,n,o)}async function Iu(i){var n,o,s,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Tg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(GA(i))try{for(var g=!0,v=kt(i),h;h=await v.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const y=r;p.push(...await Iu(y))}}catch(y){o={error:y}}finally{try{!g&&!n&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}else{const y=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${y?`; constructor: ${y}`:""}${zA(i)}`)}return p}function zA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eg{constructor(n){this._client=n}}Eg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _g(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ih=Object.freeze(Object.create(null)),PA=(i=_g)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((y,T,E)=>{var A,D,U;/[?#]/.test(T)&&(r=!0);const I=s[E];let z=(r?encodeURIComponent:i)(""+I);return E!==s.length&&(I==null||typeof I=="object"&&I.toString===((U=Object.getPrototypeOf((D=Object.getPrototypeOf((A=I.hasOwnProperty)!==null&&A!==void 0?A:Ih))!==null&&D!==void 0?D:Ih))===null||U===void 0?void 0:U.toString))&&(z=I+"",f.push({start:y.length+T.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),y+T+(E===s.length?"":z)},""),g=p.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=v.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((y,T)=>y.start-T.start),f.length>0){let y=0;const T=f.reduce((E,A)=>{const D=" ".repeat(A.start-y),U="^".repeat(A.length);return y=A.start+A.length,E+D+U},"");throw new qt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),Rs=PA(_g);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cg extends Eg{create(n,o){var s;const{api_version:r=this._client.apiVersion}=n,f=Ls(n,["api_version"]);if("model"in f&&"agent_config"in f)throw new qt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new qt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Rs`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(s=n.stream)!==null&&s!==void 0?s:!1}))}delete(n,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Rs`/${r}/interactions/${n}`,s)}cancel(n,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Rs`/${r}/interactions/${n}/cancel`,s)}get(n,o={},s){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=Ls(f,["api_version"]);return this._client.get(Rs`/${p}/interactions/${n}`,Object.assign(Object.assign({query:g},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Cg._key=Object.freeze(["interactions"]);class Ag extends Cg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(i){let n=0;for(const r of i)n+=r.length;const o=new Uint8Array(n);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let Ns;function Pu(i){let n;return(Ns??(n=new globalThis.TextEncoder,Ns=n.encode.bind(n)))(i)}let Ms;function Dh(i){let n;return(Ms??(n=new globalThis.TextDecoder,Ms=n.decode.bind(n)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Pu(n):n;this.buffer=BA([this.buffer,o]);const s=[];let r;for(;(r=OA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Dh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Dh(this.buffer.subarray(0,f));s.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Bs.NEWLINE_CHARS=new Set([`
`,"\r"]);Bs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OA(i,n){for(let r=n??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function kA(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gs={off:0,error:200,warn:300,info:400,debug:500},wh=(i,n,o)=>{if(i){if(_A(Gs,i))return i;at(o).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Gs))}`)}};function ol(){}function xs(i,n,o){return!n||Gs[i]>Gs[o]?ol:n[i].bind(n)}const FA={error:ol,warn:ol,info:ol,debug:ol};let bh=new WeakMap;function at(i){var n;const o=i.logger,s=(n=i.logLevel)!==null&&n!==void 0?n:"off";if(!o)return FA;const r=bh.get(o);if(r&&r[0]===s)return r[1];const f={error:xs("error",o,s),warn:xs("warn",o,s),info:xs("info",o,s),debug:xs("debug",o,s)};return bh.set(o,[s,f]),f}const ci=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,o])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wi{constructor(n,o,s){this.iterator=n,this.controller=o,this.client=s}static fromSSEResponse(n,o,s){let r=!1;const f=s?at(s):console;function p(){return Ot(this,arguments,function*(){var v,h,y,T;if(r)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,D=kt(JA(n,o)),U;U=yield se(D.next()),v=U.done,!v;A=!0){T=U.value,A=!1;const I=T;if(!E)if(I.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield se(JSON.parse(I.data))}catch(z){throw f.error("Could not parse message into JSON:",I.data),f.error("From chunk:",I.raw),z}}}catch(I){h={error:I}}finally{try{!A&&!v&&(y=D.return)&&(yield se(y.call(D)))}finally{if(h)throw h.error}}E=!0}catch(I){if(Ru(I))return yield se(void 0);throw I}finally{E||o.abort()}})}return new Wi(p,o,s)}static fromReadableStream(n,o,s){let r=!1;function f(){return Ot(this,arguments,function*(){var v,h,y,T;const E=new Bs,A=yg(n);try{for(var D=!0,U=kt(A),I;I=yield se(U.next()),v=I.done,!v;D=!0){T=I.value,D=!1;const z=T;for(const J of E.decode(z))yield yield se(J)}}catch(z){h={error:z}}finally{try{!D&&!v&&(y=U.return)&&(yield se(y.call(U)))}finally{if(h)throw h.error}}for(const z of E.flush())yield yield se(z)})}function p(){return Ot(this,arguments,function*(){var v,h,y,T;if(r)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,D=kt(f()),U;U=yield se(D.next()),v=U.done,!v;A=!0){T=U.value,A=!1;const I=T;E||I&&(yield yield se(JSON.parse(I)))}}catch(I){h={error:I}}finally{try{!A&&!v&&(y=D.return)&&(yield se(y.call(D)))}finally{if(h)throw h.error}}E=!0}catch(I){if(Ru(I))return yield se(void 0);throw I}finally{E||o.abort()}})}return new Wi(p,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],s=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=s.next();n.push(p),o.push(p)}return f.shift()}});return[new Wi(()=>r(n),this.controller,this.client),new Wi(()=>r(o),this.controller,this.client)]}toReadableStream(){const n=this;let o;return vg({async start(){o=n[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:f}=await o.next();if(f)return s.close();const p=Pu(JSON.stringify(r)+`
`);s.enqueue(p)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function JA(i,n){return Ot(this,arguments,function*(){var s,r,f,p;if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qt("Attempted to iterate over a response with no body");const g=new KA,v=new Bs,h=yg(i.body);try{for(var y=!0,T=kt(YA(h)),E;E=yield se(T.next()),s=E.done,!s;y=!0){p=E.value,y=!1;const A=p;for(const D of v.decode(A)){const U=g.decode(D);U&&(yield yield se(U))}}}catch(A){r={error:A}}finally{try{!y&&!s&&(f=T.return)&&(yield se(f.call(T)))}finally{if(r)throw r.error}}for(const A of v.flush()){const D=g.decode(A);D&&(yield yield se(D))}})}function YA(i){return Ot(this,arguments,function*(){var o,s,r,f;let p=new Uint8Array;try{for(var g=!0,v=kt(i),h;h=yield se(v.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const y=f;if(y==null)continue;const T=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Pu(y):y;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let A;for(;(A=kA(p))!==-1;)yield yield se(p.slice(0,A)),p=p.slice(A)}}catch(y){s={error:y}}finally{try{!g&&!o&&(r=v.return)&&(yield se(r.call(v)))}finally{if(s)throw s.error}}p.length>0&&(yield yield se(p))})}class KA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,s,r]=XA(n,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function XA(i,n){const o=i.indexOf(n);return o!==-1?[i.substring(0,o),n,i.substring(o+n.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function QA(i,n){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:f}=n,p=await(async()=>{var g;if(n.options.stream)return at(i).debug("response",o.status,o.url,o.headers,o.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(o,n.controller,i):Wi.fromSSEResponse(o,n.controller,i);if(o.status===204)return null;if(n.options.__binaryResponse)return o;const v=o.headers.get("content-type"),h=(g=v==null?void 0:v.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return at(i).debug(`[${s}] response parsed`,ci({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bu extends Promise{constructor(n,o,s=QA){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=n}_thenUnwrap(n){return new Bu(this.client,this.responsePromise,async(o,s)=>n(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=Symbol("brand.privateNullableHeaders");function*ZA(i){if(!i)return;if(Rg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const f of r)yield[f,null];return}let n=!1,o;i instanceof Headers?o=i.entries():Nh(i)?o=i:(n=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Nh(s[1])?s[1]:[s[1]];let p=!1;for(const g of f)g!==void 0&&(n&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const il=i=>{const n=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[f,p]of ZA(s)){const g=f.toLowerCase();r.has(g)||(n.delete(f),r.add(g)),p===null?(n.delete(f),o.add(g)):(n.append(f,p),o.delete(g))}}return{[Rg]:!0,values:n,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mu=i=>{var n,o,s,r,f,p;if(typeof globalThis.process<"u")return(s=(o=(n=y0)===null||n===void 0?void 0:n[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ng;class Os{constructor(n){var o,s,r,f,p,g,v,{baseURL:h=mu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(o=mu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=n,E=Ls(n,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:y,apiVersion:T},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(s=A.timeout)!==null&&s!==void 0?s:Os.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(p=(f=wh(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:wh(mu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:D,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(v=A.fetch)!==null&&v!==void 0?v:DA(),this.encoder=UA,this._options=A,this.apiKey=y,this.apiVersion=T,this.clientAdapter=A.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const o=il([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return il([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return il([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new qt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zi}`}defaultIdempotencyKey(){return`stainless-node-retry-${gA()}`}makeStatusError(n,o,s,r){return rt.generate(n,o,s,r)}buildURL(n,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,f=yA(n)?new URL(n):new URL(r+(r.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),p=this.defaultQuery();return EA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:s}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:n,path:o},r)))}request(n,o=null){return new Bu(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,s){var r,f,p;const g=await n,v=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=v),await this.prepareOptions(g);const{req:h,url:y,timeout:T}=await this.buildRequest(g,{retryCount:v-o});await this.prepareRequest(h,{url:y,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=s===void 0?"":`, retryOf: ${s}`,D=Date.now();if(at(this).debug(`[${E}] sending request`,ci({retryOfRequestLogID:s,method:g.method,url:y,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Mu;const U=new AbortController,I=await this.fetchWithTimeout(y,h,T,U).catch(Nu),z=Date.now();if(I instanceof globalThis.Error){const k=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Mu;const F=Ru(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(o)return at(this).info(`[${E}] connection ${F?"timed out":"failed"} - ${k}`),at(this).debug(`[${E}] connection ${F?"timed out":"failed"} (${k})`,ci({retryOfRequestLogID:s,url:y,durationMs:z-D,message:I.message})),this.retryRequest(g,o,s??E);throw at(this).info(`[${E}] connection ${F?"timed out":"failed"} - error; no more retries left`),at(this).debug(`[${E}] connection ${F?"timed out":"failed"} (error; no more retries left)`,ci({retryOfRequestLogID:s,url:y,durationMs:z-D,message:I.message})),F?new rg:new Ps({cause:I})}const J=`[${E}${A}] ${h.method} ${y} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${z-D}ms`;if(!I.ok){const k=await this.shouldRetry(I);if(o&&k){const $=`retrying, ${o} attempts remaining`;return await bA(I.body),at(this).info(`${J} - ${$}`),at(this).debug(`[${E}] response error (${$})`,ci({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,durationMs:z-D})),this.retryRequest(g,o,s??E,I.headers)}const F=k?"error; no more retries left":"error; not retryable";at(this).info(`${J} - ${F}`);const B=await I.text().catch($=>Nu($).message),ne=AA(B),Y=ne?void 0:B;throw at(this).debug(`[${E}] response error (${F})`,ci({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,message:Y,durationMs:Date.now()-D})),this.makeStatusError(I.status,ne,Y,I.headers)}return at(this).info(J),at(this).debug(`[${E}] response start`,ci({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,durationMs:z-D})),{response:I,options:g,controller:U,requestLogID:E,retryOfRequestLogID:s,startTime:D}}async fetchWithTimeout(n,o,s,r){const f=o||{},{signal:p,method:g}=f,v=Ls(f,["signal","method"]),h=r.abort.bind(r);p&&p.addEventListener("abort",h,{once:!0});const y=setTimeout(h,s),T=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},T?{duplex:"half"}:{}),{method:"GET"}),v);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,n,E)}finally{clearTimeout(y)}}async shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,s,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const v=r==null?void 0:r.get("retry-after");if(v&&!p){const h=parseFloat(v);Number.isNaN(h)?p=Date.parse(v)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=n.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await RA(p),this.makeRequest(n,o-1,s)}calculateDefaultRetryTimeoutMillis(n,o){const f=o-n,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(n,{retryCount:o=0}={}){var s,r,f;const p=Object.assign({},n),{method:g,path:v,query:h,defaultBaseURL:y}=p,T=this.buildURL(v,h,y);"timeout"in p&&CA("timeout",p.timeout),p.timeout=(s=p.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),D=await this.buildHeaders({options:n,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:D},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:s,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=n.idempotencyKey);const p=await this.authHeaders(n);let g=il([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),IA()),this._options.defaultHeaders,s,n.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};const s=il([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&s.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:wA(n)}:this.encoder({body:n,headers:s})}}Os.DEFAULT_TIMEOUT=6e4;class $e extends Os{constructor(){super(...arguments),this.interactions=new Ag(this)}}Ng=$e;$e.GeminiNextGenAPIClient=Ng;$e.GeminiNextGenAPIClientError=qt;$e.APIError=rt;$e.APIConnectionError=Ps;$e.APIConnectionTimeoutError=rg;$e.APIUserAbortError=Mu;$e.NotFoundError=dg;$e.ConflictError=pg;$e.RateLimitError=hg;$e.BadRequestError=ug;$e.AuthenticationError=cg;$e.InternalServerError=gg;$e.PermissionDeniedError=fg;$e.UnprocessableEntityError=mg;$e.toFile=qA;$e.Interactions=Ag;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $A(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function WA(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function jA(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function eR(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function tR(i,n,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);n!==void 0&&f!=null&&c(n,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const v=u(i,["learningRate"]);if(n!==void 0&&v!=null&&c(n,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return s}function nR(i,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const B=u(i,["validationDataset"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec"],hu(B))}else if(r==="PREFERENCE_TUNING"){const B=u(i,["validationDataset"]);n!==void 0&&B!=null&&c(n,["preferenceOptimizationSpec"],hu(B))}else if(r==="DISTILLATION"){const B=u(i,["validationDataset"]);n!==void 0&&B!=null&&c(n,["distillationSpec"],hu(B))}const f=u(i,["tunedModelDisplayName"]);n!==void 0&&f!=null&&c(n,["tunedModelDisplayName"],f);const p=u(i,["description"]);n!==void 0&&p!=null&&c(n,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const B=u(i,["epochCount"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],B)}else if(g==="PREFERENCE_TUNING"){const B=u(i,["epochCount"]);n!==void 0&&B!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],B)}else if(g==="DISTILLATION"){const B=u(i,["epochCount"]);n!==void 0&&B!=null&&c(n,["distillationSpec","hyperParameters","epochCount"],B)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const B=u(i,["learningRateMultiplier"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],B)}else if(v==="PREFERENCE_TUNING"){const B=u(i,["learningRateMultiplier"]);n!==void 0&&B!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],B)}else if(v==="DISTILLATION"){const B=u(i,["learningRateMultiplier"]);n!==void 0&&B!=null&&c(n,["distillationSpec","hyperParameters","learningRateMultiplier"],B)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const B=u(i,["exportLastCheckpointOnly"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],B)}else if(h==="PREFERENCE_TUNING"){const B=u(i,["exportLastCheckpointOnly"]);n!==void 0&&B!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],B)}else if(h==="DISTILLATION"){const B=u(i,["exportLastCheckpointOnly"]);n!==void 0&&B!=null&&c(n,["distillationSpec","exportLastCheckpointOnly"],B)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const B=u(i,["adapterSize"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],B)}else if(y==="PREFERENCE_TUNING"){const B=u(i,["adapterSize"]);n!==void 0&&B!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],B)}else if(y==="DISTILLATION"){const B=u(i,["adapterSize"]);n!==void 0&&B!=null&&c(n,["distillationSpec","hyperParameters","adapterSize"],B)}let T=u(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const B=u(i,["tuningMode"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec","tuningMode"],B)}const E=u(i,["customBaseModel"]);n!==void 0&&E!=null&&c(n,["customBaseModel"],E);let A=u(o,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const B=u(i,["batchSize"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec","hyperParameters","batchSize"],B)}let D=u(o,["config","method"]);if(D===void 0&&(D="SUPERVISED_FINE_TUNING"),D==="SUPERVISED_FINE_TUNING"){const B=u(i,["learningRate"]);n!==void 0&&B!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRate"],B)}const U=u(i,["labels"]);n!==void 0&&U!=null&&c(n,["labels"],U);const I=u(i,["beta"]);n!==void 0&&I!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],I);const z=u(i,["baseTeacherModel"]);n!==void 0&&z!=null&&c(n,["distillationSpec","baseTeacherModel"],z);const J=u(i,["tunedTeacherModelSource"]);n!==void 0&&J!=null&&c(n,["distillationSpec","tunedTeacherModelSource"],J);const k=u(i,["sftLossWeightMultiplier"]);n!==void 0&&k!=null&&c(n,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const F=u(i,["outputUri"]);return n!==void 0&&F!=null&&c(n,["outputUri"],F),s}function iR(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&mR(f);const p=u(i,["config"]);return p!=null&&tR(p,o),o}function oR(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&hR(f,o,n);const p=u(i,["config"]);return p!=null&&nR(p,o,n),o}function lR(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function sR(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function aR(i,n,o){const s={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const p=u(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),s}function rR(i,n,o){const s={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const p=u(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),s}function uR(i,n){const o={},s=u(i,["config"]);return s!=null&&aR(s,o),o}function cR(i,n){const o={},s=u(i,["config"]);return s!=null&&rR(s,o),o}function fR(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Mg(g))),c(o,["tuningJobs"],p)}return o}function dR(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Du(g))),c(o,["tuningJobs"],p)}return o}function pR(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function mR(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function hR(i,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["distillationSpec","promptDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(f==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Mg(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],kh(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const v=u(i,["tuningTask","completeTime"]);v!=null&&c(o,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const y=u(i,["description"]);y!=null&&c(o,["description"],y);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],pR(E)),o}function Du(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],kh(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(o,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const y=u(i,["error"]);y!=null&&c(o,["error"],y);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(o,["tunedModel"],A);const D=u(i,["preTunedModel"]);D!=null&&c(o,["preTunedModel"],D);const U=u(i,["supervisedTuningSpec"]);U!=null&&c(o,["supervisedTuningSpec"],U);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&c(o,["preferenceOptimizationSpec"],I);const z=u(i,["distillationSpec"]);z!=null&&c(o,["distillationSpec"],z);const J=u(i,["tuningDataStats"]);J!=null&&c(o,["tuningDataStats"],J);const k=u(i,["encryptionSpec"]);k!=null&&c(o,["encryptionSpec"],k);const F=u(i,["partnerModelTuningSpec"]);F!=null&&c(o,["partnerModelTuningSpec"],F);const B=u(i,["customBaseModel"]);B!=null&&c(o,["customBaseModel"],B);const ne=u(i,["experiment"]);ne!=null&&c(o,["experiment"],ne);const Y=u(i,["labels"]);Y!=null&&c(o,["labels"],Y);const de=u(i,["outputUri"]);de!=null&&c(o,["outputUri"],de);const $=u(i,["pipelineJob"]);$!=null&&c(o,["pipelineJob"],$);const ce=u(i,["serviceAccount"]);ce!=null&&c(o,["serviceAccount"],ce);const Te=u(i,["tunedModelDisplayName"]);Te!=null&&c(o,["tunedModelDisplayName"],Te);const Ne=u(i,["veoTuningSpec"]);return Ne!=null&&c(o,["veoTuningSpec"],Ne),o}function gR(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function hu(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vR extends gn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(hn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:vu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=sR(n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>Du(y))}else{const h=lR(n);return g=X("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>Mg(y))}}async listInternal(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=cR(n);return g=X("tuningJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=dR(y),E=new lh;return Object.assign(E,T),E})}else{const h=uR(n);return g=X("tunedModels",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=fR(y),E=new lh;return Object.assign(E,T),E})}}async cancel(n){var o,s,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=WA(n);return g=X("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=eR(y),E=new sh;return Object.assign(E,T),E})}else{const h=$A(n);return g=X("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=jA(y),E=new sh;return Object.assign(E,T),E})}}async tuneInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=oR(n,n);return f=X("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>Du(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iR(n);return f=X("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>gR(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yR{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const SR=1024*1024*8,TR=3,ER=1e3,_R=2,Hs="x-goog-upload-status";async function CR(i,n,o){var s;const r=await xg(i,n,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Hs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function AR(i,n,o){var s;const r=await xg(i,n,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Hs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Vh(f),g=new Lu;return Object.assign(g,p),g}async function xg(i,n,o){var s,r;let f=0,p=0,g=new Su(new Response),v="upload";for(f=i.size;p<f;){const h=Math.min(SR,f-p),y=i.slice(p,p+h);p+h>=f&&(v+=", finalize");let T=0,E=ER;for(;T<TR&&(g=await o.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Hs]));)T++,await NR(E),E=E*_R;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Hs])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function RR(i){return{size:i.size,type:i.type}}function NR(i){return new Promise(n=>setTimeout(n,i))}class MR{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await CR(n,o,s)}async uploadToFileSearchStore(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await AR(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await RR(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xR{create(n,o,s){return new IR(n,o,s)}}class IR{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh="x-goog-api-key";class DR{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(Uh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Uh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wR="gl-node/";class bR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new $e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout});return this._interactions=o.interactions,this._interactions}constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=_0(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion,this.httpOptions=n.httpOptions;const r=new DR(this.apiKey);this.apiClient=new RC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:wR+"web",uploader:new MR,downloader:new yR}),this.models=new FC(this.apiClient),this.live=new qC(this.apiClient,r,new xR),this.batches=new WS(this.apiClient),this.chats=new UT(this.models,this.apiClient),this.caches=new DT(this.apiClient),this.files=new JT(this.apiClient),this.operations=new JC(this.apiClient),this.authTokens=new aA(this.apiClient),this.tunings=new vR(this.apiClient),this.fileSearchStores=new hA(this.apiClient)}}const UR=`
 "  "               ** **.

**:**
-   ** :**        .    .
-   ** :**      .      .
-   ** :**     .
-   **  :**         .       .

** :**
                .

**      :**
1.  **  :**          "   ".              .                 .
2.  **   :**                   (  ).
3.  ** :**          70%  .
4.  **:**        (   )          .
5.  ** :**        (  )             .
6.  ** :**       ****     (        ).
7.  ** :**            .
8.  ** :**   Markdown      (   ...).
9.  ** :**         . : "###    |  ".

**   "  "  " "       :**

### 1.    |  
-   **   (1):**
    -   **   (1.1):** ( SMART)
-   **   (2):**
    -   **   (2.1):** ( SMART)
-   **  :**
-   **  :**

### 2.    |  
-   **  :**
-   **   :**
-   **  :**

### 3.    
-           .

**   "  "**     .       .
`,LR=`
                ** **.

**:**
       /      .

** :**
-   ** :**       .
-   ** :**        .
-   **  :**       ****     " " .      .
-   ** :**         .

**  :**
1.  ** :**     ****   .        .
2.  ** :**   /   .
3.  **:**      Markdown  ****    :
    -   ###   / \${studentName}  
    -   ###    
    -   ###      

**   :**

**  /: [ ]**
**  : [ ] : [ ]**

###   / [ ]  
-          ... (:    ) /  ... (:      ).
-      ... (:    ) /   ... (:     ).

###    
-   / [ ]    ... (:   ).
-   /    ... (:   ).
-   /      ... (:  ).

###      
-     /     (: "  ").
-   /             .
-    /        .
`,GR="PLACEHOLDER_API_KEY",Ig=new bR({apiKey:GR}),Dg="gemini-3-flash-preview",HR=async(i,n,o)=>{try{const s=JSON.parse(JSON.stringify(i));delete s.chatHistory,s.personalInfo.photoUrl=void 0,s.medicalDiagnosis.reportFile&&(s.medicalDiagnosis.reportFile=`[   : ${i.medicalDiagnosis.reportFile.name}]`);const r=i.planHistory.slice(-2).map((y,T)=>`###   ${T+1} (${new Date(y.createdAt).toLocaleDateString("ar-SA")})

${y.content}`).join(`

---

`),f=i.achievedGoals.map(y=>`- ${y.description} (: ${y.goalType}, : ${y.masteryLevel}, : ${new Date(y.achievedAt).toLocaleDateString("ar-SA")})`).join(`
`),p=`
${UR}

##   

###  
\`\`\`json
${JSON.stringify(s,null,2)}
\`\`\`

###      (  )
${f||"     ."}


###    ( )
${r||"   ."}
        `,g=n.slice(-6).map(y=>`${y.role}: ${y.content}`).join(`
`),v=`${p}

##  

${g}
user: ${o}
model: `,h=await Ig.models.generateContent({model:Dg,contents:v});if(h.text)return h.text;throw new Error("No text response from Gemini API.")}catch(s){throw console.error("Error getting chat response from Gemini:",s),new Error("Failed to get chat response.")}},VR=async(i,n,o,s)=>{try{const r=i.personalInfo.fullName,f=new Date(o).toLocaleDateString("ar-SA"),p=new Date(s).toLocaleDateString("ar-SA"),g=n.map(y=>({date:y.date,duration:y.duration,notes:y.notes})),v=`
${LR.replace(/\$\{studentName\}/g,r)}

##  
- **:** ${r}

##    
\`\`\`json
${JSON.stringify(g,null,2)}
\`\`\`

## 
       " "      ${f}  ${p}.
`,h=await Ig.models.generateContent({model:Dg,contents:v});if(h.text)return`### ** **

**  /:** ${r}
**  :** ${f} **:** ${p}

---

`+h.text;throw new Error("No text response from Gemini API for report generation.")}catch(r){throw console.error("Error generating report from Gemini:",r),new Error("Failed to generate report.")}},qR=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...i,children:C.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1.5 15.5v-4l-2.79 2.79c-.32.32-.86.1-1.06-.33-.2-.43.08-.97.5-.1.19l3.29-3.29c.39-.39 1.02-.39 1.41 0l3.29 3.29c.42.42.12.96-.3.1.19l-2.79-2.79v4c0 .55-.45 1-1 1s-1-.45-1-1zm1.5-6c-.69 0-1.32-.28-1.77-.73s-.73-1.08-.73-1.77.28-1.32.73-1.77.1.08-1.77.73 1.77 1.08 1.77.73c.69 0 1.32.28 1.77.73s.73 1.08.73 1.77-.28 1.32-.73 1.77-1.08.73-1.77.73z"})}),wg=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),Lh=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625a1.875 1.875 0 00-1.875 1.875v17.25a1.875 1.875 0 001.875 1.875h12.75a1.875 1.875 0 001.875-1.875V11.25a1.875 1.875 0 00-1.875-1.875h-3.75a1.875 1.875 0 01-1.875-1.875V5.25z"})}),zR=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1.5-1.5m1.5 1.5v5.25m0 0l-1.5-1.5m1.5 1.5l1.5-1.5m-1.5 1.5l-1.5 1.5m0-1.5l1.5-1.5m0 0l1.5 1.5m0-1.5l-1.5-1.5"})}),bg=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 22.5l-.648-1.938a3.375 3.375 0 00-2.672-2.672L11.25 18l1.938-.648a3.375 3.375 0 002.672-2.672L16.25 13.5l.648 1.938a3.375 3.375 0 002.672 2.672L21 18l-1.938.648a3.375 3.375 0 00-2.672 2.672z"})}),PR=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),BR=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18"})}),OR=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-1.125 0-2.062.938-2.062 2.063v15.374c0 1.125.938 2.063 2.063 2.063h12.75c1.125 0 2.063-.938 2.063-2.063V8.625c0-1.125-.938-2.063-2.063-2.063h-4.5M10.125 2.25c.621 0 1.125.504 1.125 1.125v3.375c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-3.375c0-.621.504-1.125 1.125-1.125h1.5zM10.125 2.25v5.625"})}),kR=i=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9 9 0 00-9 9h27a9 9 0 00-9-9zM16.5 18.75V15m0-3V4.5A2.25 2.25 0 0014.25 2.25h-4.5A2.25 2.25 0 007.5 4.5v7.5m0 3v3.75m-3.75 0h15"})}),FR=()=>C.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-slate-500"}),JR=({student:i,onUpdateStudent:n})=>{const[o,s]=oe.useState(i.chatHistory),[r,f]=oe.useState(""),[p,g]=oe.useState(!1),[v,h]=oe.useState(null),y=oe.useRef(null),T=()=>{var I;(I=y.current)==null||I.scrollIntoView({behavior:"smooth"})};oe.useEffect(T,[o]),oe.useEffect(()=>{s(i.chatHistory)},[i.chatHistory]);const E=async I=>{const z=I||r;if(!z.trim()||p)return;const J={role:"user",content:z},k=[...o,J];s(k),f(""),g(!0),h(null);try{const B={role:"model",content:await HR(i,k,z)},ne=[...k,B];s(ne),n({...i,chatHistory:ne})}catch(F){console.error(F),h("       .    .")}finally{g(!1)}},A=I=>{const z={content:I,createdAt:new Date().toISOString()},J={...i,planHistory:[...i.planHistory,z]};n(J)},D=["    ","   "," 3    ","     "],U=I=>I.includes("###    (IEP)");return C.jsxs("div",{className:"flex flex-col h-[70vh] bg-white border border-slate-200 rounded-lg",children:[C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map((I,z)=>C.jsxs("div",{className:`flex items-start gap-3 ${I.role==="user"?"justify-end":""}`,children:[I.role==="model"&&C.jsx("div",{className:"p-2 bg-teal-500 rounded-full text-white",children:C.jsx(bg,{className:"w-6 h-6"})}),C.jsxs("div",{className:`max-w-xl p-3 rounded-lg ${I.role==="user"?"bg-sky-100 text-sky-900":"bg-slate-100 text-slate-800"}`,children:[I.role==="model"&&window.marked?C.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:window.marked.parse(I.content)}}):C.jsx("p",{className:"whitespace-pre-wrap",children:I.content}),I.role==="model"&&U(I.content)&&C.jsx("button",{onClick:()=>A(I.content),className:"mt-4 px-3 py-1 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}),I.role==="user"&&C.jsx("div",{className:"p-2 bg-sky-500 rounded-full text-white",children:C.jsx(wg,{className:"w-6 h-6"})})]},z)),C.jsx("div",{ref:y})]}),p&&C.jsxs("div",{className:"p-4 flex justify-center items-center gap-2 text-slate-500",children:[C.jsx(FR,{}),C.jsx("span",{children:"  ..."})]}),v&&C.jsx("div",{className:"p-4 text-center text-red-600 bg-red-100 border-t border-red-200",children:v}),C.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:[C.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:D.map(I=>C.jsx("button",{onClick:()=>E(I),disabled:p,className:"px-3 py-1 text-sm bg-teal-100 text-teal-800 rounded-full hover:bg-teal-200 disabled:opacity-50 transition",children:I},I))}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("textarea",{value:r,onChange:I=>f(I.target.value),onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),E())},placeholder:"  ...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition resize-none",rows:2,disabled:p}),C.jsx("button",{onClick:()=>E(),disabled:p,className:"px-4 py-2 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 disabled:bg-slate-400",children:""})]})]})]})},YR=({plans:i})=>{const[n,o]=oe.useState(i.length>0?0:null);return i.length===0?C.jsxs("div",{className:"bg-slate-100 p-6 rounded-lg text-center text-slate-500",children:[C.jsx("p",{children:"       ."}),C.jsx("p",{className:"text-sm",children:'      " ".'})]}):C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-bold text-teal-700 mb-6 border-b-2 border-teal-200 pb-2",children:"   "}),C.jsx("div",{className:"space-y-4",children:i.slice().reverse().map((s,r)=>{const f=i.length-1-r,p=n===f;return C.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[C.jsxs("button",{onClick:()=>o(p?null:f),className:"w-full text-right p-4 bg-slate-50 hover:bg-slate-100 flex justify-between items-center",children:[C.jsxs("span",{className:"font-bold text-slate-700",children:["  : ",new Date(s.createdAt).toLocaleDateString("ar-SA",{day:"2-digit",month:"long",year:"numeric"})]}),C.jsx("span",{className:`transform transition-transform ${p?"rotate-180":""}`,children:""})]}),p&&C.jsx("div",{className:"p-4 bg-white prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:window.marked?window.marked.parse(s.content):s.content}})]},s.createdAt)})})]})},KR=({children:i})=>C.jsx("h3",{className:"text-xl font-bold text-teal-700 mb-6 border-b-2 border-teal-200 pb-2",children:i}),XR=()=>C.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-slate-500"}),QR=({student:i})=>{const[n,o]=oe.useState("30"),[s,r]=oe.useState(null),[f,p]=oe.useState(!1),[g,v]=oe.useState(null),h=E=>E.toISOString().split("T")[0],y=async()=>{p(!0),v(null),r(null);const E=new Date,A=new Date;A.setDate(E.getDate()-parseInt(n));const D=i.sessionLogs.filter(U=>{const I=new Date(U.date);return I>=A&&I<=E});if(D.length===0){v("        ."),p(!1);return}try{const U=await VR(i,D,h(A),h(E));r(U)}catch(U){v("     .    ."),console.error(U)}finally{p(!1)}},T=()=>{window.print()};return C.jsxs("div",{children:[C.jsx(KR,{children:"   "}),C.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[C.jsx("p",{className:"text-slate-700 mb-4",children:"                   ."}),C.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-slate-700 mb-1",children:"  "}),C.jsxs("select",{id:"dateRange",value:n,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition bg-white",children:[C.jsx("option",{value:"7",children:" 7 "}),C.jsx("option",{value:"30",children:" 30 "})]})]}),C.jsx("button",{onClick:y,disabled:f,className:"w-full sm:w-auto px-6 py-2 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 disabled:bg-slate-400 transition-colors self-end h-[42px] flex items-center justify-center gap-2",children:f?C.jsxs(C.Fragment,{children:[C.jsx(XR,{}),C.jsx("span",{children:" ..."})]}):"  "})]})]}),g&&C.jsx("div",{className:"mt-4 p-3 text-center text-red-600 bg-red-100 border border-red-200 rounded-lg",children:g}),s&&C.jsxs("div",{id:"report-content-wrapper",className:"mt-6",children:[C.jsx("div",{className:"p-6 bg-white border border-slate-200 rounded-lg shadow",children:C.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:window.marked.parse(s)}})}),C.jsx("div",{className:"mt-4 text-right",children:C.jsx("button",{onClick:T,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:" /  PDF"})})]})]})},ZR=({student:i,onUpdateStudent:n,onDeleteStudent:o})=>{const[s,r]=oe.useState("sessions"),f=[{id:"aiAssistant",label:" ",icon:bg},{id:"planHistory",label:" ",icon:PR},{id:"achievedGoals",label:" ",icon:kR},{id:"reports",label:" ",icon:OR},{id:"sessions",label:" ",icon:BR},{id:"personalInfo",label:" ",icon:wg},{id:"diagnosis",label:" ",icon:Lh},{id:"caseStudy",label:" ",icon:Lh},{id:"assessment",label:" ",icon:zR}],p=()=>{switch(s){case"personalInfo":return C.jsx($R,{data:i.personalInfo,onSave:g=>n({...i,personalInfo:g})});case"diagnosis":return C.jsx(WR,{data:i.medicalDiagnosis,onSave:g=>n({...i,medicalDiagnosis:g})});case"caseStudy":return C.jsx(jR,{data:i.caseStudy,onSave:g=>n({...i,caseStudy:g})});case"assessment":return C.jsx(eN,{data:i.assessments,onSave:g=>n({...i,assessments:g})});case"aiAssistant":return C.jsx(JR,{student:i,onUpdateStudent:n});case"planHistory":return C.jsx(YR,{plans:i.planHistory});case"sessions":return C.jsx(tN,{sessionLogs:i.sessionLogs,upcomingSessions:i.upcomingSessions,onSave:(g,v)=>n({...i,sessionLogs:g,upcomingSessions:v})});case"reports":return C.jsx(QR,{student:i});case"achievedGoals":return C.jsx(nN,{achievedGoals:i.achievedGoals,onSave:g=>n({...i,achievedGoals:g})});default:return null}};return C.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-2xl shadow-lg",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-8 border-b border-slate-200 pb-6",children:[C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("img",{src:i.personalInfo.photoUrl,alt:i.personalInfo.fullName,className:"w-32 h-32 rounded-full object-cover ring-4 ring-offset-2 ring-teal-300"}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:i.personalInfo.fullName}),C.jsx("p",{className:"text-lg text-slate-500",children:i.medicalDiagnosis.primaryDiagnosis||"   "})]})]}),C.jsx("button",{onClick:()=>o(i.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:" "})]}),C.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[C.jsx("div",{className:"w-full md:w-1/4",children:C.jsx("ul",{className:"space-y-2",children:f.map(g=>C.jsx("li",{children:C.jsxs("button",{onClick:()=>r(g.id),className:`w-full text-right flex items-center gap-3 p-3 rounded-lg transition-colors ${s===g.id?"bg-teal-100 text-teal-700 font-bold":"text-slate-600 hover:bg-slate-100"}`,children:[C.jsx(g.icon,{className:"w-6 h-6"}),C.jsx("span",{children:g.label})]})},g.id))})}),C.jsx("div",{className:"w-full md:w-3/4",children:p()})]})]})},oo=({children:i})=>C.jsx("h3",{className:"text-xl font-bold text-teal-700 mb-6 border-b-2 border-teal-200 pb-2",children:i}),lo=({onCancel:i,onSave:n,isDirty:o})=>C.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[C.jsx("button",{onClick:i,disabled:!o,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),C.jsx("button",{onClick:n,disabled:!o,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" "})]}),Nt=({label:i,name:n,value:o,onChange:s,type:r="text"})=>C.jsxs("div",{children:[C.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-slate-700 mb-1",children:i}),C.jsx("input",{type:r,id:n,name:n,value:o,onChange:s,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition"})]}),Qt=({label:i,name:n,value:o,onChange:s,rows:r=3})=>C.jsxs("div",{children:[C.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-slate-700 mb-1",children:i}),C.jsx("textarea",{id:n,name:n,value:o,onChange:s,rows:r,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition"})]}),Gh=({label:i,name:n,value:o,onChange:s,options:r})=>C.jsxs("div",{children:[C.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-slate-700 mb-1",children:i}),C.jsx("select",{id:n,name:n,value:o,onChange:s,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition bg-white",children:r.map(f=>C.jsx("option",{value:f,children:f},f))})]}),$R=({data:i,onSave:n})=>{const[o,s]=oe.useState(i),[r,f]=oe.useState(!1);oe.useEffect(()=>{s(i),f(!1)},[i]),oe.useEffect(()=>{f(JSON.stringify(i)!==JSON.stringify(o))},[o,i]);const p=h=>s({...o,[h.target.name]:h.target.value}),g=()=>{n(o),f(!1)},v=()=>{s(i),f(!1)};return C.jsxs("div",{children:[C.jsx(oo,{children:" "}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsx(Nt,{label:" ",name:"fullName",value:o.fullName,onChange:p}),C.jsx(Nt,{label:" ",name:"studentId",value:o.studentId,onChange:p}),C.jsx(Nt,{label:" ",name:"dob",value:o.dob,onChange:p,type:"date"}),C.jsx(Nt,{label:"",name:"grade",value:o.grade,onChange:p}),C.jsx(Nt,{label:"   ",name:"parentContact",value:o.parentContact,onChange:p}),C.jsx(Nt,{label:" ",name:"enrollmentDate",value:o.enrollmentDate,onChange:p,type:"date"})]}),C.jsx(lo,{onCancel:v,onSave:g,isDirty:r})]})},WR=({data:i,onSave:n})=>{const[o,s]=oe.useState(i),[r,f]=oe.useState(!1);oe.useEffect(()=>{s(i),f(!1)},[i]),oe.useEffect(()=>{const{reportFile:y,...T}=o,{reportFile:E,...A}=i,D=(y==null?void 0:y.name)!==(E==null?void 0:E.name)||!!y!=!!E,U=JSON.stringify(T)!==JSON.stringify(A);f(D||U)},[o,i]);const p=y=>s({...o,[y.target.name]:y.target.value}),g=y=>{var E;const T=((E=y.target.files)==null?void 0:E[0])||null;s({...o,reportFile:T,reportFileSummary:T?void 0:i.reportFileSummary})},v=()=>{n(o),f(!1)},h=()=>{s(i),f(!1)};return C.jsxs("div",{children:[C.jsx(oo,{children:" "}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"primaryDiagnosis",className:"block text-sm font-medium text-slate-700 mb-1",children:" "}),C.jsxs("select",{id:"primaryDiagnosis",name:"primaryDiagnosis",value:o.primaryDiagnosis,onChange:p,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition bg-white",children:[C.jsx("option",{value:"",children:" "}),g0.map(y=>C.jsx("option",{value:y,children:y},y))]})]}),C.jsx(Nt,{label:" ",name:"secondaryDiagnoses",value:o.secondaryDiagnoses,onChange:p}),C.jsx(Nt,{label:" ",name:"diagnosisDate",value:o.diagnosisDate,onChange:p,type:"date"}),C.jsx(Nt,{label:" ",name:"diagnosingEntity",value:o.diagnosingEntity,onChange:p}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"reportFile",className:"block text-sm font-medium text-slate-700 mb-1",children:"   (PDF / )"}),C.jsx("input",{type:"file",id:"reportFile",name:"reportFile",onChange:g,accept:".pdf,.png,.jpg,.jpeg",className:"w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100"}),o.reportFile&&C.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[" : ",o.reportFile.name]}),o.reportFileSummary&&C.jsxs("div",{className:"mt-4 p-3 bg-slate-100 rounded-lg",children:[C.jsx("p",{className:"text-sm font-bold",children:" :"}),C.jsx("p",{className:"text-sm text-slate-700",children:o.reportFileSummary})]})]})]}),C.jsx(lo,{onCancel:h,onSave:v,isDirty:r})]})},jR=({data:i,onSave:n})=>{const[o,s]=oe.useState(i),[r,f]=oe.useState(!1);oe.useEffect(()=>{s(i),f(!1)},[i]),oe.useEffect(()=>{f(JSON.stringify(i)!==JSON.stringify(o))},[o,i]);const p=h=>s({...o,[h.target.name]:h.target.value}),g=()=>{n(o),f(!1)},v=()=>{s(i),f(!1)};return C.jsxs("div",{children:[C.jsx(oo,{children:"  ( )"}),C.jsxs("div",{className:"space-y-4",children:[C.jsx(Qt,{label:" ",name:"medicalHistory",value:o.medicalHistory,onChange:p}),C.jsx(Qt,{label:" ",name:"developmentalHistory",value:o.developmentalHistory,onChange:p}),C.jsx(Qt,{label:" ",name:"familySituation",value:o.familySituation,onChange:p}),C.jsx(Qt,{label:" ",name:"strengths",value:o.strengths,onChange:p}),C.jsx(Qt,{label:"",name:"challenges",value:o.challenges,onChange:p}),C.jsx(Qt,{label:" ",name:"prominentBehaviors",value:o.prominentBehaviors,onChange:p}),C.jsx(Qt,{label:" ",name:"interestsAndMotivators",value:o.interestsAndMotivators,onChange:p})]}),C.jsx(lo,{onCancel:v,onSave:g,isDirty:r})]})},eN=({data:i,onSave:n})=>{const[o,s]=oe.useState(i),[r,f]=oe.useState(!1);oe.useEffect(()=>{s(i),f(!1)},[i]),oe.useEffect(()=>{f(JSON.stringify(i)!==JSON.stringify(o))},[o,i]);const p=(h,y,T)=>{s(E=>({...E,[h]:{...E[h],[y]:T}}))},g=()=>{n(o),f(!1)},v=()=>{s(i),f(!1)};return C.jsxs("div",{children:[C.jsx(oo,{children:" "}),C.jsx("div",{className:"space-y-6",children:Object.entries(v0).map(([h,y])=>C.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[C.jsx("h4",{className:"font-bold text-slate-700 mb-2",children:y}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"text-sm text-slate-600",children:" (1=, 5=)"}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("input",{type:"range",min:"1",max:"5",value:o[h].level,onChange:T=>p(h,"level",parseInt(T.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-teal-500"}),C.jsx("span",{className:"font-bold text-teal-600 w-4 text-center",children:o[h].level})]})]}),C.jsx(Qt,{label:"",name:`${h}-notes`,value:o[h].notes,onChange:T=>p(h,"notes",T.target.value),rows:2})]})]},h))}),C.jsx(lo,{onCancel:v,onSave:g,isDirty:r})]})},tN=({sessionLogs:i,upcomingSessions:n,onSave:o})=>{const[s,r]=oe.useState(i),[f,p]=oe.useState(n),[g,v]=oe.useState(!1),[h,y]=oe.useState(""),[T,E]=oe.useState(new Date().toISOString().split("T")[0]),[A,D]=oe.useState(new Date().toTimeString().slice(0,5)),[U,I]=oe.useState(45),[z,J]=oe.useState(""),[k,F]=oe.useState(""),[B,ne]=oe.useState(45);oe.useEffect(()=>{r(i),p(n),v(!1)},[i,n]),oe.useEffect(()=>{const W=JSON.stringify({logs:i,sessions:n}),ge=JSON.stringify({logs:s,sessions:f});v(W!==ge)},[s,f,i,n]);const Y=()=>{if(!h.trim()||!T||!A)return;const W={id:`log-${Date.now()}`,date:T,time:A,duration:U,notes:h};r(ge=>[W,...ge].sort((De,H)=>new Date(`${H.date}T${H.time||"00:00"}`).getTime()-new Date(`${De.date}T${De.time||"00:00"}`).getTime())),y("")},de=W=>{r(ge=>ge.filter(De=>De.id!==W))},$=()=>{if(!z||!k)return;const W={id:`session-${Date.now()}`,date:z,time:k,duration:B};p(ge=>[...ge,W].sort((De,H)=>new Date(`${De.date}T${De.time}`).getTime()-new Date(`${H.date}T${H.time}`).getTime())),J(""),F("")},ce=W=>{p(ge=>ge.filter(De=>De.id!==W))},Te=()=>{o(s,f),v(!1)},Ne=()=>{r(i),p(n),v(!1)};return C.jsxs("div",{children:[C.jsx(oo,{children:"  "}),C.jsxs("div",{className:"mb-8 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[C.jsx("h4",{className:"font-bold text-slate-800 mb-3",children:"   "}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[C.jsx(Nt,{label:" ",name:"newLogDate",value:T,onChange:W=>E(W.target.value),type:"date"}),C.jsx(Nt,{label:" ",name:"newLogTime",value:A,onChange:W=>D(W.target.value),type:"time"}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"newLogDuration",className:"block text-sm font-medium text-slate-700 mb-1",children:"  ()"}),C.jsx("input",{type:"number",id:"newLogDuration",name:"newLogDuration",value:U,onChange:W=>I(parseInt(W.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition"})]})]}),C.jsx(Qt,{label:"   ",name:"newLogNotes",value:h,onChange:W=>y(W.target.value),rows:3}),C.jsx("div",{className:"text-right",children:C.jsx("button",{onClick:Y,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"+  "})})]})]}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h4",{className:"font-bold text-slate-800 mb-3",children:"  "}),C.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:s.length>0?s.map(W=>C.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-lg flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-bold text-teal-700",children:new Date(W.date).toLocaleDateString("ar-SA",{day:"2-digit",month:"long",year:"numeric"})}),W.time&&W.duration>0&&C.jsxs("p",{className:"text-sm text-slate-500",children:[": ",new Date(`1970-01-01T${W.time}`).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})," | : ",W.duration," "]}),C.jsx("p",{className:"text-slate-600 whitespace-pre-wrap mt-1",children:W.notes})]}),C.jsx("button",{onClick:()=>de(W.id),className:"text-red-500 hover:text-red-700 text-sm flex-shrink-0 ml-4",children:""})]},W.id)):C.jsx("p",{className:"text-slate-500 text-center py-4",children:"   ."})})]}),C.jsx("hr",{className:"my-8"}),C.jsxs("div",{className:"mb-8 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[C.jsx("h4",{className:"font-bold text-slate-800 mb-3",children:"  "}),C.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-4",children:[C.jsx("div",{className:"w-full sm:flex-1",children:C.jsx(Nt,{label:" ",name:"newSessionDate",value:z,onChange:W=>J(W.target.value),type:"date"})}),C.jsx("div",{className:"w-full sm:flex-1",children:C.jsx(Nt,{label:" ",name:"newSessionTime",value:k,onChange:W=>F(W.target.value),type:"time"})}),C.jsxs("div",{className:"w-full sm:w-40",children:[C.jsx("label",{htmlFor:"newSessionDuration",className:"block text-sm font-medium text-slate-700 mb-1",children:" ()"}),C.jsx("input",{type:"number",id:"newSessionDuration",name:"newSessionDuration",value:B,onChange:W=>ne(parseInt(W.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition"})]}),C.jsx("button",{onClick:$,className:"w-full sm:w-auto px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors self-end h-[42px]",children:"+  "})]})]}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h4",{className:"font-bold text-slate-800 mb-3",children:"  "}),C.jsx("div",{className:"space-y-3",children:f.length>0?f.map(W=>C.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-lg flex justify-between items-center",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-bold text-teal-700",children:new Date(W.date).toLocaleDateString("ar-SA",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})}),C.jsxs("p",{className:"text-slate-600",children:[": ",new Date(`1970-01-01T${W.time}`).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}),W.duration>0&&` | : ${W.duration} `]})]}),C.jsx("button",{onClick:()=>ce(W.id),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},W.id)):C.jsx("p",{className:"text-slate-500 text-center py-4",children:"    ."})})]}),C.jsx(lo,{onCancel:Ne,onSave:Te,isDirty:g})]})},nN=({achievedGoals:i,onSave:n})=>{const[o,s]=oe.useState(i),[r,f]=oe.useState(!1),[p,g]=oe.useState(""),[v,h]=oe.useState(em[0]),[y,T]=oe.useState(tm[0]);oe.useEffect(()=>{s(i),f(!1)},[i]),oe.useEffect(()=>{f(JSON.stringify(i)!==JSON.stringify(o))},[o,i]);const E=()=>{if(!p.trim())return;const U={id:`goal-${Date.now()}`,description:p,achievedAt:new Date().toISOString(),goalType:v,masteryLevel:y};s(I=>[U,...I].sort((z,J)=>new Date(J.achievedAt).getTime()-new Date(z.achievedAt).getTime())),g("")},A=()=>{n(o),f(!1)},D=()=>{s(i),f(!1)};return C.jsxs("div",{children:[C.jsx(oo,{children:"  "}),C.jsxs("div",{className:"mb-8 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[C.jsx("h4",{className:"font-bold text-slate-800 mb-3",children:"   "}),C.jsxs("div",{className:"space-y-4",children:[C.jsx(Qt,{label:"  ",name:"newGoalDescription",value:p,onChange:U=>g(U.target.value),rows:3}),C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[C.jsx(Gh,{label:" ",name:"newGoalType",value:v,onChange:U=>h(U.target.value),options:em}),C.jsx(Gh,{label:" ",name:"newMasteryLevel",value:y,onChange:U=>T(U.target.value),options:tm})]}),C.jsx("div",{className:"text-right",children:C.jsx("button",{onClick:E,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"+  "})})]})]}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-bold text-slate-800 mb-3",children:"   (  )"}),C.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:o.length>0?o.map(U=>C.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-lg",children:[C.jsx("p",{className:"text-slate-800 font-medium",children:U.description}),C.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mt-2",children:[C.jsx("span",{className:"bg-teal-100 text-teal-800 px-2 py-0.5 rounded-full",children:U.goalType}),C.jsxs("span",{className:"bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full",children:[": ",U.masteryLevel]}),C.jsx("span",{children:new Date(U.achievedAt).toLocaleString("ar-SA",{dateStyle:"medium",timeStyle:"short"})})]})]},U.id)):C.jsx("p",{className:"text-slate-500 text-center py-4",children:"     ."})})]}),C.jsx(lo,{onCancel:D,onSave:A,isDirty:r})]})},iN=()=>{const[i,n]=oe.useState(()=>{try{const h=window.localStorage.getItem("students");if(h)return console.log("Loaded students from localStorage:",h),JSON.parse(h)}catch(h){console.error("Error reading students from localStorage",h)}return[]}),[o,s]=oe.useState(null);oe.useEffect(()=>{try{window.localStorage.setItem("students",JSON.stringify(i))}catch(h){console.error("Error saving students to localStorage",h)}},[i]);const r=h=>{const y=i.find(T=>T.id===h);s(y||null)},f=h=>{n(y=>y.map(T=>T.id===h.id?h:T)),s(h)},p=h=>{window.confirm("               .")&&(n(y=>y.filter(T=>T.id!==h)),o&&o.id===h&&s(null),alert("   ."))},g=()=>{s(null)},v=()=>{const h={id:`student-${Date.now()}`,personalInfo:{fullName:" ",studentId:"",dob:"",grade:"",photoUrl:`https://picsum.photos/seed/${Date.now()}/200`,parentContact:"",enrollmentDate:new Date().toISOString().split("T")[0]},medicalDiagnosis:{primaryDiagnosis:"",secondaryDiagnoses:"",reportFile:null,diagnosisDate:"",diagnosingEntity:""},caseStudy:{medicalHistory:"",developmentalHistory:"",familySituation:"",strengths:"",challenges:"",prominentBehaviors:"",interestsAndMotivators:""},assessments:{academicSkills:{level:1,notes:""},languageAndCommunication:{level:1,notes:""},sensoryAndCognitiveSkills:{level:1,notes:""},socialSkills:{level:1,notes:""},behaviorAndSelfRegulation:{level:1,notes:""},motorSkills:{level:1,notes:""}},planHistory:[],chatHistory:[],sessionLogs:[],upcomingSessions:[],achievedGoals:[]};n(y=>[...y,h]),s(h)};return C.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-800 flex flex-col",children:[C.jsx("header",{className:"bg-white shadow-md sticky top-0 z-10",children:C.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(qR,{className:"w-10 h-10 text-teal-600"}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-teal-700",children:"  "}),C.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"|  "})]})]}),o&&C.jsx("button",{onClick:g,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"   "})]})}),C.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-grow",children:o?C.jsx(ZR,{student:o,onUpdateStudent:f,onDeleteStudent:p}):C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:" "}),C.jsxs("button",{onClick:v,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 flex items-center gap-2",children:[C.jsx("span",{children:"+"}),C.jsx("span",{children:"  "})]})]}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map(h=>C.jsx(h0,{student:h,onSelect:()=>r(h.id),onDelete:p},h.id))})]})}),C.jsx("footer",{className:"w-full text-center py-4 bg-white border-t border-slate-200",children:C.jsx("p",{className:"text-xs text-slate-500",children:"       "})})]})},Ug=document.getElementById("root");if(!Ug)throw new Error("Could not find root element to mount to");const oN=m0.createRoot(Ug);oN.render(C.jsx(s0.StrictMode,{children:C.jsx(iN,{})}));
